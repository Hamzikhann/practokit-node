(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Bdnu:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var a=c("fXoL"),s=c("tk/3"),i=c("EdIQ");let n=(()=>{class e{constructor(e,t){this.http=e,this.config=t,this.baseUrl=this.config.reqBaseUrl+"courses/"}getCourses(){return this.http.get(this.baseUrl,{observe:"response"})}addCourse(e){return this.http.post(this.baseUrl,e,{observe:"response"})}editCourse(e,t){return this.http.put(this.baseUrl+e,t,{observe:"response"})}deleteCourse(e,t){return this.http.put(this.baseUrl+e+"/status",t,{observe:"response"})}}return e.\u0275fac=function(t){return new(t||e)(a.jc(s.b),a.jc(i.a))},e.\u0275prov=a.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},CfA1:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var a=c("fXoL"),s=c("tk/3"),i=c("EdIQ");let n=(()=>{class e{constructor(e,t){this.http=e,this.config=t,this.baseUrl=this.config.reqBaseUrl+"classes/"}getClasses(e){return this.http.get(this.baseUrl+"course/"+e,{observe:"response"})}addClass(e){return this.http.post(this.baseUrl,e,{observe:"response"})}editClass(e,t){return this.http.put(this.baseUrl+e,t,{observe:"response"})}deleteClass(e,t){return this.http.put(this.baseUrl+e+"/status",t,{observe:"response"})}}return e.\u0275fac=function(t){return new(t||e)(a.jc(s.b),a.jc(i.a))},e.\u0275prov=a.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ENir:function(e,t,c){"use strict";c.r(t),c.d(t,"CoursesModule",(function(){return Oe}));var a=c("ofXK"),s=c("3Pt+"),i=c("tyNb"),n=c("fXoL"),o=c("Bdnu"),r=c("5eHb"),d=c("oOf3");function l(e,t){1&e&&(n.bc(0,"a",30),n.Oc(1,"Create New Course"),n.ac())}function b(e,t){1&e&&(n.bc(0,"th",37),n.Oc(1,"Actions"),n.ac())}function u(e,t){if(1&e){const e=n.cc();n.bc(0,"a",45),n.mc("click",(function(){n.Ec(e);const t=n.pc().$implicit;return n.pc(2).onModalOpen(t)})),n.Xb(1,"i",46),n.ac()}}function m(e,t){if(1&e){const e=n.cc();n.bc(0,"td"),n.bc(1,"a",47),n.mc("click",(function(){n.Ec(e);const t=n.pc().$implicit;return n.pc(2).onModalOpen(t)})),n.bc(2,"span",48),n.Oc(3,"Remove"),n.ac(),n.ac(),n.ac()}}function g(e,t){if(1&e){const e=n.cc();n.bc(0,"tr"),n.bc(1,"td"),n.Mc(2,u,2,0,"a",41),n.bc(3,"strong"),n.Oc(4),n.ac(),n.Xb(5,"br"),n.ac(),n.bc(6,"td"),n.bc(7,"a",42),n.mc("click",(function(){n.Ec(e);const c=t.$implicit;return n.pc(2).ViewSOS(c)})),n.Xb(8,"i",43),n.Oc(9,"View"),n.ac(),n.ac(),n.bc(10,"td"),n.bc(11,"a",42),n.mc("click",(function(){n.Ec(e);const c=t.$implicit;return n.pc(2).onCourseClick(c)})),n.Xb(12,"i",43),n.Oc(13,"View"),n.ac(),n.ac(),n.Mc(14,m,4,0,"td",44),n.ac()}if(2&e){const e=t.$implicit,c=n.pc(2);n.Ib(2),n.vc("ngIf","Admin"==c.user.role.title),n.Ib(2),n.Pc(e.name),n.Ib(10),n.vc("ngIf","Admin"==c.user.role.title)}}function p(e,t){if(1&e){const e=n.cc();n.bc(0,"pagination-controls",49),n.mc("pageChange",(function(t){return n.Ec(e),n.pc(2).p=t})),n.ac()}}const h=function(e){return{itemsPerPage:10,currentPage:e}};function v(e,t){if(1&e&&(n.bc(0,"div",31),n.bc(1,"div",32),n.bc(2,"div",33),n.bc(3,"div",34),n.bc(4,"table",35),n.bc(5,"thead"),n.bc(6,"tr"),n.bc(7,"th",36),n.Oc(8,"Course"),n.ac(),n.bc(9,"th",37),n.Oc(10,"Scheme of Studies"),n.ac(),n.bc(11,"th",37),n.Oc(12,"Sessions"),n.ac(),n.Mc(13,b,2,0,"th",38),n.ac(),n.ac(),n.bc(14,"tbody"),n.Mc(15,g,15,3,"tr",39),n.qc(16,"paginate"),n.ac(),n.ac(),n.Mc(17,p,1,0,"pagination-controls",40),n.ac(),n.ac(),n.ac(),n.ac()),2&e){const e=n.pc();n.Ib(13),n.vc("ngIf","Admin"==e.user.role.title),n.Ib(2),n.vc("ngForOf",n.sc(16,3,e.courses,n.zc(6,h,e.p))),n.Ib(2),n.vc("ngIf",e.courses.length>10)}}function f(e,t){1&e&&(n.bc(0,"div",50),n.Xb(1,"img",51),n.bc(2,"p"),n.Oc(3,"No Courses found"),n.ac(),n.ac())}function S(e,t){1&e&&(n.bc(0,"div",50),n.Xb(1,"img",52),n.ac())}const O=function(){return["/"]};let I=(()=>{class e{constructor(e,t,c){this.courseService=e,this.router=t,this.toastr=c,this.loading=!0,this.p=1,this.courses=[],this.selectedCourse={id:"",name:""}}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user")),this.getCourses()}getCourses(){this.courseService.getCourses().subscribe(e=>{this.courses=e.body,this.loading=!1})}onAddCourse(){this.courseService.addCourse({name:this.courseName}).subscribe(e=>{this.courseName="",this.getCourses()})}onCourseClick(e){delete e.classes,localStorage.setItem("course",JSON.stringify(e)),this.router.navigate(["/courses",e.id,"sessions"])}ViewSOS(e){delete e.classes,localStorage.setItem("course",JSON.stringify(e)),this.router.navigate(["/courses",e.id,"sos"])}onModalOpen(e){this.selectedCourse={id:e.id,name:e.name}}onEditCourse(){this.courseService.editCourse(this.selectedCourse.id,{name:this.selectedCourse.name}).subscribe(e=>{this.selectedCourse={id:"",name:""},this.getCourses()})}onDeleteCourse(){this.courseService.deleteCourse(this.selectedCourse.id,{status:"N"}).subscribe(e=>{this.selectedCourse={id:"",name:""},this.toastr.success("Course Removed."),this.getCourses()})}onModelOpen(e){this.selectedCourse={id:e.id,name:e.name}}}return e.\u0275fac=function(t){return new(t||e)(n.Wb(o.a),n.Wb(i.c),n.Wb(r.b))},e.\u0275cmp=n.Qb({type:e,selectors:[["app-courses"]],decls:73,vars:11,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#newCourse",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newCourse","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["type","text","id","new-course-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editCourse","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","id","edit-course-name","placeholder","Course Name",1,"form-control",3,"ngModel","ngModelChange"],["id","deleteCourse","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","p-0"],[1,"table","table-striped","table-courses","mb-0"],["scope","col",1,"w-50"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","mr-3","data-toggle","modal","href","javascript:void(0)","data-target","#editCourse",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"mt-2",3,"click"],[1,"fas","fa-arrow-circle-right","pr-2"],[4,"ngIf"],["data-toggle","modal","href","javascript:void(0)","data-target","#editCourse",1,"mr-3",3,"click"],[1,"fas","fa-edit"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteCourse",3,"click"],[1,"badge","badge-danger"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""]],template:function(e,t){1&e&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"nav",2),n.bc(3,"ol",3),n.bc(4,"li",4),n.bc(5,"a",5),n.Oc(6,"Dashboard"),n.ac(),n.ac(),n.bc(7,"li",6),n.Oc(8,"Courses"),n.ac(),n.ac(),n.ac(),n.bc(9,"div",7),n.Mc(10,l,2,0,"a",8),n.ac(),n.ac(),n.bc(11,"div",9),n.Mc(12,v,18,8,"div",10),n.Mc(13,f,4,0,"div",11),n.Mc(14,S,2,0,"div",11),n.ac(),n.ac(),n.bc(15,"div",12),n.bc(16,"div",13),n.bc(17,"div",14),n.bc(18,"div",15),n.bc(19,"h5",16),n.Oc(20,"New Course"),n.ac(),n.bc(21,"button",17),n.bc(22,"i",18),n.Oc(23,"close"),n.ac(),n.ac(),n.ac(),n.bc(24,"div",19),n.bc(25,"div",20),n.bc(26,"label"),n.Oc(27,"Title"),n.ac(),n.bc(28,"input",21),n.mc("ngModelChange",(function(e){return t.courseName=e})),n.ac(),n.ac(),n.ac(),n.bc(29,"div",22),n.bc(30,"button",23),n.Oc(31,"Cancel"),n.ac(),n.bc(32,"button",24),n.mc("click",(function(){return t.onAddCourse()})),n.Oc(33,"Create"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(34,"div",25),n.bc(35,"div",13),n.bc(36,"div",14),n.bc(37,"div",15),n.bc(38,"h5",16),n.Oc(39,"Edit Course"),n.ac(),n.bc(40,"button",17),n.bc(41,"i",18),n.Oc(42,"close"),n.ac(),n.ac(),n.ac(),n.bc(43,"div",19),n.bc(44,"div",20),n.bc(45,"label"),n.Oc(46,"Title"),n.ac(),n.bc(47,"input",26),n.mc("ngModelChange",(function(e){return t.selectedCourse.name=e})),n.ac(),n.ac(),n.ac(),n.bc(48,"div",22),n.bc(49,"button",23),n.Oc(50,"Cancel"),n.ac(),n.bc(51,"button",24),n.mc("click",(function(){return t.onEditCourse()})),n.Oc(52,"Update"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(53,"div",27),n.bc(54,"div",13),n.bc(55,"div",14),n.bc(56,"div",15),n.bc(57,"h5",16),n.Oc(58,"Remove Course"),n.ac(),n.bc(59,"button",17),n.bc(60,"i",18),n.Oc(61,"close"),n.ac(),n.ac(),n.ac(),n.bc(62,"div",19),n.bc(63,"p",28),n.Oc(64,"Are you sure you want to remove "),n.bc(65,"strong"),n.Oc(66),n.ac(),n.Oc(67,"?"),n.ac(),n.ac(),n.bc(68,"div",22),n.bc(69,"button",23),n.Oc(70,"Cancel"),n.ac(),n.bc(71,"button",29),n.mc("click",(function(){return t.onDeleteCourse()})),n.Oc(72,"Remove"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()),2&e&&(n.Ib(5),n.vc("routerLink",n.yc(10,O)),n.Ib(5),n.vc("ngIf","Admin"==t.user.role.title),n.Ib(2),n.vc("ngIf",t.courses.length),n.Ib(1),n.vc("ngIf",!t.courses.length&&!t.loading),n.Ib(1),n.vc("ngIf",t.loading),n.Ib(14),n.vc("ngModel",t.courseName),n.Ib(4),n.vc("disabled",!t.courseName),n.Ib(15),n.vc("ngModel",t.selectedCourse.name),n.Ib(4),n.vc("disabled",!t.selectedCourse.name),n.Ib(15),n.Pc(t.selectedCourse.name))},directives:[i.d,a.n,s.b,s.i,s.l,a.m,d.c],pipes:[d.b],styles:[""]}),e})();var y=c("wd/R"),M=c("tk/3"),C=c("EdIQ");let D=(()=>{class e{constructor(e,t){this.http=e,this.config=t,this.baseUrl=this.config.reqBaseUrl+"sos/"}getSOS(e){return this.http.get(this.baseUrl+e,{observe:"response"})}addSOS(e){return this.http.post(this.baseUrl,e,{observe:"response"})}editSOS(e,t){return this.http.put(this.baseUrl+e,t,{observe:"response"})}changeStatus(e,t){return this.http.put(this.baseUrl+e+"/status",t,{observe:"response"})}}return e.\u0275fac=function(t){return new(t||e)(n.jc(M.b),n.jc(C.a))},e.\u0275prov=n.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=c("CFL1"),E=c("1kSV");function w(e,t){1&e&&(n.bc(0,"a",41),n.Oc(1,"Add new"),n.ac())}function N(e,t){1&e&&(n.bc(0,"th",48),n.Oc(1,"Actions"),n.ac())}function T(e,t){if(1&e){const e=n.cc();n.bc(0,"a",54),n.mc("click",(function(){n.Ec(e);const t=n.pc().$implicit;return n.pc(2).onModalOpen(t)})),n.Xb(1,"i",55),n.ac()}}function x(e,t){if(1&e){const e=n.cc();n.bc(0,"td",56),n.bc(1,"a",57),n.mc("click",(function(){n.Ec(e);const t=n.pc().$implicit;return n.pc(2).RemoveSOS(t.id)})),n.bc(2,"span",58),n.Oc(3,"Remove"),n.ac(),n.ac(),n.ac()}}function A(e,t){if(1&e&&(n.bc(0,"tr"),n.bc(1,"td"),n.Mc(2,T,2,0,"a",52),n.Oc(3),n.ac(),n.bc(4,"td"),n.Oc(5),n.ac(),n.bc(6,"td"),n.Oc(7),n.ac(),n.Mc(8,x,4,0,"td",53),n.ac()),2&e){const e=t.$implicit,c=n.pc(2);n.Ib(2),n.vc("ngIf","Admin"==c.user.role.title),n.Ib(1),n.Qc(" ",e.title,""),n.Ib(2),n.Qc(" ",e.startDateFormatted," "),n.Ib(2),n.Pc(e.endDateFormatted),n.Ib(1),n.vc("ngIf","Admin"==c.user.role.title)}}function L(e,t){if(1&e){const e=n.cc();n.bc(0,"pagination-controls",59),n.mc("pageChange",(function(t){return n.Ec(e),n.pc(2).p=t})),n.ac()}}const j=function(e){return{itemsPerPage:10,currentPage:e}};function U(e,t){if(1&e&&(n.bc(0,"div",42),n.bc(1,"div",43),n.bc(2,"div",44),n.bc(3,"div",45),n.bc(4,"table",46),n.bc(5,"thead"),n.bc(6,"tr"),n.bc(7,"th",47),n.Oc(8,"Title"),n.ac(),n.bc(9,"th",47),n.Oc(10,"Start Date"),n.ac(),n.bc(11,"th",48),n.Oc(12,"End Date"),n.ac(),n.Mc(13,N,2,0,"th",49),n.ac(),n.ac(),n.bc(14,"tbody"),n.Mc(15,A,9,5,"tr",50),n.qc(16,"paginate"),n.ac(),n.ac(),n.Mc(17,L,1,0,"pagination-controls",51),n.ac(),n.ac(),n.ac(),n.ac()),2&e){const e=n.pc();n.Ib(13),n.vc("ngIf","Admin"==e.user.role.title),n.Ib(2),n.vc("ngForOf",n.sc(16,3,e.sosList,n.zc(6,j,e.p))),n.Ib(2),n.vc("ngIf",e.sosList.length>10)}}function _(e,t){1&e&&(n.bc(0,"div",60),n.Xb(1,"img",61),n.bc(2,"p"),n.Oc(3,"No Scheme of Studies found"),n.ac(),n.ac())}function F(e,t){1&e&&(n.bc(0,"div",60),n.Xb(1,"img",62),n.ac())}const P=function(){return["/"]},R=function(){return["/courses"]};let X=(()=>{class e{constructor(e,t,c,a,s){this.sosService=e,this.userService=t,this.router=c,this.toastr=a,this.calendar=s,this.loading=!0,this.p=1,this.sosList=[],this.addSOS={title:"",startDate:this.calendar.getToday(),endDate:this.calendar.getToday()},this.seletcedSOS={id:"",title:"",startDate:this.calendar.getToday(),endDate:this.calendar.getToday()}}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user")),this.course=JSON.parse(localStorage.getItem("course")),this.getSOS()}getSOS(){this.sosService.getSOS(this.course.id).subscribe(e=>{this.sosList=e.body,this.sosList.forEach(e=>{e.startDateFormatted=y(e.startDate).format("MMMM Do, YYYY"),e.endDateFormatted=y(e.endDate).format("MMMM Do, YYYY")}),this.loading=!1})}onAddSOS(){this.sosService.addSOS({title:this.addSOS.title,startDate:this.addSOS.startDate.month+"/"+this.addSOS.startDate.day+"/"+this.addSOS.startDate.year,endDate:this.addSOS.endDate.month+"/"+this.addSOS.endDate.day+"/"+this.addSOS.endDate.year,courseId:this.course.id}).subscribe(e=>{this.toastr.success("SOS Item added."),this.addSOS={title:"",startDate:this.calendar.getToday(),endDate:this.calendar.getToday()},this.getSOS()})}onModalOpen(e){var t=y(e.startDate).format("YYYY-MM-DD"),c=y(e.endDate).format("YYYY-MM-DD");this.seletcedSOS={id:e.id,title:e.title,startDate:{year:Number.parseInt(t.split("-")[0]),month:Number.parseInt(t.split("-")[1]),day:Number.parseInt(t.split("-")[2])},endDate:{year:Number.parseInt(c.split("-")[0]),month:Number.parseInt(c.split("-")[1]),day:Number.parseInt(c.split("-")[2])}}}onEditSOS(){this.sosService.editSOS(this.seletcedSOS.id,{title:this.seletcedSOS.title,startDate:this.seletcedSOS.startDate.month+"/"+this.seletcedSOS.startDate.day+"/"+this.seletcedSOS.startDate.year,endDate:this.seletcedSOS.endDate.month+"/"+this.seletcedSOS.endDate.day+"/"+this.seletcedSOS.endDate.year}).subscribe(e=>{this.toastr.success("Item updated."),this.seletcedSOS={id:"",title:"",startDate:this.calendar.getToday(),endDate:this.calendar.getToday()},this.getSOS()})}RemoveSOS(e){this.sosService.changeStatus(e,{status:"N"}).subscribe(e=>{this.seletcedSOS={id:"",title:"",startDate:this.calendar.getToday(),endDate:this.calendar.getToday()},this.toastr.success("Item Removed."),this.getSOS()})}}return e.\u0275fac=function(t){return new(t||e)(n.Wb(D),n.Wb(k.a),n.Wb(i.c),n.Wb(r.b),n.Wb(E.a))},e.\u0275cmp=n.Qb({type:e,selectors:[["app-course-sos"]],decls:103,vars:19,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["href","javascript:void(0)"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#newSOS",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newSOS","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["id","course-start","placeholder","Item Title",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-row"],[1,"col-md-6"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar","d-flex","align-items-center",3,"click"],[1,"material-icons-outlined"],["placeholder","yyyy-mm-dd","name","dp","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","minDate","ngModelChange"],["d1","ngbDatepicker"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editSOS","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","session_name","id","course-start","placeholder","Item Title",1,"form-control",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],["d3","ngbDatepicker"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","p-0"],[1,"table","table-striped","table-courses","mb-0"],["scope","col",2,"width","20%"],["scope","col",1,"text-center"],["class","text-center","scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","mr-3","data-toggle","modal","href","javascript:void(0)","data-target"," #editSOS",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],["data-toggle","modal","href","javascript:void(0)","data-target"," #editSOS",1,"mr-3",3,"click"],[1,"fas","fa-edit"],[1,"text-center"],["href","javascript:void(0)",3,"click"],[1,"badge","badge-danger"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""]],template:function(e,t){if(1&e){const e=n.cc();n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"nav",2),n.bc(3,"ol",3),n.bc(4,"li",4),n.bc(5,"a",5),n.Oc(6,"Dashboard"),n.ac(),n.ac(),n.bc(7,"li",4),n.bc(8,"a",5),n.Oc(9,"Courses"),n.ac(),n.ac(),n.bc(10,"li",6),n.bc(11,"a",7),n.Oc(12),n.ac(),n.ac(),n.bc(13,"li",8),n.Oc(14,"Scheme of Studies"),n.ac(),n.ac(),n.ac(),n.bc(15,"div",9),n.Mc(16,w,2,0,"a",10),n.ac(),n.ac(),n.bc(17,"div",11),n.Mc(18,U,18,8,"div",12),n.Mc(19,_,4,0,"div",13),n.Mc(20,F,2,0,"div",13),n.ac(),n.ac(),n.bc(21,"div",14),n.bc(22,"div",15),n.bc(23,"div",16),n.bc(24,"div",17),n.bc(25,"h5",18),n.Oc(26,"Add New"),n.ac(),n.bc(27,"button",19),n.bc(28,"i",20),n.Oc(29,"close"),n.ac(),n.ac(),n.ac(),n.bc(30,"div",21),n.bc(31,"div",22),n.bc(32,"label"),n.Oc(33,"Title"),n.ac(),n.bc(34,"input",23),n.mc("ngModelChange",(function(e){return t.addSOS.title=e})),n.ac(),n.ac(),n.bc(35,"div",22),n.bc(36,"div",24),n.bc(37,"div",25),n.bc(38,"label"),n.Oc(39,"Start Date"),n.ac(),n.bc(40,"div",26),n.bc(41,"input",27,28),n.mc("ngModelChange",(function(e){return t.addSOS.startDate=e})),n.ac(),n.bc(43,"div",29),n.bc(44,"button",30),n.mc("click",(function(){return n.Ec(e),n.Dc(42).toggle()})),n.bc(45,"i",31),n.Oc(46,"calendar_today"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(47,"div",25),n.bc(48,"label"),n.Oc(49,"End Date"),n.ac(),n.bc(50,"div",26),n.bc(51,"input",32,33),n.mc("ngModelChange",(function(e){return t.addSOS.endDate=e})),n.ac(),n.bc(53,"div",29),n.bc(54,"button",30),n.mc("click",(function(){return n.Ec(e),n.Dc(52).toggle()})),n.bc(55,"i",31),n.Oc(56,"calendar_today"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(57,"div",34),n.bc(58,"button",35),n.Oc(59,"Cancel"),n.ac(),n.bc(60,"button",36),n.mc("click",(function(){return t.onAddSOS()})),n.Oc(61,"Add"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(62,"div",37),n.bc(63,"div",15),n.bc(64,"div",16),n.bc(65,"div",17),n.bc(66,"h5",18),n.Oc(67,"Update Details"),n.ac(),n.bc(68,"button",19),n.bc(69,"i",20),n.Oc(70,"close"),n.ac(),n.ac(),n.ac(),n.bc(71,"div",21),n.bc(72,"div",22),n.bc(73,"label"),n.Oc(74,"Title"),n.ac(),n.bc(75,"input",38),n.mc("ngModelChange",(function(e){return t.seletcedSOS.title=e})),n.ac(),n.ac(),n.bc(76,"div",22),n.bc(77,"div",24),n.bc(78,"div",25),n.bc(79,"label"),n.Oc(80,"Start Time"),n.ac(),n.bc(81,"div",26),n.bc(82,"input",27,39),n.mc("ngModelChange",(function(e){return t.seletcedSOS.startDate=e})),n.ac(),n.bc(84,"div",29),n.bc(85,"button",30),n.mc("click",(function(){return n.Ec(e),n.Dc(83).toggle()})),n.bc(86,"i",31),n.Oc(87,"calendar_today"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(88,"div",25),n.bc(89,"label"),n.Oc(90,"End Time"),n.ac(),n.bc(91,"div",26),n.bc(92,"input",32,40),n.mc("ngModelChange",(function(e){return t.seletcedSOS.endDate=e})),n.ac(),n.bc(94,"div",29),n.bc(95,"button",30),n.mc("click",(function(){return n.Ec(e),n.Dc(93).toggle()})),n.bc(96,"i",31),n.Oc(97,"calendar_today"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(98,"div",34),n.bc(99,"button",35),n.Oc(100,"Cancel"),n.ac(),n.bc(101,"button",36),n.mc("click",(function(){return t.onEditSOS()})),n.Oc(102,"Update"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()}2&e&&(n.Ib(5),n.vc("routerLink",n.yc(17,P)),n.Ib(3),n.vc("routerLink",n.yc(18,R)),n.Ib(4),n.Pc(t.course.name),n.Ib(4),n.vc("ngIf","Admin"==t.user.role.title),n.Ib(2),n.vc("ngIf",t.sosList.length),n.Ib(1),n.vc("ngIf",!t.sosList.length&&!t.loading),n.Ib(1),n.vc("ngIf",t.loading),n.Ib(14),n.vc("ngModel",t.addSOS.title),n.Ib(7),n.vc("ngModel",t.addSOS.startDate),n.Ib(10),n.vc("ngModel",t.addSOS.endDate)("minDate",t.addSOS.startDate),n.Ib(9),n.vc("disabled",!t.addSOS.title||!t.addSOS.startDate||!t.addSOS.endDate),n.Ib(15),n.vc("ngModel",t.seletcedSOS.title),n.Ib(7),n.vc("ngModel",t.seletcedSOS.startDate),n.Ib(10),n.vc("ngModel",t.seletcedSOS.endDate)("minDate",t.seletcedSOS.startDate),n.Ib(9),n.vc("disabled",!t.seletcedSOS.title||!t.seletcedSOS.startDate||!t.seletcedSOS.endDate))},directives:[i.d,a.n,s.b,s.i,s.l,E.e,a.m,d.c],pipes:[d.b],styles:[""]}),e})();var $=c("CfA1");function Q(e,t){1&e&&(n.bc(0,"a",38),n.Oc(1,"Create New Session"),n.ac())}function Y(e,t){1&e&&(n.bc(0,"th",46),n.Oc(1,"Actions"),n.ac())}function W(e,t){if(1&e){const e=n.cc();n.bc(0,"a",55),n.mc("click",(function(){n.Ec(e);const t=n.pc().$implicit;return n.pc(2).onModalOpen(t)})),n.Xb(1,"i",56),n.ac()}}function J(e,t){if(1&e){const e=n.cc();n.bc(0,"td"),n.bc(1,"a",57),n.mc("click",(function(){n.Ec(e);const t=n.pc().$implicit;return n.pc(2).onModalOpen(t)})),n.bc(2,"span",58),n.Oc(3,"Remove"),n.ac(),n.ac(),n.ac()}}function q(e,t){if(1&e){const e=n.cc();n.bc(0,"tr"),n.bc(1,"td"),n.Mc(2,W,2,0,"a",50),n.Oc(3),n.ac(),n.bc(4,"td"),n.Oc(5),n.ac(),n.bc(6,"td"),n.Oc(7),n.ac(),n.bc(8,"td",51),n.bc(9,"a",52),n.mc("click",(function(){n.Ec(e);const c=t.$implicit;return n.pc(2).ViewEnrollments(c)})),n.bc(10,"span",53),n.Oc(11,"View"),n.ac(),n.ac(),n.ac(),n.Mc(12,J,4,0,"td",54),n.ac()}if(2&e){const e=t.$implicit,c=n.pc(2);n.Ib(2),n.vc("ngIf","Admin"==c.user.role.title),n.Ib(1),n.Qc(" ",e.title,""),n.Ib(2),n.Qc(" ",e.user?e.user.firstName+" "+e.user.lastName:"No Instructor assigned"," "),n.Ib(2),n.Pc(e.startTime+" - "+e.endTime),n.Ib(5),n.vc("ngIf","Admin"==c.user.role.title)}}function B(e,t){if(1&e){const e=n.cc();n.bc(0,"pagination-controls",59),n.mc("pageChange",(function(t){return n.Ec(e),n.pc(2).p=t})),n.ac()}}const V=function(e){return{itemsPerPage:10,currentPage:e}};function z(e,t){if(1&e&&(n.bc(0,"div",39),n.bc(1,"div",40),n.bc(2,"div",41),n.bc(3,"div",42),n.bc(4,"table",43),n.bc(5,"thead"),n.bc(6,"tr"),n.bc(7,"th",44),n.Oc(8,"Session Name"),n.ac(),n.bc(9,"th",45),n.Oc(10,"Instructor"),n.ac(),n.bc(11,"th",45),n.Oc(12,"Timing"),n.ac(),n.bc(13,"th",46),n.Oc(14,"Enrollments"),n.ac(),n.Mc(15,Y,2,0,"th",47),n.ac(),n.ac(),n.bc(16,"tbody"),n.Mc(17,q,13,5,"tr",48),n.qc(18,"paginate"),n.ac(),n.ac(),n.Mc(19,B,1,0,"pagination-controls",49),n.ac(),n.ac(),n.ac(),n.ac()),2&e){const e=n.pc();n.Ib(15),n.vc("ngIf","Admin"==e.user.role.title),n.Ib(2),n.vc("ngForOf",n.sc(18,3,e.sessions,n.zc(6,V,e.p))),n.Ib(2),n.vc("ngIf",e.sessions.length>10)}}function H(e,t){1&e&&(n.bc(0,"div",60),n.Xb(1,"img",61),n.bc(2,"p"),n.Oc(3,"No Sessions found"),n.ac(),n.ac())}function K(e,t){1&e&&(n.bc(0,"div",60),n.Xb(1,"img",62),n.ac())}function G(e,t){if(1&e&&(n.bc(0,"option",63),n.Oc(1),n.ac()),2&e){const e=t.$implicit;n.wc("value",e.id),n.Ib(1),n.Qc(" ",e.firstName+" "+e.lastName,"")}}function Z(e,t){if(1&e&&(n.bc(0,"option",63),n.Oc(1),n.ac()),2&e){const e=t.$implicit;n.wc("value",e.id),n.Ib(1),n.Qc(" ",e.firstName+" "+e.lastName,"")}}const ee=function(){return["/"]},te=function(){return["/courses"]};let ce=(()=>{class e{constructor(e,t,c,a){this.classService=e,this.userService=t,this.router=c,this.toastr=a,this.loading=!0,this.p=1,this.sessions=[],this.instructors=[],this.session={name:"",instructorId:"",startTime:"",endTime:""},this.selectedSession={id:"",name:"",instructorId:"",instructor:"",startTime:"",endTime:""}}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user")),this.course=JSON.parse(localStorage.getItem("course")),this.getClasses(),this.getInstructors()}getClasses(){this.classService.getClasses(this.course.id).subscribe(e=>{this.sessions=e.body,this.sessions.forEach(e=>{var t=e.timing.split(" - ")[0],c=e.timing.split(" - ")[1];e.startTime=t.split(":")[0]>12?t.split(":")[0]-12+":"+t.split(":")[1]+" PM":t+" AM",e.endTime=c.split(":")[0]>12?c.split(":")[0]-12+":"+c.split(":")[1]+" PM":c+" AM"}),this.loading=!1})}getInstructors(){this.userService.getUsers("instructor").subscribe(e=>{this.instructors=e.body})}onAddSession(){this.classService.addClass({title:this.session.name,taughtBy:this.session.instructorId,timing:this.session.startTime+" - "+this.session.endTime,courseId:this.course.id}).subscribe(e=>{this.session={name:"",instructorId:"",startTime:"",endTime:""},this.getClasses()})}ViewEnrollments(e){localStorage.setItem("session",JSON.stringify({id:e.id,instructor:e.user})),this.router.navigate(["/courses",this.course.id,"sessions",e.id,"enrollments"])}onModalOpen(e){this.selectedSession={id:e.id,name:e.title,instructorId:e.taughtBy?e.taughtBy:"",instructor:e.user?e.user.firstName+" "+e.user.lastName:"No instructor assigned",startTime:e.timing.split(" - ")[0],endTime:e.timing.split(" - ")[1]}}onEditSession(){this.classService.editClass(this.selectedSession.id,{title:this.selectedSession.name,taughtBy:this.selectedSession.instructorId,timing:this.selectedSession.startTime+" - "+this.selectedSession.endTime,courseId:this.course.id}).subscribe(e=>{this.selectedSession={id:"",name:"",instructorId:"",instructor:"",startTime:"",endTime:""},this.toastr.success("Session Details Updated."),this.getClasses()})}onDeleteSession(){this.classService.deleteClass(this.selectedSession.id,{status:"N"}).subscribe(e=>{this.selectedSession={id:"",name:"",instructorId:"",instructor:"",startTime:"",endTime:""},this.toastr.success("Session Removed."),this.getClasses()})}}return e.\u0275fac=function(t){return new(t||e)(n.Wb($.a),n.Wb(k.a),n.Wb(i.c),n.Wb(r.b))},e.\u0275cmp=n.Qb({type:e,selectors:[["app-courses-sessions"]],decls:113,vars:22,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["href","javascript:void(0)"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#newSession",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newSession","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["type","session_name","id","course-start","placeholder","Session Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-row"],[1,"col-md-6"],["type","time","id","course-start","placeholder","01:00 PM",1,"form-control",3,"ngModel","ngModelChange"],["type","time","id","course-end","placeholder","02:00 PM",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editSession","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteSession","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","p-0"],[1,"table","table-striped","table-courses","mb-0"],["scope","col"],["scope","col",2,"width","20%"],["scope","col",1,"text-center"],["class","text-center","scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","mr-3","data-toggle","modal","href","javascript:void(0)","data-target"," #editSession",3,"click",4,"ngIf"],[1,"text-center"],["href","javascript:void(0)",3,"click"],[1,"badge","badge-primary"],[4,"ngIf"],["data-toggle","modal","href","javascript:void(0)","data-target"," #editSession",1,"mr-3",3,"click"],[1,"fas","fa-edit"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteSession",3,"click"],[1,"badge","badge-danger"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""],[3,"value"]],template:function(e,t){1&e&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"nav",2),n.bc(3,"ol",3),n.bc(4,"li",4),n.bc(5,"a",5),n.Oc(6,"Dashboard"),n.ac(),n.ac(),n.bc(7,"li",4),n.bc(8,"a",5),n.Oc(9,"Courses"),n.ac(),n.ac(),n.bc(10,"li",6),n.bc(11,"a",7),n.Oc(12),n.ac(),n.ac(),n.bc(13,"li",8),n.Oc(14,"Sessions"),n.ac(),n.ac(),n.ac(),n.bc(15,"div",9),n.Mc(16,Q,2,0,"a",10),n.ac(),n.ac(),n.bc(17,"div",11),n.Mc(18,z,20,8,"div",12),n.Mc(19,H,4,0,"div",13),n.Mc(20,K,2,0,"div",13),n.ac(),n.ac(),n.bc(21,"div",14),n.bc(22,"div",15),n.bc(23,"div",16),n.bc(24,"div",17),n.bc(25,"h5",18),n.Oc(26,"New Session"),n.ac(),n.bc(27,"button",19),n.bc(28,"i",20),n.Oc(29,"close"),n.ac(),n.ac(),n.ac(),n.bc(30,"div",21),n.bc(31,"div",22),n.bc(32,"label"),n.Oc(33,"Session Name"),n.ac(),n.bc(34,"input",23),n.mc("ngModelChange",(function(e){return t.session.name=e})),n.ac(),n.ac(),n.bc(35,"div",22),n.bc(36,"label"),n.Oc(37,"Instructor"),n.ac(),n.bc(38,"select",24),n.mc("ngModelChange",(function(e){return t.session.instructorId=e})),n.bc(39,"option",25),n.Oc(40,"Choose..."),n.ac(),n.Mc(41,G,2,2,"option",26),n.ac(),n.ac(),n.bc(42,"div",22),n.bc(43,"div",27),n.bc(44,"div",28),n.bc(45,"label"),n.Oc(46,"Start Time"),n.ac(),n.bc(47,"input",29),n.mc("ngModelChange",(function(e){return t.session.startTime=e})),n.ac(),n.ac(),n.bc(48,"div",28),n.bc(49,"label"),n.Oc(50,"End Time"),n.ac(),n.bc(51,"input",30),n.mc("ngModelChange",(function(e){return t.session.endTime=e})),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(52,"div",31),n.bc(53,"button",32),n.Oc(54,"Cancel"),n.ac(),n.bc(55,"button",33),n.mc("click",(function(){return t.onAddSession()})),n.Oc(56,"Add"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(57,"div",34),n.bc(58,"div",15),n.bc(59,"div",16),n.bc(60,"div",17),n.bc(61,"h5",18),n.Oc(62,"Update Session"),n.ac(),n.bc(63,"button",19),n.bc(64,"i",20),n.Oc(65,"close"),n.ac(),n.ac(),n.ac(),n.bc(66,"div",21),n.bc(67,"div",22),n.bc(68,"label"),n.Oc(69,"Session Name"),n.ac(),n.bc(70,"input",23),n.mc("ngModelChange",(function(e){return t.selectedSession.name=e})),n.ac(),n.ac(),n.bc(71,"div",22),n.bc(72,"label"),n.Oc(73,"Instructor"),n.ac(),n.bc(74,"select",24),n.mc("ngModelChange",(function(e){return t.selectedSession.instructorId=e})),n.bc(75,"option",25),n.Oc(76,"Choose..."),n.ac(),n.Mc(77,Z,2,2,"option",26),n.ac(),n.ac(),n.bc(78,"div",22),n.bc(79,"div",27),n.bc(80,"div",28),n.bc(81,"label"),n.Oc(82,"Start Time"),n.ac(),n.bc(83,"input",29),n.mc("ngModelChange",(function(e){return t.selectedSession.startTime=e})),n.ac(),n.ac(),n.bc(84,"div",28),n.bc(85,"label"),n.Oc(86,"End Time"),n.ac(),n.bc(87,"input",30),n.mc("ngModelChange",(function(e){return t.selectedSession.endTime=e})),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(88,"div",31),n.bc(89,"button",32),n.Oc(90,"Cancel"),n.ac(),n.bc(91,"button",33),n.mc("click",(function(){return t.onEditSession()})),n.Oc(92,"Update"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(93,"div",35),n.bc(94,"div",15),n.bc(95,"div",16),n.bc(96,"div",17),n.bc(97,"h5",18),n.Oc(98,"Remove Session"),n.ac(),n.bc(99,"button",19),n.bc(100,"i",20),n.Oc(101,"close"),n.ac(),n.ac(),n.ac(),n.bc(102,"div",21),n.bc(103,"p",36),n.Oc(104,"Are you sure you want to remove "),n.bc(105,"strong"),n.Oc(106),n.ac(),n.Oc(107,"?"),n.ac(),n.ac(),n.bc(108,"div",31),n.bc(109,"button",32),n.Oc(110,"Cancel"),n.ac(),n.bc(111,"button",37),n.mc("click",(function(){return t.onDeleteSession()})),n.Oc(112,"Remove"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()),2&e&&(n.Ib(5),n.vc("routerLink",n.yc(20,ee)),n.Ib(3),n.vc("routerLink",n.yc(21,te)),n.Ib(4),n.Pc(t.course.name),n.Ib(4),n.vc("ngIf","Admin"==t.user.role.title),n.Ib(2),n.vc("ngIf",t.sessions.length),n.Ib(1),n.vc("ngIf",!t.sessions.length&&!t.loading),n.Ib(1),n.vc("ngIf",t.loading),n.Ib(14),n.vc("ngModel",t.session.name),n.Ib(4),n.vc("ngModel",t.session.instructorId),n.Ib(3),n.vc("ngForOf",t.instructors),n.Ib(6),n.vc("ngModel",t.session.startTime),n.Ib(4),n.vc("ngModel",t.session.endTime),n.Ib(4),n.vc("disabled",!t.session.instructorId||!t.session.startTime||!t.session.endTime),n.Ib(15),n.vc("ngModel",t.selectedSession.name),n.Ib(4),n.vc("ngModel",t.selectedSession.instructorId),n.Ib(3),n.vc("ngForOf",t.instructors),n.Ib(6),n.vc("ngModel",t.selectedSession.startTime),n.Ib(4),n.vc("ngModel",t.selectedSession.endTime),n.Ib(4),n.vc("disabled",!t.selectedSession.instructorId||!t.selectedSession.startTime||!t.selectedSession.endTime),n.Ib(15),n.Pc(t.selectedSession.name))},directives:[i.d,a.n,s.b,s.i,s.l,s.q,s.m,s.s,a.m,d.c],pipes:[d.b],styles:[""]}),e})(),ae=(()=>{class e{constructor(e,t){this.http=e,this.config=t,this.baseUrl=this.config.reqBaseUrl+"enrollments/"}getEnrollments(e){return this.http.get(this.baseUrl+"class/"+e,{observe:"response"})}getNotEnrolled(e){return this.http.get(this.baseUrl+"class/"+e+"/notEnrolled",{observe:"response"})}updateEnrollments(e){return this.http.put(this.baseUrl,e,{observe:"response"})}removeEnrollment(e){return this.http.delete(this.baseUrl+e,{observe:"response"})}}return e.\u0275fac=function(t){return new(t||e)(n.jc(M.b),n.jc(C.a))},e.\u0275prov=n.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function se(e,t){1&e&&(n.bc(0,"a",39),n.Oc(1,"Add/Update Enrollments"),n.ac())}function ie(e,t){1&e&&(n.bc(0,"th",44),n.Oc(1,"Action"),n.ac())}function ne(e,t){if(1&e){const e=n.cc();n.bc(0,"td",46),n.bc(1,"div",47),n.bc(2,"a",48),n.mc("click",(function(){n.Ec(e);const t=n.pc().$implicit;return n.pc(2).onDeleteModal(t)})),n.Xb(3,"i",49),n.Oc(4,"Remove"),n.ac(),n.ac(),n.ac()}}const oe=function(e){return["/users",e,"profile"]};function re(e,t){if(1&e&&(n.bc(0,"tr"),n.bc(1,"td"),n.bc(2,"a",5),n.Oc(3),n.ac(),n.ac(),n.Mc(4,ne,5,0,"td",45),n.ac()),2&e){const e=t.$implicit,c=n.pc(2);n.Ib(2),n.vc("routerLink",n.zc(3,oe,e.userId)),n.Ib(1),n.Qc(" ",e.user.firstName+" "+e.user.lastName," "),n.Ib(1),n.vc("ngIf","Admin"==c.user.role.title)}}const de=function(e){return{itemsPerPage:10,currentPage:e}};function le(e,t){if(1&e&&(n.bc(0,"table",40),n.bc(1,"thead"),n.bc(2,"tr"),n.bc(3,"th",41),n.Oc(4,"Students"),n.ac(),n.Mc(5,ie,2,0,"th",42),n.ac(),n.ac(),n.bc(6,"tbody"),n.Mc(7,re,5,5,"tr",43),n.qc(8,"paginate"),n.ac(),n.ac()),2&e){const e=n.pc();n.Ib(5),n.vc("ngIf","Admin"==e.user.role.title),n.Ib(2),n.vc("ngForOf",n.sc(8,2,e.enrollments,n.zc(5,de,e.p)))}}function be(e,t){if(1&e){const e=n.cc();n.bc(0,"pagination-controls",50),n.mc("pageChange",(function(t){return n.Ec(e),n.pc().p=t})),n.ac()}}function ue(e,t){1&e&&(n.bc(0,"div",51),n.Xb(1,"img",52),n.bc(2,"p"),n.Oc(3,"No Enrollments found"),n.ac(),n.ac())}function me(e,t){1&e&&(n.bc(0,"div",51),n.Xb(1,"img",53),n.ac())}function ge(e,t){if(1&e&&(n.bc(0,"option",54),n.Oc(1),n.ac()),2&e){const e=t.$implicit;n.wc("value",e.id),n.Ib(1),n.Qc(" ",e.firstName+" "+e.lastName,"")}}function pe(e,t){if(1&e){const e=n.cc();n.bc(0,"span",55),n.Oc(1),n.bc(2,"i",56),n.mc("click",(function(){n.Ec(e);const c=t.$implicit;return n.pc().onRemove(c)})),n.ac(),n.ac()}if(2&e){const e=t.$implicit;n.Ib(1),n.Qc(" ",e.firstName," ")}}const he=function(){return["/"]},ve=function(){return["/courses"]},fe=function(e){return["/courses",e,"sessions"]},Se=[{path:"",component:I},{path:":courseId/sos",component:X},{path:":courseId/sessions",component:ce},{path:":courseId/sessions/:sessionId/enrollments",component:(()=>{class e{constructor(e,t,c){this.enrollmentService=e,this.userService=t,this.toastr=c,this.loading=!0,this.p=1,this.enrollments=[],this.students=[],this.selected_students=[],this.remove_student={id:"",first_name:"",last_name:""}}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user")),this.course=JSON.parse(localStorage.getItem("course")),this.session=JSON.parse(localStorage.getItem("session")),this.getEnrollments(),this.getStudents()}getEnrollments(){this.enrollmentService.getEnrollments(this.session.id).subscribe(e=>{this.enrollments=e.body.enrollments,this.loading=!1})}getStudents(){this.enrollmentService.getNotEnrolled(this.session.id).subscribe(e=>{this.students=e.body.enrollments})}onSelect(e){this.students.forEach((t,c)=>{t.id==e&&(this.selected_students.push(t),this.students.splice(c,1))})}onRemove(e){this.selected_students.forEach((t,c)=>{e.id==t.id&&(this.students.push(e),this.selected_students.splice(c,1))})}updateEnrollments(){var e=[];this.selected_students.forEach(t=>{e.push(t.id)}),this.enrollmentService.updateEnrollments({userIds:e,classId:this.session.id}).subscribe(e=>{this.selected_students=[],this.toastr.success("Class enrollments updated."),this.getEnrollments(),this.getStudents()})}onDeleteModal(e){this.remove_student={id:e.id,first_name:e.user.firstName,last_name:e.user.lastName},console.log(this.remove_student.id)}onStudentRemove(){this.enrollmentService.removeEnrollment(this.remove_student.id).subscribe(e=>{this.toastr.success(this.remove_student.first_name+" has been removed."),this.getEnrollments(),this.getStudents()})}}return e.\u0275fac=function(t){return new(t||e)(n.Wb(ae),n.Wb(k.a),n.Wb(r.b))},e.\u0275cmp=n.Qb({type:e,selectors:[["app-courses-sessions-enrollments"]],decls:75,vars:18,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["href","javascript:void(0)"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#updateEnrollments",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","pt-0"],[1,"table-responsive"],["class","table table-striped table-courses",4,"ngIf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","updateEnrollments","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],[1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","badge badge-pill badge-secondary",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","removeEnrollment","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"table","table-striped","table-courses"],["scope","col"],["class","text-center","scope","col","width","10%",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col","width","10%",1,"text-center"],["class","text-center",4,"ngIf"],[1,"text-center"],["data-toggle","modal","data-target","#removeEnrollment"],["href","javascript:void(0)",3,"click"],[1,"fas","fa-minus-circle","pr-2"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""],[3,"value"],[1,"badge","badge-pill","badge-secondary"],[1,"fas","fa-minus-square","pl-2",3,"click"]],template:function(e,t){1&e&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"nav",2),n.bc(3,"ol",3),n.bc(4,"li",4),n.bc(5,"a",5),n.Oc(6,"Dashboard"),n.ac(),n.ac(),n.bc(7,"li",4),n.bc(8,"a",5),n.Oc(9,"Courses"),n.ac(),n.ac(),n.bc(10,"li",6),n.bc(11,"a",7),n.Oc(12),n.ac(),n.ac(),n.bc(13,"li",4),n.bc(14,"a",5),n.Oc(15),n.ac(),n.ac(),n.bc(16,"li",8),n.Oc(17,"Enrollments"),n.ac(),n.ac(),n.ac(),n.bc(18,"div",9),n.Mc(19,se,2,0,"a",10),n.ac(),n.ac(),n.bc(20,"div",11),n.bc(21,"div",12),n.bc(22,"div",13),n.bc(23,"div",14),n.bc(24,"div",15),n.bc(25,"div",16),n.Mc(26,le,9,7,"table",17),n.Mc(27,be,1,0,"pagination-controls",18),n.Mc(28,ue,4,0,"div",19),n.Mc(29,me,2,0,"div",19),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(30,"div",20),n.bc(31,"div",21),n.bc(32,"div",22),n.bc(33,"div",23),n.bc(34,"h5",24),n.Oc(35,"Update Enrollments"),n.ac(),n.bc(36,"button",25),n.bc(37,"i",26),n.Oc(38,"close"),n.ac(),n.ac(),n.ac(),n.bc(39,"div",27),n.bc(40,"form"),n.bc(41,"div",28),n.bc(42,"label"),n.Oc(43,"Students"),n.ac(),n.bc(44,"select",29),n.mc("change",(function(e){return t.onSelect(e.target.value)})),n.bc(45,"option",30),n.Oc(46,"Select students you want to add..."),n.ac(),n.Mc(47,ge,2,2,"option",31),n.ac(),n.ac(),n.bc(48,"div"),n.Mc(49,pe,3,1,"span",32),n.ac(),n.ac(),n.ac(),n.bc(50,"div",33),n.bc(51,"button",34),n.Oc(52,"Cancel"),n.ac(),n.bc(53,"button",35),n.mc("click",(function(){return t.updateEnrollments()})),n.Oc(54,"Add"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.bc(55,"div",36),n.bc(56,"div",21),n.bc(57,"div",22),n.bc(58,"div",23),n.bc(59,"h5",24),n.Oc(60,"Remove Student"),n.ac(),n.bc(61,"button",25),n.bc(62,"i",26),n.Oc(63,"close"),n.ac(),n.ac(),n.ac(),n.bc(64,"div",27),n.bc(65,"p",37),n.Oc(66,"Are you sure you want to remove "),n.bc(67,"strong"),n.Oc(68),n.ac(),n.Oc(69," from this session?"),n.ac(),n.ac(),n.bc(70,"div",33),n.bc(71,"button",34),n.Oc(72,"Cancel"),n.ac(),n.bc(73,"button",38),n.mc("click",(function(){return t.onStudentRemove()})),n.Oc(74,"Remove"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()),2&e&&(n.Ib(5),n.vc("routerLink",n.yc(14,he)),n.Ib(3),n.vc("routerLink",n.yc(15,ve)),n.Ib(4),n.Pc(t.course.name),n.Ib(2),n.vc("routerLink",n.zc(16,fe,t.course.id)),n.Ib(1),n.Pc(t.session.instructor.firstName+"'s Sessions"),n.Ib(4),n.vc("ngIf","Admin"==t.user.role.title),n.Ib(7),n.vc("ngIf",t.enrollments.length),n.Ib(1),n.vc("ngIf",t.enrollments.length>10),n.Ib(1),n.vc("ngIf",!t.enrollments.length&&!t.loading),n.Ib(1),n.vc("ngIf",t.loading),n.Ib(18),n.vc("ngForOf",t.students),n.Ib(2),n.vc("ngForOf",t.selected_students),n.Ib(4),n.vc("disabled",!t.selected_students.length),n.Ib(15),n.Pc(t.remove_student.first_name+" "+t.remove_student.last_name))},directives:[i.d,a.n,s.t,s.j,s.k,s.m,s.s,a.m,d.c],pipes:[d.b],styles:[""]}),e})()}];let Oe=(()=>{class e{}return e.\u0275mod=n.Ub({type:e}),e.\u0275inj=n.Tb({factory:function(t){return new(t||e)},imports:[[a.b,s.d,d.a,E.f,i.e.forChild(Se)]]}),e})()}}]);