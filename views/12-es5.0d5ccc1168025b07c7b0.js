!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var c=0;c<t.length;c++){var a=t[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,c,a){return c&&t(e.prototype,c),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Bdnu:function(t,a,n){"use strict";n.d(a,"a",(function(){return r}));var i=n("fXoL"),s=n("tk/3"),o=n("EdIQ"),r=function(){var t=function(){function t(c,a){e(this,t),this.http=c,this.config=a,this.baseUrl=this.config.reqBaseUrl+"courses/"}return c(t,[{key:"getCourses",value:function(){return this.http.get(this.baseUrl,{observe:"response"})}},{key:"addCourse",value:function(e){return this.http.post(this.baseUrl,e,{observe:"response"})}},{key:"editCourse",value:function(e,t){return this.http.put(this.baseUrl+e,t,{observe:"response"})}},{key:"deleteCourse",value:function(e,t){return this.http.put(this.baseUrl+e+"/status",t,{observe:"response"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.jc(s.b),i.jc(o.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},CfA1:function(t,a,n){"use strict";n.d(a,"a",(function(){return r}));var i=n("fXoL"),s=n("tk/3"),o=n("EdIQ"),r=function(){var t=function(){function t(c,a){e(this,t),this.http=c,this.config=a,this.baseUrl=this.config.reqBaseUrl+"classes/"}return c(t,[{key:"getClasses",value:function(e){return this.http.get(this.baseUrl+"course/"+e,{observe:"response"})}},{key:"addClass",value:function(e){return this.http.post(this.baseUrl,e,{observe:"response"})}},{key:"editClass",value:function(e,t){return this.http.put(this.baseUrl+e,t,{observe:"response"})}},{key:"deleteClass",value:function(e,t){return this.http.put(this.baseUrl+e+"/status",t,{observe:"response"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.jc(s.b),i.jc(o.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},ENir:function(t,a,n){"use strict";n.r(a),n.d(a,"CoursesModule",(function(){return Ne}));var i=n("ofXK"),s=n("3Pt+"),o=n("tyNb"),r=n("fXoL"),d=n("Bdnu"),l=n("5eHb"),b=n("oOf3");function u(e,t){1&e&&(r.bc(0,"a",30),r.Oc(1,"Create New Course"),r.ac())}function m(e,t){1&e&&(r.bc(0,"th",37),r.Oc(1,"Actions"),r.ac())}function v(e,t){if(1&e){var c=r.cc();r.bc(0,"a",45),r.mc("click",(function(){r.Ec(c);var e=r.pc().$implicit;return r.pc(2).onModalOpen(e)})),r.Xb(1,"i",46),r.ac()}}function g(e,t){if(1&e){var c=r.cc();r.bc(0,"td"),r.bc(1,"a",47),r.mc("click",(function(){r.Ec(c);var e=r.pc().$implicit;return r.pc(2).onModalOpen(e)})),r.bc(2,"span",48),r.Oc(3,"Remove"),r.ac(),r.ac(),r.ac()}}function f(e,t){if(1&e){var c=r.cc();r.bc(0,"tr"),r.bc(1,"td"),r.Mc(2,v,2,0,"a",41),r.bc(3,"strong"),r.Oc(4),r.ac(),r.Xb(5,"br"),r.ac(),r.bc(6,"td"),r.bc(7,"a",42),r.mc("click",(function(){r.Ec(c);var e=t.$implicit;return r.pc(2).ViewSOS(e)})),r.Xb(8,"i",43),r.Oc(9,"View"),r.ac(),r.ac(),r.bc(10,"td"),r.bc(11,"a",42),r.mc("click",(function(){r.Ec(c);var e=t.$implicit;return r.pc(2).onCourseClick(e)})),r.Xb(12,"i",43),r.Oc(13,"View"),r.ac(),r.ac(),r.Mc(14,g,4,0,"td",44),r.ac()}if(2&e){var a=t.$implicit,n=r.pc(2);r.Ib(2),r.vc("ngIf","Admin"==n.user.role.title),r.Ib(2),r.Pc(a.name),r.Ib(10),r.vc("ngIf","Admin"==n.user.role.title)}}function p(e,t){if(1&e){var c=r.cc();r.bc(0,"pagination-controls",49),r.mc("pageChange",(function(e){return r.Ec(c),r.pc(2).p=e})),r.ac()}}var h=function(e){return{itemsPerPage:10,currentPage:e}};function S(e,t){if(1&e&&(r.bc(0,"div",31),r.bc(1,"div",32),r.bc(2,"div",33),r.bc(3,"div",34),r.bc(4,"table",35),r.bc(5,"thead"),r.bc(6,"tr"),r.bc(7,"th",36),r.Oc(8,"Course"),r.ac(),r.bc(9,"th",37),r.Oc(10,"Scheme of Studies"),r.ac(),r.bc(11,"th",37),r.Oc(12,"Sessions"),r.ac(),r.Mc(13,m,2,0,"th",38),r.ac(),r.ac(),r.bc(14,"tbody"),r.Mc(15,f,15,3,"tr",39),r.qc(16,"paginate"),r.ac(),r.ac(),r.Mc(17,p,1,0,"pagination-controls",40),r.ac(),r.ac(),r.ac(),r.ac()),2&e){var c=r.pc();r.Ib(13),r.vc("ngIf","Admin"==c.user.role.title),r.Ib(2),r.vc("ngForOf",r.sc(16,3,c.courses,r.zc(6,h,c.p))),r.Ib(2),r.vc("ngIf",c.courses.length>10)}}function O(e,t){1&e&&(r.bc(0,"div",50),r.Xb(1,"img",51),r.bc(2,"p"),r.Oc(3,"No Courses found"),r.ac(),r.ac())}function I(e,t){1&e&&(r.bc(0,"div",50),r.Xb(1,"img",52),r.ac())}var y,M,C=function(){return["/"]},k=((y=function(){function t(c,a,n){e(this,t),this.courseService=c,this.router=a,this.toastr=n,this.loading=!0,this.p=1,this.courses=[],this.selectedCourse={id:"",name:""}}return c(t,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user")),this.getCourses()}},{key:"getCourses",value:function(){var e=this;this.courseService.getCourses().subscribe((function(t){e.courses=t.body,e.loading=!1}))}},{key:"onAddCourse",value:function(){var e=this;this.courseService.addCourse({name:this.courseName}).subscribe((function(t){e.courseName="",e.getCourses()}))}},{key:"onCourseClick",value:function(e){delete e.classes,localStorage.setItem("course",JSON.stringify(e)),this.router.navigate(["/courses",e.id,"sessions"])}},{key:"ViewSOS",value:function(e){delete e.classes,localStorage.setItem("course",JSON.stringify(e)),this.router.navigate(["/courses",e.id,"sos"])}},{key:"onModalOpen",value:function(e){this.selectedCourse={id:e.id,name:e.name}}},{key:"onEditCourse",value:function(){var e=this;this.courseService.editCourse(this.selectedCourse.id,{name:this.selectedCourse.name}).subscribe((function(t){e.selectedCourse={id:"",name:""},e.getCourses()}))}},{key:"onDeleteCourse",value:function(){var e=this;this.courseService.deleteCourse(this.selectedCourse.id,{status:"N"}).subscribe((function(t){e.selectedCourse={id:"",name:""},e.toastr.success("Course Removed."),e.getCourses()}))}},{key:"onModelOpen",value:function(e){this.selectedCourse={id:e.id,name:e.name}}}]),t}()).\u0275fac=function(e){return new(e||y)(r.Wb(d.a),r.Wb(o.c),r.Wb(l.b))},y.\u0275cmp=r.Qb({type:y,selectors:[["app-courses"]],decls:73,vars:11,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#newCourse",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newCourse","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["type","text","id","new-course-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editCourse","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","id","edit-course-name","placeholder","Course Name",1,"form-control",3,"ngModel","ngModelChange"],["id","deleteCourse","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","p-0"],[1,"table","table-striped","table-courses","mb-0"],["scope","col",1,"w-50"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","mr-3","data-toggle","modal","href","javascript:void(0)","data-target","#editCourse",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"mt-2",3,"click"],[1,"fas","fa-arrow-circle-right","pr-2"],[4,"ngIf"],["data-toggle","modal","href","javascript:void(0)","data-target","#editCourse",1,"mr-3",3,"click"],[1,"fas","fa-edit"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteCourse",3,"click"],[1,"badge","badge-danger"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""]],template:function(e,t){1&e&&(r.bc(0,"div",0),r.bc(1,"div",1),r.bc(2,"nav",2),r.bc(3,"ol",3),r.bc(4,"li",4),r.bc(5,"a",5),r.Oc(6,"Dashboard"),r.ac(),r.ac(),r.bc(7,"li",6),r.Oc(8,"Courses"),r.ac(),r.ac(),r.ac(),r.bc(9,"div",7),r.Mc(10,u,2,0,"a",8),r.ac(),r.ac(),r.bc(11,"div",9),r.Mc(12,S,18,8,"div",10),r.Mc(13,O,4,0,"div",11),r.Mc(14,I,2,0,"div",11),r.ac(),r.ac(),r.bc(15,"div",12),r.bc(16,"div",13),r.bc(17,"div",14),r.bc(18,"div",15),r.bc(19,"h5",16),r.Oc(20,"New Course"),r.ac(),r.bc(21,"button",17),r.bc(22,"i",18),r.Oc(23,"close"),r.ac(),r.ac(),r.ac(),r.bc(24,"div",19),r.bc(25,"div",20),r.bc(26,"label"),r.Oc(27,"Title"),r.ac(),r.bc(28,"input",21),r.mc("ngModelChange",(function(e){return t.courseName=e})),r.ac(),r.ac(),r.ac(),r.bc(29,"div",22),r.bc(30,"button",23),r.Oc(31,"Cancel"),r.ac(),r.bc(32,"button",24),r.mc("click",(function(){return t.onAddCourse()})),r.Oc(33,"Create"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(34,"div",25),r.bc(35,"div",13),r.bc(36,"div",14),r.bc(37,"div",15),r.bc(38,"h5",16),r.Oc(39,"Edit Course"),r.ac(),r.bc(40,"button",17),r.bc(41,"i",18),r.Oc(42,"close"),r.ac(),r.ac(),r.ac(),r.bc(43,"div",19),r.bc(44,"div",20),r.bc(45,"label"),r.Oc(46,"Title"),r.ac(),r.bc(47,"input",26),r.mc("ngModelChange",(function(e){return t.selectedCourse.name=e})),r.ac(),r.ac(),r.ac(),r.bc(48,"div",22),r.bc(49,"button",23),r.Oc(50,"Cancel"),r.ac(),r.bc(51,"button",24),r.mc("click",(function(){return t.onEditCourse()})),r.Oc(52,"Update"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(53,"div",27),r.bc(54,"div",13),r.bc(55,"div",14),r.bc(56,"div",15),r.bc(57,"h5",16),r.Oc(58,"Remove Course"),r.ac(),r.bc(59,"button",17),r.bc(60,"i",18),r.Oc(61,"close"),r.ac(),r.ac(),r.ac(),r.bc(62,"div",19),r.bc(63,"p",28),r.Oc(64,"Are you sure you want to remove "),r.bc(65,"strong"),r.Oc(66),r.ac(),r.Oc(67,"?"),r.ac(),r.ac(),r.bc(68,"div",22),r.bc(69,"button",23),r.Oc(70,"Cancel"),r.ac(),r.bc(71,"button",29),r.mc("click",(function(){return t.onDeleteCourse()})),r.Oc(72,"Remove"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac()),2&e&&(r.Ib(5),r.vc("routerLink",r.yc(10,C)),r.Ib(5),r.vc("ngIf","Admin"==t.user.role.title),r.Ib(2),r.vc("ngIf",t.courses.length),r.Ib(1),r.vc("ngIf",!t.courses.length&&!t.loading),r.Ib(1),r.vc("ngIf",t.loading),r.Ib(14),r.vc("ngModel",t.courseName),r.Ib(4),r.vc("disabled",!t.courseName),r.Ib(15),r.vc("ngModel",t.selectedCourse.name),r.Ib(4),r.vc("disabled",!t.selectedCourse.name),r.Ib(15),r.Pc(t.selectedCourse.name))},directives:[o.d,i.n,s.b,s.i,s.l,i.m,b.c],pipes:[b.b],styles:[""]}),y),D=n("wd/R"),E=n("tk/3"),w=n("EdIQ"),N=((M=function(){function t(c,a){e(this,t),this.http=c,this.config=a,this.baseUrl=this.config.reqBaseUrl+"sos/"}return c(t,[{key:"getSOS",value:function(e){return this.http.get(this.baseUrl+e,{observe:"response"})}},{key:"addSOS",value:function(e){return this.http.post(this.baseUrl,e,{observe:"response"})}},{key:"editSOS",value:function(e,t){return this.http.put(this.baseUrl+e,t,{observe:"response"})}},{key:"changeStatus",value:function(e,t){return this.http.put(this.baseUrl+e+"/status",t,{observe:"response"})}}]),t}()).\u0275fac=function(e){return new(e||M)(r.jc(E.b),r.jc(w.a))},M.\u0275prov=r.Sb({token:M,factory:M.\u0275fac,providedIn:"root"}),M),T=n("CFL1"),x=n("1kSV");function A(e,t){1&e&&(r.bc(0,"a",41),r.Oc(1,"Add new"),r.ac())}function L(e,t){1&e&&(r.bc(0,"th",48),r.Oc(1,"Actions"),r.ac())}function j(e,t){if(1&e){var c=r.cc();r.bc(0,"a",54),r.mc("click",(function(){r.Ec(c);var e=r.pc().$implicit;return r.pc(2).onModalOpen(e)})),r.Xb(1,"i",55),r.ac()}}function U(e,t){if(1&e){var c=r.cc();r.bc(0,"td",56),r.bc(1,"a",57),r.mc("click",(function(){r.Ec(c);var e=r.pc().$implicit;return r.pc(2).RemoveSOS(e.id)})),r.bc(2,"span",58),r.Oc(3,"Remove"),r.ac(),r.ac(),r.ac()}}function P(e,t){if(1&e&&(r.bc(0,"tr"),r.bc(1,"td"),r.Mc(2,j,2,0,"a",52),r.Oc(3),r.ac(),r.bc(4,"td"),r.Oc(5),r.ac(),r.bc(6,"td"),r.Oc(7),r.ac(),r.Mc(8,U,4,0,"td",53),r.ac()),2&e){var c=t.$implicit,a=r.pc(2);r.Ib(2),r.vc("ngIf","Admin"==a.user.role.title),r.Ib(1),r.Qc(" ",c.title,""),r.Ib(2),r.Qc(" ",c.startDateFormatted," "),r.Ib(2),r.Pc(c.endDateFormatted),r.Ib(1),r.vc("ngIf","Admin"==a.user.role.title)}}function _(e,t){if(1&e){var c=r.cc();r.bc(0,"pagination-controls",59),r.mc("pageChange",(function(e){return r.Ec(c),r.pc(2).p=e})),r.ac()}}var F=function(e){return{itemsPerPage:10,currentPage:e}};function R(e,t){if(1&e&&(r.bc(0,"div",42),r.bc(1,"div",43),r.bc(2,"div",44),r.bc(3,"div",45),r.bc(4,"table",46),r.bc(5,"thead"),r.bc(6,"tr"),r.bc(7,"th",47),r.Oc(8,"Title"),r.ac(),r.bc(9,"th",47),r.Oc(10,"Start Date"),r.ac(),r.bc(11,"th",48),r.Oc(12,"End Date"),r.ac(),r.Mc(13,L,2,0,"th",49),r.ac(),r.ac(),r.bc(14,"tbody"),r.Mc(15,P,9,5,"tr",50),r.qc(16,"paginate"),r.ac(),r.ac(),r.Mc(17,_,1,0,"pagination-controls",51),r.ac(),r.ac(),r.ac(),r.ac()),2&e){var c=r.pc();r.Ib(13),r.vc("ngIf","Admin"==c.user.role.title),r.Ib(2),r.vc("ngForOf",r.sc(16,3,c.sosList,r.zc(6,F,c.p))),r.Ib(2),r.vc("ngIf",c.sosList.length>10)}}function X(e,t){1&e&&(r.bc(0,"div",60),r.Xb(1,"img",61),r.bc(2,"p"),r.Oc(3,"No Scheme of Studies found"),r.ac(),r.ac())}function $(e,t){1&e&&(r.bc(0,"div",60),r.Xb(1,"img",62),r.ac())}var Q,Y=function(){return["/"]},W=function(){return["/courses"]},J=((Q=function(){function t(c,a,n,i,s){e(this,t),this.sosService=c,this.userService=a,this.router=n,this.toastr=i,this.calendar=s,this.loading=!0,this.p=1,this.sosList=[],this.addSOS={title:"",startDate:this.calendar.getToday(),endDate:this.calendar.getToday()},this.seletcedSOS={id:"",title:"",startDate:this.calendar.getToday(),endDate:this.calendar.getToday()}}return c(t,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user")),this.course=JSON.parse(localStorage.getItem("course")),this.getSOS()}},{key:"getSOS",value:function(){var e=this;this.sosService.getSOS(this.course.id).subscribe((function(t){e.sosList=t.body,e.sosList.forEach((function(e){e.startDateFormatted=D(e.startDate).format("MMMM Do, YYYY"),e.endDateFormatted=D(e.endDate).format("MMMM Do, YYYY")})),e.loading=!1}))}},{key:"onAddSOS",value:function(){var e=this;this.sosService.addSOS({title:this.addSOS.title,startDate:this.addSOS.startDate.month+"/"+this.addSOS.startDate.day+"/"+this.addSOS.startDate.year,endDate:this.addSOS.endDate.month+"/"+this.addSOS.endDate.day+"/"+this.addSOS.endDate.year,courseId:this.course.id}).subscribe((function(t){e.toastr.success("SOS Item added."),e.addSOS={title:"",startDate:e.calendar.getToday(),endDate:e.calendar.getToday()},e.getSOS()}))}},{key:"onModalOpen",value:function(e){var t=D(e.startDate).format("YYYY-MM-DD"),c=D(e.endDate).format("YYYY-MM-DD");this.seletcedSOS={id:e.id,title:e.title,startDate:{year:Number.parseInt(t.split("-")[0]),month:Number.parseInt(t.split("-")[1]),day:Number.parseInt(t.split("-")[2])},endDate:{year:Number.parseInt(c.split("-")[0]),month:Number.parseInt(c.split("-")[1]),day:Number.parseInt(c.split("-")[2])}}}},{key:"onEditSOS",value:function(){var e=this;this.sosService.editSOS(this.seletcedSOS.id,{title:this.seletcedSOS.title,startDate:this.seletcedSOS.startDate.month+"/"+this.seletcedSOS.startDate.day+"/"+this.seletcedSOS.startDate.year,endDate:this.seletcedSOS.endDate.month+"/"+this.seletcedSOS.endDate.day+"/"+this.seletcedSOS.endDate.year}).subscribe((function(t){e.toastr.success("Item updated."),e.seletcedSOS={id:"",title:"",startDate:e.calendar.getToday(),endDate:e.calendar.getToday()},e.getSOS()}))}},{key:"RemoveSOS",value:function(e){var t=this;this.sosService.changeStatus(e,{status:"N"}).subscribe((function(e){t.seletcedSOS={id:"",title:"",startDate:t.calendar.getToday(),endDate:t.calendar.getToday()},t.toastr.success("Item Removed."),t.getSOS()}))}}]),t}()).\u0275fac=function(e){return new(e||Q)(r.Wb(N),r.Wb(T.a),r.Wb(o.c),r.Wb(l.b),r.Wb(x.a))},Q.\u0275cmp=r.Qb({type:Q,selectors:[["app-course-sos"]],decls:103,vars:19,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["href","javascript:void(0)"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#newSOS",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newSOS","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["id","course-start","placeholder","Item Title",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-row"],[1,"col-md-6"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar","d-flex","align-items-center",3,"click"],[1,"material-icons-outlined"],["placeholder","yyyy-mm-dd","name","dp","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","minDate","ngModelChange"],["d1","ngbDatepicker"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editSOS","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","session_name","id","course-start","placeholder","Item Title",1,"form-control",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],["d3","ngbDatepicker"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","p-0"],[1,"table","table-striped","table-courses","mb-0"],["scope","col",2,"width","20%"],["scope","col",1,"text-center"],["class","text-center","scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","mr-3","data-toggle","modal","href","javascript:void(0)","data-target"," #editSOS",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],["data-toggle","modal","href","javascript:void(0)","data-target"," #editSOS",1,"mr-3",3,"click"],[1,"fas","fa-edit"],[1,"text-center"],["href","javascript:void(0)",3,"click"],[1,"badge","badge-danger"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""]],template:function(e,t){if(1&e){var c=r.cc();r.bc(0,"div",0),r.bc(1,"div",1),r.bc(2,"nav",2),r.bc(3,"ol",3),r.bc(4,"li",4),r.bc(5,"a",5),r.Oc(6,"Dashboard"),r.ac(),r.ac(),r.bc(7,"li",4),r.bc(8,"a",5),r.Oc(9,"Courses"),r.ac(),r.ac(),r.bc(10,"li",6),r.bc(11,"a",7),r.Oc(12),r.ac(),r.ac(),r.bc(13,"li",8),r.Oc(14,"Scheme of Studies"),r.ac(),r.ac(),r.ac(),r.bc(15,"div",9),r.Mc(16,A,2,0,"a",10),r.ac(),r.ac(),r.bc(17,"div",11),r.Mc(18,R,18,8,"div",12),r.Mc(19,X,4,0,"div",13),r.Mc(20,$,2,0,"div",13),r.ac(),r.ac(),r.bc(21,"div",14),r.bc(22,"div",15),r.bc(23,"div",16),r.bc(24,"div",17),r.bc(25,"h5",18),r.Oc(26,"Add New"),r.ac(),r.bc(27,"button",19),r.bc(28,"i",20),r.Oc(29,"close"),r.ac(),r.ac(),r.ac(),r.bc(30,"div",21),r.bc(31,"div",22),r.bc(32,"label"),r.Oc(33,"Title"),r.ac(),r.bc(34,"input",23),r.mc("ngModelChange",(function(e){return t.addSOS.title=e})),r.ac(),r.ac(),r.bc(35,"div",22),r.bc(36,"div",24),r.bc(37,"div",25),r.bc(38,"label"),r.Oc(39,"Start Date"),r.ac(),r.bc(40,"div",26),r.bc(41,"input",27,28),r.mc("ngModelChange",(function(e){return t.addSOS.startDate=e})),r.ac(),r.bc(43,"div",29),r.bc(44,"button",30),r.mc("click",(function(){return r.Ec(c),r.Dc(42).toggle()})),r.bc(45,"i",31),r.Oc(46,"calendar_today"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(47,"div",25),r.bc(48,"label"),r.Oc(49,"End Date"),r.ac(),r.bc(50,"div",26),r.bc(51,"input",32,33),r.mc("ngModelChange",(function(e){return t.addSOS.endDate=e})),r.ac(),r.bc(53,"div",29),r.bc(54,"button",30),r.mc("click",(function(){return r.Ec(c),r.Dc(52).toggle()})),r.bc(55,"i",31),r.Oc(56,"calendar_today"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(57,"div",34),r.bc(58,"button",35),r.Oc(59,"Cancel"),r.ac(),r.bc(60,"button",36),r.mc("click",(function(){return t.onAddSOS()})),r.Oc(61,"Add"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(62,"div",37),r.bc(63,"div",15),r.bc(64,"div",16),r.bc(65,"div",17),r.bc(66,"h5",18),r.Oc(67,"Update Details"),r.ac(),r.bc(68,"button",19),r.bc(69,"i",20),r.Oc(70,"close"),r.ac(),r.ac(),r.ac(),r.bc(71,"div",21),r.bc(72,"div",22),r.bc(73,"label"),r.Oc(74,"Title"),r.ac(),r.bc(75,"input",38),r.mc("ngModelChange",(function(e){return t.seletcedSOS.title=e})),r.ac(),r.ac(),r.bc(76,"div",22),r.bc(77,"div",24),r.bc(78,"div",25),r.bc(79,"label"),r.Oc(80,"Start Time"),r.ac(),r.bc(81,"div",26),r.bc(82,"input",27,39),r.mc("ngModelChange",(function(e){return t.seletcedSOS.startDate=e})),r.ac(),r.bc(84,"div",29),r.bc(85,"button",30),r.mc("click",(function(){return r.Ec(c),r.Dc(83).toggle()})),r.bc(86,"i",31),r.Oc(87,"calendar_today"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(88,"div",25),r.bc(89,"label"),r.Oc(90,"End Time"),r.ac(),r.bc(91,"div",26),r.bc(92,"input",32,40),r.mc("ngModelChange",(function(e){return t.seletcedSOS.endDate=e})),r.ac(),r.bc(94,"div",29),r.bc(95,"button",30),r.mc("click",(function(){return r.Ec(c),r.Dc(93).toggle()})),r.bc(96,"i",31),r.Oc(97,"calendar_today"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(98,"div",34),r.bc(99,"button",35),r.Oc(100,"Cancel"),r.ac(),r.bc(101,"button",36),r.mc("click",(function(){return t.onEditSOS()})),r.Oc(102,"Update"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac()}2&e&&(r.Ib(5),r.vc("routerLink",r.yc(17,Y)),r.Ib(3),r.vc("routerLink",r.yc(18,W)),r.Ib(4),r.Pc(t.course.name),r.Ib(4),r.vc("ngIf","Admin"==t.user.role.title),r.Ib(2),r.vc("ngIf",t.sosList.length),r.Ib(1),r.vc("ngIf",!t.sosList.length&&!t.loading),r.Ib(1),r.vc("ngIf",t.loading),r.Ib(14),r.vc("ngModel",t.addSOS.title),r.Ib(7),r.vc("ngModel",t.addSOS.startDate),r.Ib(10),r.vc("ngModel",t.addSOS.endDate)("minDate",t.addSOS.startDate),r.Ib(9),r.vc("disabled",!t.addSOS.title||!t.addSOS.startDate||!t.addSOS.endDate),r.Ib(15),r.vc("ngModel",t.seletcedSOS.title),r.Ib(7),r.vc("ngModel",t.seletcedSOS.startDate),r.Ib(10),r.vc("ngModel",t.seletcedSOS.endDate)("minDate",t.seletcedSOS.startDate),r.Ib(9),r.vc("disabled",!t.seletcedSOS.title||!t.seletcedSOS.startDate||!t.seletcedSOS.endDate))},directives:[o.d,i.n,s.b,s.i,s.l,x.e,i.m,b.c],pipes:[b.b],styles:[""]}),Q),q=n("CfA1");function B(e,t){1&e&&(r.bc(0,"a",38),r.Oc(1,"Create New Session"),r.ac())}function V(e,t){1&e&&(r.bc(0,"th",46),r.Oc(1,"Actions"),r.ac())}function z(e,t){if(1&e){var c=r.cc();r.bc(0,"a",55),r.mc("click",(function(){r.Ec(c);var e=r.pc().$implicit;return r.pc(2).onModalOpen(e)})),r.Xb(1,"i",56),r.ac()}}function H(e,t){if(1&e){var c=r.cc();r.bc(0,"td"),r.bc(1,"a",57),r.mc("click",(function(){r.Ec(c);var e=r.pc().$implicit;return r.pc(2).onModalOpen(e)})),r.bc(2,"span",58),r.Oc(3,"Remove"),r.ac(),r.ac(),r.ac()}}function K(e,t){if(1&e){var c=r.cc();r.bc(0,"tr"),r.bc(1,"td"),r.Mc(2,z,2,0,"a",50),r.Oc(3),r.ac(),r.bc(4,"td"),r.Oc(5),r.ac(),r.bc(6,"td"),r.Oc(7),r.ac(),r.bc(8,"td",51),r.bc(9,"a",52),r.mc("click",(function(){r.Ec(c);var e=t.$implicit;return r.pc(2).ViewEnrollments(e)})),r.bc(10,"span",53),r.Oc(11,"View"),r.ac(),r.ac(),r.ac(),r.Mc(12,H,4,0,"td",54),r.ac()}if(2&e){var a=t.$implicit,n=r.pc(2);r.Ib(2),r.vc("ngIf","Admin"==n.user.role.title),r.Ib(1),r.Qc(" ",a.title,""),r.Ib(2),r.Qc(" ",a.user?a.user.firstName+" "+a.user.lastName:"No Instructor assigned"," "),r.Ib(2),r.Pc(a.startTime+" - "+a.endTime),r.Ib(5),r.vc("ngIf","Admin"==n.user.role.title)}}function G(e,t){if(1&e){var c=r.cc();r.bc(0,"pagination-controls",59),r.mc("pageChange",(function(e){return r.Ec(c),r.pc(2).p=e})),r.ac()}}var Z=function(e){return{itemsPerPage:10,currentPage:e}};function ee(e,t){if(1&e&&(r.bc(0,"div",39),r.bc(1,"div",40),r.bc(2,"div",41),r.bc(3,"div",42),r.bc(4,"table",43),r.bc(5,"thead"),r.bc(6,"tr"),r.bc(7,"th",44),r.Oc(8,"Session Name"),r.ac(),r.bc(9,"th",45),r.Oc(10,"Instructor"),r.ac(),r.bc(11,"th",45),r.Oc(12,"Timing"),r.ac(),r.bc(13,"th",46),r.Oc(14,"Enrollments"),r.ac(),r.Mc(15,V,2,0,"th",47),r.ac(),r.ac(),r.bc(16,"tbody"),r.Mc(17,K,13,5,"tr",48),r.qc(18,"paginate"),r.ac(),r.ac(),r.Mc(19,G,1,0,"pagination-controls",49),r.ac(),r.ac(),r.ac(),r.ac()),2&e){var c=r.pc();r.Ib(15),r.vc("ngIf","Admin"==c.user.role.title),r.Ib(2),r.vc("ngForOf",r.sc(18,3,c.sessions,r.zc(6,Z,c.p))),r.Ib(2),r.vc("ngIf",c.sessions.length>10)}}function te(e,t){1&e&&(r.bc(0,"div",60),r.Xb(1,"img",61),r.bc(2,"p"),r.Oc(3,"No Sessions found"),r.ac(),r.ac())}function ce(e,t){1&e&&(r.bc(0,"div",60),r.Xb(1,"img",62),r.ac())}function ae(e,t){if(1&e&&(r.bc(0,"option",63),r.Oc(1),r.ac()),2&e){var c=t.$implicit;r.wc("value",c.id),r.Ib(1),r.Qc(" ",c.firstName+" "+c.lastName,"")}}function ne(e,t){if(1&e&&(r.bc(0,"option",63),r.Oc(1),r.ac()),2&e){var c=t.$implicit;r.wc("value",c.id),r.Ib(1),r.Qc(" ",c.firstName+" "+c.lastName,"")}}var ie,se,oe=function(){return["/"]},re=function(){return["/courses"]},de=((se=function(){function t(c,a,n,i){e(this,t),this.classService=c,this.userService=a,this.router=n,this.toastr=i,this.loading=!0,this.p=1,this.sessions=[],this.instructors=[],this.session={name:"",instructorId:"",startTime:"",endTime:""},this.selectedSession={id:"",name:"",instructorId:"",instructor:"",startTime:"",endTime:""}}return c(t,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user")),this.course=JSON.parse(localStorage.getItem("course")),this.getClasses(),this.getInstructors()}},{key:"getClasses",value:function(){var e=this;this.classService.getClasses(this.course.id).subscribe((function(t){e.sessions=t.body,e.sessions.forEach((function(e){var t=e.timing.split(" - ")[0],c=e.timing.split(" - ")[1];e.startTime=t.split(":")[0]>12?t.split(":")[0]-12+":"+t.split(":")[1]+" PM":t+" AM",e.endTime=c.split(":")[0]>12?c.split(":")[0]-12+":"+c.split(":")[1]+" PM":c+" AM"})),e.loading=!1}))}},{key:"getInstructors",value:function(){var e=this;this.userService.getUsers("instructor").subscribe((function(t){e.instructors=t.body}))}},{key:"onAddSession",value:function(){var e=this;this.classService.addClass({title:this.session.name,taughtBy:this.session.instructorId,timing:this.session.startTime+" - "+this.session.endTime,courseId:this.course.id}).subscribe((function(t){e.session={name:"",instructorId:"",startTime:"",endTime:""},e.getClasses()}))}},{key:"ViewEnrollments",value:function(e){localStorage.setItem("session",JSON.stringify({id:e.id,instructor:e.user})),this.router.navigate(["/courses",this.course.id,"sessions",e.id,"enrollments"])}},{key:"onModalOpen",value:function(e){this.selectedSession={id:e.id,name:e.title,instructorId:e.taughtBy?e.taughtBy:"",instructor:e.user?e.user.firstName+" "+e.user.lastName:"No instructor assigned",startTime:e.timing.split(" - ")[0],endTime:e.timing.split(" - ")[1]}}},{key:"onEditSession",value:function(){var e=this;this.classService.editClass(this.selectedSession.id,{title:this.selectedSession.name,taughtBy:this.selectedSession.instructorId,timing:this.selectedSession.startTime+" - "+this.selectedSession.endTime,courseId:this.course.id}).subscribe((function(t){e.selectedSession={id:"",name:"",instructorId:"",instructor:"",startTime:"",endTime:""},e.toastr.success("Session Details Updated."),e.getClasses()}))}},{key:"onDeleteSession",value:function(){var e=this;this.classService.deleteClass(this.selectedSession.id,{status:"N"}).subscribe((function(t){e.selectedSession={id:"",name:"",instructorId:"",instructor:"",startTime:"",endTime:""},e.toastr.success("Session Removed."),e.getClasses()}))}}]),t}()).\u0275fac=function(e){return new(e||se)(r.Wb(q.a),r.Wb(T.a),r.Wb(o.c),r.Wb(l.b))},se.\u0275cmp=r.Qb({type:se,selectors:[["app-courses-sessions"]],decls:113,vars:22,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["href","javascript:void(0)"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#newSession",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newSession","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["type","session_name","id","course-start","placeholder","Session Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-row"],[1,"col-md-6"],["type","time","id","course-start","placeholder","01:00 PM",1,"form-control",3,"ngModel","ngModelChange"],["type","time","id","course-end","placeholder","02:00 PM",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editSession","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteSession","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","p-0"],[1,"table","table-striped","table-courses","mb-0"],["scope","col"],["scope","col",2,"width","20%"],["scope","col",1,"text-center"],["class","text-center","scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","mr-3","data-toggle","modal","href","javascript:void(0)","data-target"," #editSession",3,"click",4,"ngIf"],[1,"text-center"],["href","javascript:void(0)",3,"click"],[1,"badge","badge-primary"],[4,"ngIf"],["data-toggle","modal","href","javascript:void(0)","data-target"," #editSession",1,"mr-3",3,"click"],[1,"fas","fa-edit"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteSession",3,"click"],[1,"badge","badge-danger"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""],[3,"value"]],template:function(e,t){1&e&&(r.bc(0,"div",0),r.bc(1,"div",1),r.bc(2,"nav",2),r.bc(3,"ol",3),r.bc(4,"li",4),r.bc(5,"a",5),r.Oc(6,"Dashboard"),r.ac(),r.ac(),r.bc(7,"li",4),r.bc(8,"a",5),r.Oc(9,"Courses"),r.ac(),r.ac(),r.bc(10,"li",6),r.bc(11,"a",7),r.Oc(12),r.ac(),r.ac(),r.bc(13,"li",8),r.Oc(14,"Sessions"),r.ac(),r.ac(),r.ac(),r.bc(15,"div",9),r.Mc(16,B,2,0,"a",10),r.ac(),r.ac(),r.bc(17,"div",11),r.Mc(18,ee,20,8,"div",12),r.Mc(19,te,4,0,"div",13),r.Mc(20,ce,2,0,"div",13),r.ac(),r.ac(),r.bc(21,"div",14),r.bc(22,"div",15),r.bc(23,"div",16),r.bc(24,"div",17),r.bc(25,"h5",18),r.Oc(26,"New Session"),r.ac(),r.bc(27,"button",19),r.bc(28,"i",20),r.Oc(29,"close"),r.ac(),r.ac(),r.ac(),r.bc(30,"div",21),r.bc(31,"div",22),r.bc(32,"label"),r.Oc(33,"Session Name"),r.ac(),r.bc(34,"input",23),r.mc("ngModelChange",(function(e){return t.session.name=e})),r.ac(),r.ac(),r.bc(35,"div",22),r.bc(36,"label"),r.Oc(37,"Instructor"),r.ac(),r.bc(38,"select",24),r.mc("ngModelChange",(function(e){return t.session.instructorId=e})),r.bc(39,"option",25),r.Oc(40,"Choose..."),r.ac(),r.Mc(41,ae,2,2,"option",26),r.ac(),r.ac(),r.bc(42,"div",22),r.bc(43,"div",27),r.bc(44,"div",28),r.bc(45,"label"),r.Oc(46,"Start Time"),r.ac(),r.bc(47,"input",29),r.mc("ngModelChange",(function(e){return t.session.startTime=e})),r.ac(),r.ac(),r.bc(48,"div",28),r.bc(49,"label"),r.Oc(50,"End Time"),r.ac(),r.bc(51,"input",30),r.mc("ngModelChange",(function(e){return t.session.endTime=e})),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(52,"div",31),r.bc(53,"button",32),r.Oc(54,"Cancel"),r.ac(),r.bc(55,"button",33),r.mc("click",(function(){return t.onAddSession()})),r.Oc(56,"Add"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(57,"div",34),r.bc(58,"div",15),r.bc(59,"div",16),r.bc(60,"div",17),r.bc(61,"h5",18),r.Oc(62,"Update Session"),r.ac(),r.bc(63,"button",19),r.bc(64,"i",20),r.Oc(65,"close"),r.ac(),r.ac(),r.ac(),r.bc(66,"div",21),r.bc(67,"div",22),r.bc(68,"label"),r.Oc(69,"Session Name"),r.ac(),r.bc(70,"input",23),r.mc("ngModelChange",(function(e){return t.selectedSession.name=e})),r.ac(),r.ac(),r.bc(71,"div",22),r.bc(72,"label"),r.Oc(73,"Instructor"),r.ac(),r.bc(74,"select",24),r.mc("ngModelChange",(function(e){return t.selectedSession.instructorId=e})),r.bc(75,"option",25),r.Oc(76,"Choose..."),r.ac(),r.Mc(77,ne,2,2,"option",26),r.ac(),r.ac(),r.bc(78,"div",22),r.bc(79,"div",27),r.bc(80,"div",28),r.bc(81,"label"),r.Oc(82,"Start Time"),r.ac(),r.bc(83,"input",29),r.mc("ngModelChange",(function(e){return t.selectedSession.startTime=e})),r.ac(),r.ac(),r.bc(84,"div",28),r.bc(85,"label"),r.Oc(86,"End Time"),r.ac(),r.bc(87,"input",30),r.mc("ngModelChange",(function(e){return t.selectedSession.endTime=e})),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(88,"div",31),r.bc(89,"button",32),r.Oc(90,"Cancel"),r.ac(),r.bc(91,"button",33),r.mc("click",(function(){return t.onEditSession()})),r.Oc(92,"Update"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(93,"div",35),r.bc(94,"div",15),r.bc(95,"div",16),r.bc(96,"div",17),r.bc(97,"h5",18),r.Oc(98,"Remove Session"),r.ac(),r.bc(99,"button",19),r.bc(100,"i",20),r.Oc(101,"close"),r.ac(),r.ac(),r.ac(),r.bc(102,"div",21),r.bc(103,"p",36),r.Oc(104,"Are you sure you want to remove "),r.bc(105,"strong"),r.Oc(106),r.ac(),r.Oc(107,"?"),r.ac(),r.ac(),r.bc(108,"div",31),r.bc(109,"button",32),r.Oc(110,"Cancel"),r.ac(),r.bc(111,"button",37),r.mc("click",(function(){return t.onDeleteSession()})),r.Oc(112,"Remove"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac()),2&e&&(r.Ib(5),r.vc("routerLink",r.yc(20,oe)),r.Ib(3),r.vc("routerLink",r.yc(21,re)),r.Ib(4),r.Pc(t.course.name),r.Ib(4),r.vc("ngIf","Admin"==t.user.role.title),r.Ib(2),r.vc("ngIf",t.sessions.length),r.Ib(1),r.vc("ngIf",!t.sessions.length&&!t.loading),r.Ib(1),r.vc("ngIf",t.loading),r.Ib(14),r.vc("ngModel",t.session.name),r.Ib(4),r.vc("ngModel",t.session.instructorId),r.Ib(3),r.vc("ngForOf",t.instructors),r.Ib(6),r.vc("ngModel",t.session.startTime),r.Ib(4),r.vc("ngModel",t.session.endTime),r.Ib(4),r.vc("disabled",!t.session.instructorId||!t.session.startTime||!t.session.endTime),r.Ib(15),r.vc("ngModel",t.selectedSession.name),r.Ib(4),r.vc("ngModel",t.selectedSession.instructorId),r.Ib(3),r.vc("ngForOf",t.instructors),r.Ib(6),r.vc("ngModel",t.selectedSession.startTime),r.Ib(4),r.vc("ngModel",t.selectedSession.endTime),r.Ib(4),r.vc("disabled",!t.selectedSession.instructorId||!t.selectedSession.startTime||!t.selectedSession.endTime),r.Ib(15),r.Pc(t.selectedSession.name))},directives:[o.d,i.n,s.b,s.i,s.l,s.q,s.m,s.s,i.m,b.c],pipes:[b.b],styles:[""]}),se),le=((ie=function(){function t(c,a){e(this,t),this.http=c,this.config=a,this.baseUrl=this.config.reqBaseUrl+"enrollments/"}return c(t,[{key:"getEnrollments",value:function(e){return this.http.get(this.baseUrl+"class/"+e,{observe:"response"})}},{key:"getNotEnrolled",value:function(e){return this.http.get(this.baseUrl+"class/"+e+"/notEnrolled",{observe:"response"})}},{key:"updateEnrollments",value:function(e){return this.http.put(this.baseUrl,e,{observe:"response"})}},{key:"removeEnrollment",value:function(e){return this.http.delete(this.baseUrl+e,{observe:"response"})}}]),t}()).\u0275fac=function(e){return new(e||ie)(r.jc(E.b),r.jc(w.a))},ie.\u0275prov=r.Sb({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie);function be(e,t){1&e&&(r.bc(0,"a",39),r.Oc(1,"Add/Update Enrollments"),r.ac())}function ue(e,t){1&e&&(r.bc(0,"th",44),r.Oc(1,"Action"),r.ac())}function me(e,t){if(1&e){var c=r.cc();r.bc(0,"td",46),r.bc(1,"div",47),r.bc(2,"a",48),r.mc("click",(function(){r.Ec(c);var e=r.pc().$implicit;return r.pc(2).onDeleteModal(e)})),r.Xb(3,"i",49),r.Oc(4,"Remove"),r.ac(),r.ac(),r.ac()}}var ve=function(e){return["/users",e,"profile"]};function ge(e,t){if(1&e&&(r.bc(0,"tr"),r.bc(1,"td"),r.bc(2,"a",5),r.Oc(3),r.ac(),r.ac(),r.Mc(4,me,5,0,"td",45),r.ac()),2&e){var c=t.$implicit,a=r.pc(2);r.Ib(2),r.vc("routerLink",r.zc(3,ve,c.userId)),r.Ib(1),r.Qc(" ",c.user.firstName+" "+c.user.lastName," "),r.Ib(1),r.vc("ngIf","Admin"==a.user.role.title)}}var fe=function(e){return{itemsPerPage:10,currentPage:e}};function pe(e,t){if(1&e&&(r.bc(0,"table",40),r.bc(1,"thead"),r.bc(2,"tr"),r.bc(3,"th",41),r.Oc(4,"Students"),r.ac(),r.Mc(5,ue,2,0,"th",42),r.ac(),r.ac(),r.bc(6,"tbody"),r.Mc(7,ge,5,5,"tr",43),r.qc(8,"paginate"),r.ac(),r.ac()),2&e){var c=r.pc();r.Ib(5),r.vc("ngIf","Admin"==c.user.role.title),r.Ib(2),r.vc("ngForOf",r.sc(8,2,c.enrollments,r.zc(5,fe,c.p)))}}function he(e,t){if(1&e){var c=r.cc();r.bc(0,"pagination-controls",50),r.mc("pageChange",(function(e){return r.Ec(c),r.pc().p=e})),r.ac()}}function Se(e,t){1&e&&(r.bc(0,"div",51),r.Xb(1,"img",52),r.bc(2,"p"),r.Oc(3,"No Enrollments found"),r.ac(),r.ac())}function Oe(e,t){1&e&&(r.bc(0,"div",51),r.Xb(1,"img",53),r.ac())}function Ie(e,t){if(1&e&&(r.bc(0,"option",54),r.Oc(1),r.ac()),2&e){var c=t.$implicit;r.wc("value",c.id),r.Ib(1),r.Qc(" ",c.firstName+" "+c.lastName,"")}}function ye(e,t){if(1&e){var c=r.cc();r.bc(0,"span",55),r.Oc(1),r.bc(2,"i",56),r.mc("click",(function(){r.Ec(c);var e=t.$implicit;return r.pc().onRemove(e)})),r.ac(),r.ac()}if(2&e){var a=t.$implicit;r.Ib(1),r.Qc(" ",a.firstName," ")}}var Me,Ce,ke=function(){return["/"]},De=function(){return["/courses"]},Ee=function(e){return["/courses",e,"sessions"]},we=[{path:"",component:k},{path:":courseId/sos",component:J},{path:":courseId/sessions",component:de},{path:":courseId/sessions/:sessionId/enrollments",component:(Me=function(){function t(c,a,n){e(this,t),this.enrollmentService=c,this.userService=a,this.toastr=n,this.loading=!0,this.p=1,this.enrollments=[],this.students=[],this.selected_students=[],this.remove_student={id:"",first_name:"",last_name:""}}return c(t,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user")),this.course=JSON.parse(localStorage.getItem("course")),this.session=JSON.parse(localStorage.getItem("session")),this.getEnrollments(),this.getStudents()}},{key:"getEnrollments",value:function(){var e=this;this.enrollmentService.getEnrollments(this.session.id).subscribe((function(t){e.enrollments=t.body.enrollments,e.loading=!1}))}},{key:"getStudents",value:function(){var e=this;this.enrollmentService.getNotEnrolled(this.session.id).subscribe((function(t){e.students=t.body.enrollments}))}},{key:"onSelect",value:function(e){var t=this;this.students.forEach((function(c,a){c.id==e&&(t.selected_students.push(c),t.students.splice(a,1))}))}},{key:"onRemove",value:function(e){var t=this;this.selected_students.forEach((function(c,a){e.id==c.id&&(t.students.push(e),t.selected_students.splice(a,1))}))}},{key:"updateEnrollments",value:function(){var e=this,t=[];this.selected_students.forEach((function(e){t.push(e.id)})),this.enrollmentService.updateEnrollments({userIds:t,classId:this.session.id}).subscribe((function(t){e.selected_students=[],e.toastr.success("Class enrollments updated."),e.getEnrollments(),e.getStudents()}))}},{key:"onDeleteModal",value:function(e){this.remove_student={id:e.id,first_name:e.user.firstName,last_name:e.user.lastName},console.log(this.remove_student.id)}},{key:"onStudentRemove",value:function(){var e=this;this.enrollmentService.removeEnrollment(this.remove_student.id).subscribe((function(t){e.toastr.success(e.remove_student.first_name+" has been removed."),e.getEnrollments(),e.getStudents()}))}}]),t}(),Me.\u0275fac=function(e){return new(e||Me)(r.Wb(le),r.Wb(T.a),r.Wb(l.b))},Me.\u0275cmp=r.Qb({type:Me,selectors:[["app-courses-sessions-enrollments"]],decls:75,vars:18,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["href","javascript:void(0)"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#updateEnrollments",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","pt-0"],[1,"table-responsive"],["class","table table-striped table-courses",4,"ngIf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","updateEnrollments","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],[1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","badge badge-pill badge-secondary",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","removeEnrollment","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"table","table-striped","table-courses"],["scope","col"],["class","text-center","scope","col","width","10%",4,"ngIf"],[4,"ngFor","ngForOf"],["scope","col","width","10%",1,"text-center"],["class","text-center",4,"ngIf"],[1,"text-center"],["data-toggle","modal","data-target","#removeEnrollment"],["href","javascript:void(0)",3,"click"],[1,"fas","fa-minus-circle","pr-2"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""],[3,"value"],[1,"badge","badge-pill","badge-secondary"],[1,"fas","fa-minus-square","pl-2",3,"click"]],template:function(e,t){1&e&&(r.bc(0,"div",0),r.bc(1,"div",1),r.bc(2,"nav",2),r.bc(3,"ol",3),r.bc(4,"li",4),r.bc(5,"a",5),r.Oc(6,"Dashboard"),r.ac(),r.ac(),r.bc(7,"li",4),r.bc(8,"a",5),r.Oc(9,"Courses"),r.ac(),r.ac(),r.bc(10,"li",6),r.bc(11,"a",7),r.Oc(12),r.ac(),r.ac(),r.bc(13,"li",4),r.bc(14,"a",5),r.Oc(15),r.ac(),r.ac(),r.bc(16,"li",8),r.Oc(17,"Enrollments"),r.ac(),r.ac(),r.ac(),r.bc(18,"div",9),r.Mc(19,be,2,0,"a",10),r.ac(),r.ac(),r.bc(20,"div",11),r.bc(21,"div",12),r.bc(22,"div",13),r.bc(23,"div",14),r.bc(24,"div",15),r.bc(25,"div",16),r.Mc(26,pe,9,7,"table",17),r.Mc(27,he,1,0,"pagination-controls",18),r.Mc(28,Se,4,0,"div",19),r.Mc(29,Oe,2,0,"div",19),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(30,"div",20),r.bc(31,"div",21),r.bc(32,"div",22),r.bc(33,"div",23),r.bc(34,"h5",24),r.Oc(35,"Update Enrollments"),r.ac(),r.bc(36,"button",25),r.bc(37,"i",26),r.Oc(38,"close"),r.ac(),r.ac(),r.ac(),r.bc(39,"div",27),r.bc(40,"form"),r.bc(41,"div",28),r.bc(42,"label"),r.Oc(43,"Students"),r.ac(),r.bc(44,"select",29),r.mc("change",(function(e){return t.onSelect(e.target.value)})),r.bc(45,"option",30),r.Oc(46,"Select students you want to add..."),r.ac(),r.Mc(47,Ie,2,2,"option",31),r.ac(),r.ac(),r.bc(48,"div"),r.Mc(49,ye,3,1,"span",32),r.ac(),r.ac(),r.ac(),r.bc(50,"div",33),r.bc(51,"button",34),r.Oc(52,"Cancel"),r.ac(),r.bc(53,"button",35),r.mc("click",(function(){return t.updateEnrollments()})),r.Oc(54,"Add"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(55,"div",36),r.bc(56,"div",21),r.bc(57,"div",22),r.bc(58,"div",23),r.bc(59,"h5",24),r.Oc(60,"Remove Student"),r.ac(),r.bc(61,"button",25),r.bc(62,"i",26),r.Oc(63,"close"),r.ac(),r.ac(),r.ac(),r.bc(64,"div",27),r.bc(65,"p",37),r.Oc(66,"Are you sure you want to remove "),r.bc(67,"strong"),r.Oc(68),r.ac(),r.Oc(69," from this session?"),r.ac(),r.ac(),r.bc(70,"div",33),r.bc(71,"button",34),r.Oc(72,"Cancel"),r.ac(),r.bc(73,"button",38),r.mc("click",(function(){return t.onStudentRemove()})),r.Oc(74,"Remove"),r.ac(),r.ac(),r.ac(),r.ac(),r.ac()),2&e&&(r.Ib(5),r.vc("routerLink",r.yc(14,ke)),r.Ib(3),r.vc("routerLink",r.yc(15,De)),r.Ib(4),r.Pc(t.course.name),r.Ib(2),r.vc("routerLink",r.zc(16,Ee,t.course.id)),r.Ib(1),r.Pc(t.session.instructor.firstName+"'s Sessions"),r.Ib(4),r.vc("ngIf","Admin"==t.user.role.title),r.Ib(7),r.vc("ngIf",t.enrollments.length),r.Ib(1),r.vc("ngIf",t.enrollments.length>10),r.Ib(1),r.vc("ngIf",!t.enrollments.length&&!t.loading),r.Ib(1),r.vc("ngIf",t.loading),r.Ib(18),r.vc("ngForOf",t.students),r.Ib(2),r.vc("ngForOf",t.selected_students),r.Ib(4),r.vc("disabled",!t.selected_students.length),r.Ib(15),r.Pc(t.remove_student.first_name+" "+t.remove_student.last_name))},directives:[o.d,i.n,s.t,s.j,s.k,s.m,s.s,i.m,b.c],pipes:[b.b],styles:[""]}),Me)}],Ne=((Ce=function t(){e(this,t)}).\u0275mod=r.Ub({type:Ce}),Ce.\u0275inj=r.Tb({factory:function(e){return new(e||Ce)},imports:[[i.b,s.d,b.a,x.f,o.e.forChild(we)]]}),Ce)}}])}();