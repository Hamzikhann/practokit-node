(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Bdnu:function(c,t,e){"use strict";e.d(t,"a",(function(){return s}));var i=e("fXoL"),a=e("tk/3"),n=e("EdIQ");let s=(()=>{class c{constructor(c,t){this.http=c,this.config=t,this.baseUrl=this.config.reqBaseUrl+"courses/"}getCourses(){return this.http.get(this.baseUrl,{observe:"response"})}addCourse(c){return this.http.post(this.baseUrl,c,{observe:"response"})}editCourse(c,t){return this.http.put(this.baseUrl+c,t,{observe:"response"})}deleteCourse(c,t){return this.http.put(this.baseUrl+c+"/status",t,{observe:"response"})}}return c.\u0275fac=function(t){return new(t||c)(i.jc(a.b),i.jc(n.a))},c.\u0275prov=i.Sb({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},lAiI:function(c,t,e){"use strict";e.r(t),e.d(t,"FileManagerModule",(function(){return C}));var i=e("ofXK"),a=e("3Pt+"),n=e("tyNb"),s=e("wd/R"),r=e("fXoL"),o=e("iWkd"),l=e("5eHb"),d=e("EdIQ"),h=e("Bdnu"),b=e("oOf3");function f(c,t){if(1&c){const c=r.cc();r.bc(0,"li"),r.bc(1,"a",28),r.mc("click",(function(){r.Ec(c);const e=t.$implicit;return r.pc(2).filterByCourse(e.id)})),r.bc(2,"i",22),r.Oc(3,"folder_open"),r.ac(),r.Oc(4),r.ac(),r.ac()}if(2&c){const c=t.$implicit,e=r.pc(2);r.Ib(1),r.Nb("active",e.filter==c.id),r.Ib(3),r.Qc(" ",c.name," ")}}const u=function(c,t){return{photo:c,pdf:t}};function p(c,t){if(1&c){const c=r.cc();r.bc(0,"div",30),r.bc(1,"div",31),r.bc(2,"div",32),r.bc(3,"a",33),r.bc(4,"i",22),r.Oc(5,"more_vert"),r.ac(),r.ac(),r.bc(6,"div",34),r.bc(7,"a",35),r.Oc(8,"Download"),r.ac(),r.bc(9,"a",36),r.mc("click",(function(){r.Ec(c);const e=t.$implicit;return r.pc(3).attachmentDelete(e.id)})),r.Oc(10,"Delete"),r.ac(),r.ac(),r.ac(),r.bc(11,"div",37),r.bc(12,"i",22),r.Oc(13,"description"),r.ac(),r.ac(),r.bc(14,"div",38),r.bc(15,"p"),r.Oc(16),r.ac(),r.bc(17,"span",39),r.Oc(18),r.ac(),r.Xb(19,"br"),r.ac(),r.ac(),r.ac()}if(2&c){const c=t.$implicit,e=r.pc(3);r.Ib(1),r.vc("ngClass",r.Ac(4,u,c.mimetype.includes("image"),!c.mimetype.includes("image"))),r.Ib(6),r.wc("href",e.imgUrl+c.path,r.Gc),r.Ib(9),r.Pc(c.originalname),r.Ib(2),r.Pc(c.createdAt)}}const g=function(c){return{itemsPerPage:6,currentPage:c}};function m(c,t){if(1&c&&(r.bc(0,"div",14),r.Mc(1,p,20,7,"div",29),r.qc(2,"paginate"),r.ac()),2&c){const c=r.pc(2);r.Ib(1),r.vc("ngForOf",r.sc(2,1,c.filteredAttachments,r.zc(4,g,c.p)))}}function v(c,t){if(1&c){const c=r.cc();r.bc(0,"pagination-controls",40),r.mc("pageChange",(function(t){return r.Ec(c),r.pc(2).p=t})),r.ac()}}function I(c,t){1&c&&(r.bc(0,"div",41),r.Xb(1,"img",42),r.bc(2,"p"),r.Oc(3,"No Files found"),r.ac(),r.ac())}function w(c,t){if(1&c){const c=r.cc();r.bc(0,"div",14),r.bc(1,"div",15),r.bc(2,"div",16),r.bc(3,"div",17),r.bc(4,"div",18),r.bc(5,"h5",19),r.Oc(6,"Courses"),r.ac(),r.bc(7,"ul",20),r.bc(8,"li"),r.bc(9,"a",21),r.mc("click",(function(){return r.Ec(c),r.pc().filterByCourse(null)})),r.bc(10,"i",22),r.Oc(11,"folder_open"),r.ac(),r.Oc(12,"All"),r.ac(),r.ac(),r.Mc(13,f,5,3,"li",23),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(14,"div",24),r.bc(15,"div",25),r.bc(16,"div",26),r.Mc(17,m,3,6,"div",12),r.Mc(18,v,1,0,"pagination-controls",27),r.Mc(19,I,4,0,"div",13),r.ac(),r.ac(),r.ac(),r.ac()}if(2&c){const c=r.pc();r.Ib(9),r.Nb("active","all"==c.filter),r.Ib(4),r.vc("ngForOf",c.courses),r.Ib(4),r.vc("ngIf",c.filteredAttachments.length),r.Ib(1),r.vc("ngIf",c.filteredAttachments.length>6),r.Ib(1),r.vc("ngIf",!c.filteredAttachments.length&&!c.loading)}}function A(c,t){1&c&&(r.bc(0,"div",41),r.Xb(1,"img",42),r.bc(2,"p"),r.Oc(3,"No Files found"),r.ac(),r.ac())}function M(c,t){1&c&&(r.bc(0,"div",41),r.Xb(1,"img",43),r.ac())}const O=function(){return["/"]},y=[{path:"",component:(()=>{class c{constructor(c,t,e,i){this.attachmentService=c,this.toastr=t,this.config=e,this.courseService=i,this.loading=!0,this.p=1,this.imgUrl=this.config.imgBaseUrl,this.search="",this.attachments=[],this.filter="all",this.filteredAttachments=[],this.courses=[]}ngOnInit(){this.getCourses()}getAttachments(){this.attachmentService.getAttachments().subscribe(c=>{this.attachments=c.body,this.attachments.forEach(c=>{c.createdAt=s(c.createdAt).format("MMMM DD, YYYY")}),this.filteredAttachments=this.attachments,this.loading=!1})}getCourses(){this.courseService.getCourses().subscribe(c=>{this.courses=c.body,this.getAttachments()})}filterByCourse(c){this.filter=c||"all",this.filteredAttachments=[],c?this.attachments.forEach(t=>{t.class.course.id==c&&this.filteredAttachments.push(t)}):this.filteredAttachments=this.attachments}attachmentDelete(c){this.attachmentService.deleteAttachment(c).subscribe(c=>{this.toastr.success("Attachment Removed."),this.getAttachments()})}Search(){this.filteredAttachments=[],this.search?this.attachments.forEach(c=>{c.originalname.includes(this.search)&&this.filteredAttachments.push(c)}):this.filteredAttachments=this.attachments}}return c.\u0275fac=function(t){return new(t||c)(r.Wb(o.a),r.Wb(l.b),r.Wb(d.a),r.Wb(h.a))},c.\u0275cmp=r.Qb({type:c,selectors:[["app-file-manager"]],decls:18,vars:6,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],[1,"navbar-search"],[1,"form-group"],["type","text","name","search","placeholder","Search...","id","nav-search",3,"ngModel","ngModelChange"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],[1,"row"],[1,"col-lg-3"],[1,"card"],[1,"card-body","py-0","px-2"],[1,"file-manager-menu"],[1,"card-title","m-0","mt-3","p-3"],[1,"list-unstyled"],["href","javascript:void9(0)",3,"click"],[1,"material-icons"],[4,"ngFor","ngForOf"],[1,"col-lg-9"],[1,"card","card-transparent","file-list"],[1,"card-body","p-0"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["href","javascript:void(0)",3,"click"],["class","col-lg-6 col-xl-4",4,"ngFor","ngForOf"],[1,"col-lg-6","col-xl-4"],[1,"card","file",3,"ngClass"],["ngbDropdown","",1,"file-options"],["href","javascript:void(0)","ngbDropdownToggle","",1,"dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right"],["download","",1,"dropdown-item",3,"href"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"card-header","file-icon"],[1,"card-body","file-info"],[1,"file-size"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-files.png","alt",""],["src","assets/images/loader.gif","alt",""]],template:function(c,t){1&c&&(r.bc(0,"div",0),r.bc(1,"div",1),r.bc(2,"nav",2),r.bc(3,"ol",3),r.bc(4,"li",4),r.bc(5,"a",5),r.Oc(6,"Dashboard"),r.ac(),r.ac(),r.bc(7,"li",6),r.Oc(8,"File Manager"),r.ac(),r.ac(),r.ac(),r.bc(9,"div",7),r.bc(10,"div",8),r.bc(11,"form"),r.bc(12,"div",9),r.bc(13,"input",10),r.mc("ngModelChange",(function(c){return t.search=c}))("ngModelChange",(function(){return t.Search()})),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.ac(),r.bc(14,"div",11),r.Mc(15,w,20,6,"div",12),r.Mc(16,A,4,0,"div",13),r.Mc(17,M,2,0,"div",13),r.ac(),r.ac()),2&c&&(r.Ib(5),r.vc("routerLink",r.yc(5,O)),r.Ib(8),r.vc("ngModel",t.search),r.Ib(2),r.vc("ngIf",!t.loading&&t.attachments.length),r.Ib(1),r.vc("ngIf",!t.attachments.length&&!t.loading),r.Ib(1),r.vc("ngIf",t.loading))},directives:[n.d,a.t,a.j,a.k,a.b,a.i,a.l,i.n,i.m,i.l,b.c],pipes:[b.b],styles:[""]}),c})()}];let C=(()=>{class c{}return c.\u0275mod=r.Ub({type:c}),c.\u0275inj=r.Tb({factory:function(t){return new(t||c)},imports:[[i.b,a.d,b.a,n.e.forChild(y)]]}),c})()}}]);