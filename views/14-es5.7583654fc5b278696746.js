!function(){function c(c,t){if(!(c instanceof t))throw new TypeError("Cannot call a class as a function")}function t(c,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(c,i.key,i)}}function e(c,e,i){return e&&t(c.prototype,e),i&&t(c,i),c}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{Bdnu:function(t,i,n){"use strict";n.d(i,"a",(function(){return s}));var a=n("fXoL"),r=n("tk/3"),o=n("EdIQ"),s=function(){var t=function(){function t(e,i){c(this,t),this.http=e,this.config=i,this.baseUrl=this.config.reqBaseUrl+"courses/"}return e(t,[{key:"getCourses",value:function(){return this.http.get(this.baseUrl,{observe:"response"})}},{key:"addCourse",value:function(c){return this.http.post(this.baseUrl,c,{observe:"response"})}},{key:"editCourse",value:function(c,t){return this.http.put(this.baseUrl+c,t,{observe:"response"})}},{key:"deleteCourse",value:function(c,t){return this.http.put(this.baseUrl+c+"/status",t,{observe:"response"})}}]),t}();return t.\u0275fac=function(c){return new(c||t)(a.jc(r.b),a.jc(o.a))},t.\u0275prov=a.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},lAiI:function(t,i,n){"use strict";n.r(i),n.d(i,"FileManagerModule",(function(){return F}));var a=n("ofXK"),r=n("3Pt+"),o=n("tyNb"),s=n("wd/R"),l=n("fXoL"),u=n("iWkd"),d=n("5eHb"),f=n("EdIQ"),h=n("Bdnu"),b=n("oOf3");function v(c,t){if(1&c){var e=l.cc();l.bc(0,"li"),l.bc(1,"a",28),l.mc("click",(function(){l.Ec(e);var c=t.$implicit;return l.pc(2).filterByCourse(c.id)})),l.bc(2,"i",22),l.Oc(3,"folder_open"),l.ac(),l.Oc(4),l.ac(),l.ac()}if(2&c){var i=t.$implicit,n=l.pc(2);l.Ib(1),l.Nb("active",n.filter==i.id),l.Ib(3),l.Qc(" ",i.name," ")}}var p=function(c,t){return{photo:c,pdf:t}};function g(c,t){if(1&c){var e=l.cc();l.bc(0,"div",30),l.bc(1,"div",31),l.bc(2,"div",32),l.bc(3,"a",33),l.bc(4,"i",22),l.Oc(5,"more_vert"),l.ac(),l.ac(),l.bc(6,"div",34),l.bc(7,"a",35),l.Oc(8,"Download"),l.ac(),l.bc(9,"a",36),l.mc("click",(function(){l.Ec(e);var c=t.$implicit;return l.pc(3).attachmentDelete(c.id)})),l.Oc(10,"Delete"),l.ac(),l.ac(),l.ac(),l.bc(11,"div",37),l.bc(12,"i",22),l.Oc(13,"description"),l.ac(),l.ac(),l.bc(14,"div",38),l.bc(15,"p"),l.Oc(16),l.ac(),l.bc(17,"span",39),l.Oc(18),l.ac(),l.Xb(19,"br"),l.ac(),l.ac(),l.ac()}if(2&c){var i=t.$implicit,n=l.pc(3);l.Ib(1),l.vc("ngClass",l.Ac(4,p,i.mimetype.includes("image"),!i.mimetype.includes("image"))),l.Ib(6),l.wc("href",n.imgUrl+i.path,l.Gc),l.Ib(9),l.Pc(i.originalname),l.Ib(2),l.Pc(i.createdAt)}}var m=function(c){return{itemsPerPage:6,currentPage:c}};function y(c,t){if(1&c&&(l.bc(0,"div",14),l.Mc(1,g,20,7,"div",29),l.qc(2,"paginate"),l.ac()),2&c){var e=l.pc(2);l.Ib(1),l.vc("ngForOf",l.sc(2,1,e.filteredAttachments,l.zc(4,m,e.p)))}}function I(c,t){if(1&c){var e=l.cc();l.bc(0,"pagination-controls",40),l.mc("pageChange",(function(c){return l.Ec(e),l.pc(2).p=c})),l.ac()}}function w(c,t){1&c&&(l.bc(0,"div",41),l.Xb(1,"img",42),l.bc(2,"p"),l.Oc(3,"No Files found"),l.ac(),l.ac())}function k(c,t){if(1&c){var e=l.cc();l.bc(0,"div",14),l.bc(1,"div",15),l.bc(2,"div",16),l.bc(3,"div",17),l.bc(4,"div",18),l.bc(5,"h5",19),l.Oc(6,"Courses"),l.ac(),l.bc(7,"ul",20),l.bc(8,"li"),l.bc(9,"a",21),l.mc("click",(function(){return l.Ec(e),l.pc().filterByCourse(null)})),l.bc(10,"i",22),l.Oc(11,"folder_open"),l.ac(),l.Oc(12,"All"),l.ac(),l.ac(),l.Mc(13,v,5,3,"li",23),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(14,"div",24),l.bc(15,"div",25),l.bc(16,"div",26),l.Mc(17,y,3,6,"div",12),l.Mc(18,I,1,0,"pagination-controls",27),l.Mc(19,w,4,0,"div",13),l.ac(),l.ac(),l.ac(),l.ac()}if(2&c){var i=l.pc();l.Ib(9),l.Nb("active","all"==i.filter),l.Ib(4),l.vc("ngForOf",i.courses),l.Ib(4),l.vc("ngIf",i.filteredAttachments.length),l.Ib(1),l.vc("ngIf",i.filteredAttachments.length>6),l.Ib(1),l.vc("ngIf",!i.filteredAttachments.length&&!i.loading)}}function A(c,t){1&c&&(l.bc(0,"div",41),l.Xb(1,"img",42),l.bc(2,"p"),l.Oc(3,"No Files found"),l.ac(),l.ac())}function O(c,t){1&c&&(l.bc(0,"div",41),l.Xb(1,"img",43),l.ac())}var C,M,D=function(){return["/"]},E=[{path:"",component:(C=function(){function t(e,i,n,a){c(this,t),this.attachmentService=e,this.toastr=i,this.config=n,this.courseService=a,this.loading=!0,this.p=1,this.imgUrl=this.config.imgBaseUrl,this.search="",this.attachments=[],this.filter="all",this.filteredAttachments=[],this.courses=[]}return e(t,[{key:"ngOnInit",value:function(){this.getCourses()}},{key:"getAttachments",value:function(){var c=this;this.attachmentService.getAttachments().subscribe((function(t){c.attachments=t.body,c.attachments.forEach((function(c){c.createdAt=s(c.createdAt).format("MMMM DD, YYYY")})),c.filteredAttachments=c.attachments,c.loading=!1}))}},{key:"getCourses",value:function(){var c=this;this.courseService.getCourses().subscribe((function(t){c.courses=t.body,c.getAttachments()}))}},{key:"filterByCourse",value:function(c){var t=this;this.filter=c||"all",this.filteredAttachments=[],c?this.attachments.forEach((function(e){e.class.course.id==c&&t.filteredAttachments.push(e)})):this.filteredAttachments=this.attachments}},{key:"attachmentDelete",value:function(c){var t=this;this.attachmentService.deleteAttachment(c).subscribe((function(c){t.toastr.success("Attachment Removed."),t.getAttachments()}))}},{key:"Search",value:function(){var c=this;this.filteredAttachments=[],this.search?this.attachments.forEach((function(t){t.originalname.includes(c.search)&&c.filteredAttachments.push(t)})):this.filteredAttachments=this.attachments}}]),t}(),C.\u0275fac=function(c){return new(c||C)(l.Wb(u.a),l.Wb(d.b),l.Wb(f.a),l.Wb(h.a))},C.\u0275cmp=l.Qb({type:C,selectors:[["app-file-manager"]],decls:18,vars:6,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],[1,"navbar-search"],[1,"form-group"],["type","text","name","search","placeholder","Search...","id","nav-search",3,"ngModel","ngModelChange"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],[1,"row"],[1,"col-lg-3"],[1,"card"],[1,"card-body","py-0","px-2"],[1,"file-manager-menu"],[1,"card-title","m-0","mt-3","p-3"],[1,"list-unstyled"],["href","javascript:void9(0)",3,"click"],[1,"material-icons"],[4,"ngFor","ngForOf"],[1,"col-lg-9"],[1,"card","card-transparent","file-list"],[1,"card-body","p-0"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["href","javascript:void(0)",3,"click"],["class","col-lg-6 col-xl-4",4,"ngFor","ngForOf"],[1,"col-lg-6","col-xl-4"],[1,"card","file",3,"ngClass"],["ngbDropdown","",1,"file-options"],["href","javascript:void(0)","ngbDropdownToggle","",1,"dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right"],["download","",1,"dropdown-item",3,"href"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"card-header","file-icon"],[1,"card-body","file-info"],[1,"file-size"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-files.png","alt",""],["src","assets/images/loader.gif","alt",""]],template:function(c,t){1&c&&(l.bc(0,"div",0),l.bc(1,"div",1),l.bc(2,"nav",2),l.bc(3,"ol",3),l.bc(4,"li",4),l.bc(5,"a",5),l.Oc(6,"Dashboard"),l.ac(),l.ac(),l.bc(7,"li",6),l.Oc(8,"File Manager"),l.ac(),l.ac(),l.ac(),l.bc(9,"div",7),l.bc(10,"div",8),l.bc(11,"form"),l.bc(12,"div",9),l.bc(13,"input",10),l.mc("ngModelChange",(function(c){return t.search=c}))("ngModelChange",(function(){return t.Search()})),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(14,"div",11),l.Mc(15,k,20,6,"div",12),l.Mc(16,A,4,0,"div",13),l.Mc(17,O,2,0,"div",13),l.ac(),l.ac()),2&c&&(l.Ib(5),l.vc("routerLink",l.yc(5,D)),l.Ib(8),l.vc("ngModel",t.search),l.Ib(2),l.vc("ngIf",!t.loading&&t.attachments.length),l.Ib(1),l.vc("ngIf",!t.attachments.length&&!t.loading),l.Ib(1),l.vc("ngIf",t.loading))},directives:[o.d,r.t,r.j,r.k,r.b,r.i,r.l,a.n,a.m,a.l,b.c],pipes:[b.b],styles:[""]}),C)}],F=((M=function t(){c(this,t)}).\u0275mod=l.Ub({type:M}),M.\u0275inj=l.Tb({factory:function(c){return new(c||M)},imports:[[a.b,r.d,b.a,o.e.forChild(E)]]}),M)}}])}();