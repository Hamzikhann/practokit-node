!function(){function c(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function e(c,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(c,t.key,t)}}function a(c,a,t){return a&&e(c.prototype,a),t&&e(c,t),c}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{JBYO:function(e,t,i){"use strict";i.r(t),i.d(t,"AssignmentModule",(function(){return rc}));var s=i("ofXK"),n=i("3Pt+"),o=i("tyNb"),r=i("wd/R"),l=i("fXoL"),d=i("5eHb"),b=i("sGSV"),u=i("Bdnu"),p=i("CfA1"),v=i("EdIQ"),g=i("1kSV"),m=i("CzEO"),f=i("kvL/"),h=i("oOf3");function k(c,e){1&c&&(l.bc(0,"div",49),l.bc(1,"a",50),l.Oc(2,"Create New Task"),l.ac(),l.ac())}function I(c,e){if(1&c){var a=l.cc();l.bc(0,"div",51),l.bc(1,"div",18),l.bc(2,"div",52),l.bc(3,"h5",53),l.Oc(4," Filters "),l.ac(),l.bc(5,"div",54),l.bc(6,"div",55),l.bc(7,"ul",56),l.bc(8,"li"),l.bc(9,"a",57),l.mc("click",(function(){return l.Ec(a),l.pc().ApplyFilte("all")})),l.Xb(10,"i",58),l.Oc(11,"All"),l.ac(),l.ac(),l.bc(12,"li"),l.bc(13,"a",57),l.mc("click",(function(){return l.Ec(a),l.pc().ApplyFilte("inQueue")})),l.Xb(14,"i",59),l.Oc(15,"In Queue"),l.ac(),l.ac(),l.bc(16,"li"),l.bc(17,"a",57),l.mc("click",(function(){return l.Ec(a),l.pc().ApplyFilte("submitted")})),l.Xb(18,"i",60),l.Oc(19,"Submitted"),l.ac(),l.ac(),l.bc(20,"li"),l.bc(21,"a",57),l.mc("click",(function(){return l.Ec(a),l.pc().ApplyFilte("graded")})),l.Xb(22,"i",61),l.Oc(23,"Graded"),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac()}if(2&c){var t=l.pc();l.Ib(8),l.Nb("active","all"==t.filterType),l.Ib(4),l.Nb("active","inQueue"==t.filterType),l.Ib(4),l.Nb("active","submitted"==t.filterType),l.Ib(4),l.Nb("active","graded"==t.filterType)}}var O=function(c){return["/todo",c]};function y(c,e){if(1&c&&(l.bc(0,"tr"),l.bc(1,"td"),l.bc(2,"a",5),l.Xb(3,"i",67),l.bc(4,"strong"),l.Oc(5),l.ac(),l.Xb(6,"br"),l.ac(),l.ac(),l.bc(7,"td"),l.Oc(8),l.ac(),l.bc(9,"td"),l.Oc(10),l.ac(),l.ac()),2&c){var a=e.$implicit;l.Ib(2),l.vc("routerLink",l.zc(4,O,a.id)),l.Ib(3),l.Pc(a.title),l.Ib(3),l.Qc(" ",a.class.course.name," "),l.Ib(2),l.Qc(" ",a.dueDate," ")}}var M=function(c){return{itemsPerPage:10,currentPage:c}};function T(c,e){if(1&c&&(l.bc(0,"div",62),l.bc(1,"table",63),l.bc(2,"thead"),l.bc(3,"tr"),l.bc(4,"th",64),l.Oc(5,"Task Name"),l.ac(),l.bc(6,"th",65),l.Oc(7,"Course"),l.ac(),l.bc(8,"th",65),l.Oc(9,"Due Date"),l.ac(),l.ac(),l.ac(),l.bc(10,"tbody"),l.Mc(11,y,11,6,"tr",66),l.qc(12,"paginate"),l.ac(),l.ac(),l.ac()),2&c){var a=l.pc();l.Ib(11),l.vc("ngForOf",l.sc(12,1,a.filteredTasks,l.zc(4,M,a.p)))}}function D(c,e){if(1&c){var a=l.cc();l.bc(0,"pagination-controls",68),l.mc("pageChange",(function(c){return l.Ec(a),l.pc().p=c})),l.ac()}}function S(c,e){1&c&&(l.bc(0,"div",69),l.Xb(1,"img",70),l.bc(2,"p"),l.Oc(3,"No Assignments found"),l.ac(),l.ac())}function C(c,e){1&c&&(l.bc(0,"div",69),l.Xb(1,"img",71),l.ac())}function w(c,e){if(1&c&&(l.bc(0,"option",72),l.Oc(1),l.ac()),2&c){var a=e.$implicit;l.wc("value",a.id),l.Ib(1),l.Qc("",a.name," ")}}function x(c,e){if(1&c&&(l.bc(0,"option",72),l.Oc(1),l.ac()),2&c){var a=e.$implicit;l.wc("value",a.id),l.Ib(1),l.Qc(" ",a.title," ")}}function F(c,e){if(1&c){var a=l.cc();l.bc(0,"ngx-dropzone-preview",73),l.mc("removed",(function(){l.Ec(a);var c=e.$implicit;return l.pc().onRemove(c)})),l.bc(1,"ngx-dropzone-label"),l.Oc(2),l.ac(),l.ac()}if(2&c){var t=e.$implicit;l.vc("removable",!0),l.Ib(2),l.Rc("",t.name," (",t.type,")")}}var A,E,z=function(){return["/"]},N=function(c){return{"col-lg-12":c}},j=((A=function(){function e(a,t,i,s,n,o){c(this,e),this.toastr=a,this.taskService=t,this.courseService=i,this.classService=s,this.config=n,this.calendar=o,this.loading=!0,this.p=1,this.uploadFileSize=this.config.uploadFileSize,this.search="",this.tasks=[],this.filteredTasks=[],this.filterType="all",this.courses=[],this.sessions=[],this.task={title:"",description:"",dueDate:this.calendar.getToday(),courseId:"",classId:"",files:[]}}return a(e,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user")),this.getTasks(),this.getCourses()}},{key:"getTasks",value:function(){var c=this;this.taskService.getTasks().subscribe((function(e){c.tasks=e.body,c.tasks.forEach((function(c){c.dueDate=r(c.dueDate).format("MMMM DD, YY"),c.submissionStatus=c.submissions.length?c.submissions[0].status:"inQueue"})),c.filteredTasks=c.tasks,c.loading=!1}))}},{key:"getCourses",value:function(){var c=this;this.courseService.getCourses().subscribe((function(e){c.courses=e.body}))}},{key:"getSessions",value:function(){var c=this;this.classService.getClasses(this.task.courseId).subscribe((function(e){c.sessions=e.body,c.sessions.forEach((function(c){var e=c.timing.split(" - ")[0],a=c.timing.split(" - ")[1];c.startTime=e.split(":")[0]>12?e.split(":")[0]-12+":"+e.split(":")[1]+" PM":e+" AM",c.endTime=a.split(":")[0]>12?a.split(":")[0]-12+":"+a.split(":")[1]+" PM":a+" AM",c.title=c.title+" ( "+c.startTime+" - "+c.endTime+" )"}))}))}},{key:"onSelect",value:function(c){var e=this;c.addedFiles.forEach((function(c){e.task.files.length<5&&(c.size>e.uploadFileSize?e.toastr.error("Please adhere to the file size guidelines"):e.task.files.push(c))}))}},{key:"onRemove",value:function(c){this.task.files.splice(this.task.files.indexOf(c),1)}},{key:"AddTask",value:function(){var c=this,e=new FormData;e.append("title",this.task.title),e.append("description",this.task.description),e.append("dueDate",this.task.dueDate.month+"/"+this.task.dueDate.day+"/"+this.task.dueDate.year),e.append("classId",this.task.classId),this.task.files.forEach((function(c){e.append("files",c)})),this.taskService.addTask(e).subscribe((function(e){c.task={title:"",description:"",dueDate:c.calendar.getToday(),courseId:"",classId:"",files:[]},c.toastr.success("Task Created."),c.getTasks()}))}},{key:"Search",value:function(){var c=this;if("all"==this.filterType&&(this.filteredTasks=[]),this.search)if("all"!=this.filterType){var e=[];this.filteredTasks.forEach((function(a){a.title.includes(c.search)&&e.push(a)})),this.filteredTasks=e}else this.tasks.forEach((function(e){e.title.includes(c.search)&&c.filteredTasks.push(e)}));else this.filterType="all",this.filteredTasks=this.tasks}},{key:"ApplyFilte",value:function(c){var e=this;this.filterType=c,this.search||(this.filteredTasks=[]),"all"==this.filterType?this.filteredTasks=this.tasks:this.search?this.filteredTasks.forEach((function(c){c.submissionStatus==e.filterType&&e.filteredTasks.push(c)})):this.tasks.forEach((function(c){c.submissionStatus==e.filterType&&e.filteredTasks.push(c)}))}}]),e}()).\u0275fac=function(c){return new(c||A)(l.Wb(d.b),l.Wb(b.a),l.Wb(u.a),l.Wb(p.a),l.Wb(v.a),l.Wb(g.a))},A.\u0275cmp=l.Qb({type:A,selectors:[["app-todo"]],decls:102,vars:21,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","d-flex"],[1,"col-md-12","p-0"],[1,"page-options","d-flex","mb-3"],[1,"navbar-search"],[1,"form-group"],["type","text","name","search","placeholder","Search...","id","nav-search",3,"ngModel","ngModelChange"],["class","ml-4",4,"ngIf"],[1,"main-wrapper",2,"padding-top","unset"],[1,"row"],["class","col-lg-3",4,"ngIf"],[1,"col-lg-9",3,"ngClass"],[1,"card"],["class","card-body p-0",4,"ngIf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newTask","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"col-12"],[1,"text-danger"],["type","text","id","new-task-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"],[1,"col"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar","d-flex","align-items-center",3,"click"],[1,"material-icons-outlined"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["name","description","placeholder","Enter project description",1,"quill-textbox",3,"ngModel","ngModelChange"],[2,"height","unset","border","2px dashed #e8e8e8",3,"change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],[1,"ml-4"],["href","javascript:void(0)","data-toggle","modal","data-target","#newTask",1,"btn","btn-primary"],[1,"col-lg-3"],[1,"card-body"],[1,"card-title",2,"margin-bottom","unset !important"],[1,"todo-sidebar"],[1,"todo-menu",2,"margin","unset"],[1,"list-unstyled"],["href","javascript:void(0)",3,"click"],[1,"fas","fa-bars"],[1,"far","fa-eye"],[1,"far","fa-copy"],[1,"fas","fa-edit"],[1,"card-body","p-0"],[1,"table","table-striped","table-courses"],["scope","col",1,"w-50"],["scope","col"],[4,"ngFor","ngForOf"],[1,"far","fa-file","pr-2"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""],[3,"value"],[3,"removable","removed"]],template:function(c,e){if(1&c){var a=l.cc();l.bc(0,"div",0),l.bc(1,"div",1),l.bc(2,"nav",2),l.bc(3,"ol",3),l.bc(4,"li",4),l.bc(5,"a",5),l.Oc(6,"Dashboard"),l.ac(),l.ac(),l.bc(7,"li",6),l.Oc(8,"Assignments"),l.ac(),l.ac(),l.ac(),l.bc(9,"div",7),l.bc(10,"div",8),l.bc(11,"div",9),l.bc(12,"div",10),l.bc(13,"form"),l.bc(14,"div",11),l.bc(15,"input",12),l.mc("ngModelChange",(function(c){return e.search=c}))("ngModelChange",(function(){return e.Search()})),l.ac(),l.ac(),l.ac(),l.ac(),l.Mc(16,k,3,0,"div",13),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(17,"div",14),l.bc(18,"div",15),l.Mc(19,I,24,8,"div",16),l.bc(20,"div",17),l.bc(21,"div",18),l.Mc(22,T,13,6,"div",19),l.ac(),l.Mc(23,D,1,0,"pagination-controls",20),l.Mc(24,S,4,0,"div",21),l.Mc(25,C,2,0,"div",21),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(26,"div",22),l.bc(27,"div",23),l.bc(28,"div",24),l.bc(29,"div",25),l.bc(30,"h5",26),l.Oc(31,"New Task"),l.ac(),l.bc(32,"button",27),l.bc(33,"i",28),l.Oc(34,"close"),l.ac(),l.ac(),l.ac(),l.bc(35,"div",29),l.bc(36,"div",15),l.bc(37,"div",30),l.bc(38,"div",11),l.bc(39,"label"),l.Oc(40,"Title"),l.ac(),l.bc(41,"span",31),l.Oc(42," *"),l.ac(),l.bc(43,"input",32),l.mc("ngModelChange",(function(c){return e.task.title=c})),l.ac(),l.ac(),l.bc(44,"div",15),l.bc(45,"div",33),l.bc(46,"div",11),l.bc(47,"label"),l.Oc(48,"Due Date"),l.ac(),l.bc(49,"span",31),l.Oc(50," *"),l.ac(),l.bc(51,"div",34),l.bc(52,"input",35,36),l.mc("ngModelChange",(function(c){return e.task.dueDate=c})),l.ac(),l.bc(54,"div",37),l.bc(55,"button",38),l.mc("click",(function(){return l.Ec(a),l.Dc(53).toggle()})),l.bc(56,"i",39),l.Oc(57,"calendar_today"),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(58,"div",33),l.bc(59,"div",11),l.bc(60,"label"),l.Oc(61,"Course"),l.ac(),l.bc(62,"span",31),l.Oc(63," *"),l.ac(),l.bc(64,"select",40),l.mc("ngModelChange",(function(c){return e.task.courseId=c}))("ngModelChange",(function(){return e.getSessions()})),l.bc(65,"option",41),l.Oc(66,"Select"),l.ac(),l.Mc(67,w,2,2,"option",42),l.ac(),l.ac(),l.ac(),l.bc(68,"div",33),l.bc(69,"div",11),l.bc(70,"label"),l.Oc(71,"Session"),l.ac(),l.bc(72,"span",31),l.Oc(73," *"),l.ac(),l.bc(74,"select",40),l.mc("ngModelChange",(function(c){return e.task.classId=c})),l.bc(75,"option",41),l.Oc(76,"Select"),l.ac(),l.Mc(77,x,2,2,"option",42),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(78,"div",30),l.bc(79,"div",11),l.bc(80,"label"),l.Oc(81,"Description"),l.ac(),l.bc(82,"span",31),l.Oc(83," *"),l.ac(),l.bc(84,"quill-editor",43),l.mc("ngModelChange",(function(c){return e.task.description=c})),l.ac(),l.ac(),l.ac(),l.bc(85,"div",30),l.bc(86,"div",11),l.bc(87,"label"),l.Oc(88,"Attachments"),l.ac(),l.bc(89,"ngx-dropzone",44),l.mc("change",(function(c){return e.onSelect(c)})),l.bc(90,"ngx-dropzone-label"),l.Oc(91,"Drop Attachments here!"),l.ac(),l.Mc(92,F,3,3,"ngx-dropzone-preview",45),l.ac(),l.bc(93,"span",31),l.Oc(94," * "),l.ac(),l.bc(95,"span"),l.Oc(96,"File size cannot be greater then 5 MB."),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(97,"div",46),l.bc(98,"button",47),l.Oc(99,"Cancel"),l.ac(),l.bc(100,"button",48),l.mc("click",(function(){return e.AddTask()})),l.Oc(101," Save"),l.ac(),l.ac(),l.ac(),l.ac(),l.ac()}2&c&&(l.Ib(5),l.vc("routerLink",l.yc(18,z)),l.Ib(10),l.vc("ngModel",e.search),l.Ib(1),l.vc("ngIf","Teacher"==e.user.role.title),l.Ib(3),l.vc("ngIf","Student"==e.user.role.title),l.Ib(1),l.vc("ngClass",l.zc(19,N,"Student"!=e.user.role.title)),l.Ib(2),l.vc("ngIf",e.filteredTasks.length),l.Ib(1),l.vc("ngIf",e.filteredTasks.length>10),l.Ib(1),l.vc("ngIf",!e.filteredTasks.length&&!e.loading),l.Ib(1),l.vc("ngIf",e.loading),l.Ib(18),l.vc("ngModel",e.task.title),l.Ib(9),l.vc("ngModel",e.task.dueDate),l.Ib(12),l.vc("ngModel",e.task.courseId),l.Ib(3),l.vc("ngForOf",e.courses),l.Ib(7),l.vc("ngModel",e.task.classId),l.Ib(3),l.vc("ngForOf",e.sessions),l.Ib(7),l.vc("ngModel",e.task.description),l.Ib(8),l.vc("ngForOf",e.task.files),l.Ib(8),l.vc("disabled",!(e.task.title&&e.task.dueDate&&e.task.classId&&e.task.description)))},directives:[o.d,n.t,n.j,n.k,n.b,n.i,n.l,s.n,s.l,g.e,n.q,n.m,n.s,s.m,m.a,f.a,f.d,h.c,f.c],pipes:[h.b],styles:[""]}),A),G=i("iWkd"),Y=i("tk/3"),U=((E=function(){function e(a,t){c(this,e),this.http=a,this.config=t,this.baseUrl=this.config.reqBaseUrl+"submissions/"}return a(e,[{key:"getSubmission",value:function(c){return this.http.get(this.baseUrl+"task/"+c,{observe:"response"})}},{key:"addSubmission",value:function(c,e,a){return this.http.post(this.baseUrl+"user/"+c+"/task/"+e,a,{observe:"response"})}},{key:"gradeTask",value:function(c,e){return this.http.put(this.baseUrl+c,e,{observe:"response"})}}]),e}()).\u0275fac=function(c){return new(c||E)(l.jc(Y.b),l.jc(v.a))},E.\u0275prov=l.Sb({token:E,factory:E.\u0275fac,providedIn:"root"}),E);function L(c,e){1&c&&(l.bc(0,"a",62),l.Oc(1,"Mark as Complete"),l.ac())}function P(c,e){1&c&&(l.bc(0,"a",63),l.Oc(1,"Delete Task"),l.ac())}function R(c,e){1&c&&(l.bc(0,"a",64),l.Oc(1,"Edit Task"),l.ac())}function W(c,e){1&c&&(l.bc(0,"a",65),l.Oc(1,"Upload Files"),l.ac())}function B(c,e){if(1&c){var a=l.cc();l.bc(0,"div",67),l.bc(1,"div",68),l.bc(2,"div",69),l.bc(3,"a",70),l.bc(4,"i",8),l.Oc(5,"more_vert"),l.ac(),l.ac(),l.bc(6,"div",71),l.bc(7,"a",72),l.Oc(8,"Download"),l.ac(),l.bc(9,"a",73),l.mc("click",(function(){l.Ec(a);var c=e.$implicit;return l.pc(3).attachmentDelete(c.id)})),l.Oc(10,"Delete"),l.ac(),l.ac(),l.ac(),l.bc(11,"div",74),l.bc(12,"i",8),l.Oc(13,"description"),l.ac(),l.ac(),l.bc(14,"div",75),l.bc(15,"p"),l.Oc(16),l.ac(),l.ac(),l.ac(),l.ac()}if(2&c){var t=e.$implicit,i=l.pc(3);l.Ib(7),l.wc("href",i.imgUrl+t.path,l.Gc),l.Ib(9),l.Pc(t.originalname)}}function Q(c,e){if(1&c&&(l.bc(0,"div",34),l.Mc(1,B,17,2,"div",66),l.ac()),2&c){var a=l.pc(2);l.Ib(1),l.vc("ngForOf",a.attachments)}}function X(c,e){1&c&&(l.bc(0,"div",76),l.Xb(1,"img",77),l.bc(2,"p"),l.Oc(3,"No Files found"),l.ac(),l.ac())}function $(c,e){1&c&&(l.bc(0,"th",57),l.Oc(1,"Action"),l.ac())}function q(c,e){if(1&c&&(l.bc(0,"td"),l.bc(1,"a",80),l.bc(2,"i",8),l.Oc(3,"description"),l.ac(),l.ac(),l.ac()),2&c){var a=l.pc().$implicit;l.Ib(1),l.wc("href",a.user.submissions[0].link,l.Gc)}}function J(c,e){1&c&&(l.bc(0,"td"),l.Oc(1," N/A "),l.ac())}function H(c,e){if(1&c){var a=l.cc();l.bc(0,"td",51),l.bc(1,"a",81),l.mc("click",(function(){l.Ec(a);var c=l.pc().$implicit;return l.pc(2).onGradeModal(c)})),l.bc(2,"span",82),l.Oc(3,"Grade"),l.ac(),l.ac(),l.ac()}}function _(c,e){if(1&c&&(l.bc(0,"tr"),l.bc(1,"td"),l.Oc(2),l.ac(),l.bc(3,"td"),l.Oc(4),l.ac(),l.bc(5,"td"),l.Oc(6),l.ac(),l.Mc(7,q,4,1,"td",78),l.Mc(8,J,2,0,"td",78),l.Mc(9,H,4,0,"td",79),l.ac()),2&c){var a=e.$implicit,t=l.pc(2);l.Ib(2),l.Qc("",a.user.firstName+" "+a.user.lastName," "),l.Ib(2),l.Qc(" ",a.user.submissions[0]?a.user.submissions[0].createdAt:"Not Submitted"," "),l.Ib(2),l.Qc("",a.user.submissions[0]&&a.user.submissions[0].grade||"Not Graded"," "),l.Ib(1),l.vc("ngIf",a.user.submissions[0]&&a.user.submissions[0].link),l.Ib(1),l.vc("ngIf",!a.user.submissions[0]||!a.user.submissions[0].link),l.Ib(1),l.vc("ngIf","Teacher"==t.user.role.title)}}var V=function(){return["/"]};function K(c,e){if(1&c&&(l.bc(0,"div",22),l.bc(1,"div",23),l.bc(2,"nav",24),l.bc(3,"ol",25),l.bc(4,"li",26),l.bc(5,"a",27),l.Oc(6,"Dashboard"),l.ac(),l.ac(),l.bc(7,"li",28),l.Oc(8,"Assignments"),l.ac(),l.ac(),l.ac(),l.bc(9,"div",29),l.Mc(10,L,2,0,"a",30),l.Mc(11,P,2,0,"a",31),l.Mc(12,R,2,0,"a",32),l.ac(),l.ac(),l.bc(13,"div",33),l.bc(14,"div",34),l.bc(15,"div",35),l.bc(16,"div",36),l.bc(17,"div",37),l.bc(18,"div",34),l.bc(19,"div",38),l.bc(20,"h5",39),l.Oc(21),l.ac(),l.Xb(22,"p",40),l.ac(),l.ac(),l.bc(23,"div",34),l.bc(24,"div",41),l.bc(25,"h5",42),l.Oc(26,"Assigned By: "),l.ac(),l.ac(),l.bc(27,"div",43),l.Oc(28),l.ac(),l.ac(),l.bc(29,"div",34),l.bc(30,"div",41),l.bc(31,"h5",42),l.Oc(32,"Created At: "),l.ac(),l.ac(),l.bc(33,"div",43),l.Oc(34),l.ac(),l.ac(),l.bc(35,"div",34),l.bc(36,"div",38),l.Xb(37,"hr"),l.ac(),l.bc(38,"div",41),l.bc(39,"h5",42),l.Oc(40,"Due Date: "),l.ac(),l.ac(),l.bc(41,"div",43),l.Oc(42),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(43,"div",44),l.bc(44,"div",45),l.bc(45,"div",34),l.bc(46,"div",46),l.bc(47,"h5",47),l.Oc(48,"FILES SHARED WITH YOU"),l.ac(),l.ac(),l.bc(49,"div",48),l.Mc(50,W,2,0,"a",49),l.ac(),l.ac(),l.Mc(51,Q,2,1,"div",50),l.bc(52,"div",51),l.Mc(53,X,4,0,"div",52),l.ac(),l.ac(),l.ac(),l.bc(54,"div",44),l.bc(55,"div",45),l.bc(56,"div",34),l.bc(57,"div",38),l.bc(58,"h5",47),l.Oc(59,"ASSIGNMENT SUBMISSIONS"),l.ac(),l.ac(),l.ac(),l.bc(60,"div",34),l.bc(61,"div",35),l.bc(62,"div",53),l.bc(63,"div",54),l.bc(64,"div",55),l.bc(65,"table",56),l.bc(66,"thead"),l.bc(67,"tr"),l.bc(68,"th",57),l.Oc(69,"Student Name"),l.ac(),l.bc(70,"th",58),l.Oc(71,"Submission Date"),l.ac(),l.bc(72,"th",59),l.Oc(73,"Grade"),l.ac(),l.bc(74,"th",57),l.Oc(75,"Download"),l.ac(),l.Mc(76,$,2,0,"th",60),l.ac(),l.ac(),l.bc(77,"tbody"),l.Mc(78,_,10,6,"tr",61),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac()),2&c){var a=l.pc();l.Ib(5),l.vc("routerLink",l.yc(14,V)),l.Ib(5),l.vc("ngIf","Student"==a.user.role.title&&!a.enrollments[0].user.submissions[0]),l.Ib(1),l.vc("ngIf","Teacher"==a.user.role.title),l.Ib(1),l.vc("ngIf","Teacher"==a.user.role.title),l.Ib(9),l.Pc(a.task.title),l.Ib(1),l.vc("innerHTML",a.task.description,l.Fc),l.Ib(6),l.Pc(a.task.user.firstName+" "+a.task.user.lastName),l.Ib(6),l.Pc(a.task.createdAt),l.Ib(8),l.Pc(a.task.dueDateFormatted),l.Ib(8),l.vc("ngIf","Teacher"==a.user.role.title),l.Ib(1),l.vc("ngIf",a.attachments.length),l.Ib(2),l.vc("ngIf",!a.attachments.length),l.Ib(23),l.vc("ngIf","Teacher"==a.user.role.title),l.Ib(2),l.vc("ngForOf",a.enrollments)}}function Z(c,e){1&c&&(l.bc(0,"div",83),l.Xb(1,"img",84),l.ac())}function cc(c,e){if(1&c){var a=l.cc();l.bc(0,"div",4),l.bc(1,"div",5),l.bc(2,"h5",6),l.Oc(3,"Edit Task"),l.ac(),l.bc(4,"button",7),l.bc(5,"i",8),l.Oc(6,"close"),l.ac(),l.ac(),l.ac(),l.bc(7,"div",9),l.bc(8,"div",10),l.bc(9,"label"),l.Oc(10,"Title"),l.ac(),l.bc(11,"input",85),l.mc("ngModelChange",(function(c){return l.Ec(a),l.pc().task.title=c})),l.ac(),l.ac(),l.bc(12,"div",34),l.bc(13,"div",86),l.bc(14,"div",10),l.bc(15,"label"),l.Oc(16,"Due Date"),l.ac(),l.bc(17,"div",87),l.bc(18,"input",88,89),l.mc("ngModelChange",(function(c){return l.Ec(a),l.pc().taskDueDate=c})),l.ac(),l.bc(20,"div",90),l.bc(21,"button",91),l.mc("click",(function(){return l.Ec(a),l.Dc(19).toggle()})),l.bc(22,"i",92),l.Oc(23,"calendar_today"),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(24,"div",10),l.bc(25,"label"),l.Oc(26,"Description"),l.ac(),l.bc(27,"quill-editor",93),l.mc("ngModelChange",(function(c){return l.Ec(a),l.pc().task.description=c})),l.ac(),l.ac(),l.ac(),l.bc(28,"div",13),l.bc(29,"button",14),l.Oc(30,"Cancel"),l.ac(),l.bc(31,"button",15),l.mc("click",(function(){return l.Ec(a),l.pc().EditTask()})),l.Oc(32," Save"),l.ac(),l.ac(),l.ac()}if(2&c){var t=l.pc();l.Ib(11),l.vc("ngModel",t.task.title),l.Ib(7),l.vc("ngModel",t.taskDueDate),l.Ib(9),l.vc("ngModel",t.task.description),l.Ib(4),l.vc("disabled",!(t.task.title&&t.task.dueDate&&t.task.classId&&t.task.description))}}function ec(c,e){if(1&c){var a=l.cc();l.bc(0,"div",4),l.bc(1,"div",5),l.bc(2,"h5",6),l.Oc(3,"New Task"),l.ac(),l.bc(4,"button",7),l.bc(5,"i",8),l.Oc(6,"close"),l.ac(),l.ac(),l.ac(),l.bc(7,"div",9),l.bc(8,"div",10),l.bc(9,"label"),l.Oc(10,"Grade"),l.ac(),l.bc(11,"select",94),l.mc("ngModelChange",(function(c){return l.Ec(a),l.pc().submissionGrade.grade=c})),l.bc(12,"option",95),l.Oc(13,"Choose..."),l.ac(),l.bc(14,"option",96),l.Oc(15,"A +"),l.ac(),l.bc(16,"option",97),l.Oc(17,"A"),l.ac(),l.bc(18,"option",98),l.Oc(19,"A -"),l.ac(),l.bc(20,"option",99),l.Oc(21,"B +"),l.ac(),l.bc(22,"option",100),l.Oc(23,"B"),l.ac(),l.bc(24,"option",101),l.Oc(25,"B -"),l.ac(),l.bc(26,"option",102),l.Oc(27,"C +"),l.ac(),l.bc(28,"option",103),l.Oc(29,"C"),l.ac(),l.bc(30,"option",104),l.Oc(31,"C -"),l.ac(),l.bc(32,"option",105),l.Oc(33,"D"),l.ac(),l.bc(34,"option",106),l.Oc(35,"F"),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(36,"div",13),l.bc(37,"button",14),l.Oc(38,"Cancel"),l.ac(),l.bc(39,"button",107),l.mc("click",(function(){return l.Ec(a),l.pc().GradeSubmission()})),l.Oc(40," Save"),l.ac(),l.ac(),l.ac()}if(2&c){var t=l.pc();l.Ib(11),l.vc("ngModel",t.submissionGrade.grade)}}function ac(c,e){if(1&c){var a=l.cc();l.bc(0,"ngx-dropzone-preview",111),l.mc("removed",(function(){l.Ec(a);var c=e.$implicit;return l.pc(2).onRemove(c)})),l.bc(1,"ngx-dropzone-label"),l.Oc(2),l.ac(),l.ac()}if(2&c){var t=e.$implicit;l.vc("removable",!0),l.Ib(2),l.Rc("",t.name," (",t.type,")")}}function tc(c,e){if(1&c){var a=l.cc();l.bc(0,"div",4),l.bc(1,"div",5),l.bc(2,"h5",6),l.Oc(3,"Upload Attachments"),l.ac(),l.bc(4,"button",7),l.bc(5,"i",8),l.Oc(6,"close"),l.ac(),l.ac(),l.ac(),l.bc(7,"div",9),l.bc(8,"div",10),l.bc(9,"ngx-dropzone",108),l.mc("change",(function(c){return l.Ec(a),l.pc().onSelect(c)})),l.bc(10,"ngx-dropzone-label"),l.Oc(11,"Drop Attachments here!"),l.ac(),l.Mc(12,ac,3,3,"ngx-dropzone-preview",109),l.ac(),l.bc(13,"span",110),l.Oc(14," * "),l.ac(),l.bc(15,"span"),l.Oc(16,"File size cannot be greater then 5 MB."),l.ac(),l.ac(),l.ac(),l.bc(17,"div",13),l.bc(18,"button",14),l.Oc(19,"Cancel"),l.ac(),l.bc(20,"button",15),l.mc("click",(function(){return l.Ec(a),l.pc().UploadFIles()})),l.Oc(21," Upload"),l.ac(),l.ac(),l.ac()}if(2&c){var t=l.pc();l.Ib(9),l.vc("multiple",!1)("maxFileSize",t.uploadFileSize),l.Ib(3),l.vc("ngForOf",t.files),l.Ib(8),l.vc("disabled",!t.files.length)}}function ic(c,e){if(1&c){var a=l.cc();l.bc(0,"div",4),l.bc(1,"div",5),l.bc(2,"h5",6),l.Oc(3,"Delete Task"),l.ac(),l.bc(4,"button",7),l.bc(5,"i",8),l.Oc(6,"close"),l.ac(),l.ac(),l.ac(),l.bc(7,"div",9),l.bc(8,"p",112),l.Oc(9,"Are you sure you want to remove "),l.bc(10,"strong"),l.Oc(11),l.ac(),l.Oc(12,"?"),l.ac(),l.ac(),l.bc(13,"div",13),l.bc(14,"button",14),l.Oc(15,"Cancel"),l.ac(),l.bc(16,"button",113),l.mc("click",(function(){return l.Ec(a),l.pc().RemoveTask()})),l.Oc(17,"Remove"),l.ac(),l.ac(),l.ac()}if(2&c){var t=l.pc();l.Ib(11),l.Pc(t.task.title)}}var sc,nc,oc=[{path:"",component:j},{path:":taskId",component:(sc=function(){function e(a,t,i,s,n,o,r){c(this,e),this.toastr=a,this.taskService=t,this.activatedRoute=i,this.config=s,this.attachmentService=n,this.submissionService=o,this.location=r,this.loading=!0,this.uploadFileSize=this.config.uploadFileSize,this.imgUrl=this.config.imgBaseUrl,this.files=[],this.attachments=[],this.enrollments=[],this.submissions=[],this.submission={link:"",message:"",taskId:""},this.submissionGrade={userId:"",taskId:"",grade:""}}return a(e,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user")),this.taskId=this.activatedRoute.snapshot.paramMap.get("taskId"),this.getTaskDetail()}},{key:"getTaskDetail",value:function(){var c=this;this.taskService.getTasks(this.taskId).subscribe((function(e){c.task=e.body,c.attachments=c.task.attachments,c.enrollments=c.task.class.enrollments,c.enrollments.forEach((function(c){c.user.submissions[0]&&(c.user.submissions[0].createdAt=r(c.user.submissions[0].createdAt).format("MMMM DD, YYYY"))}));var a=r(c.task.dueDate).format("YYYY-MM-DD"),t={year:Number.parseInt(a.split("-")[0]),month:Number.parseInt(a.split("-")[1]),day:Number.parseInt(a.split("-")[2])};c.task.dueDate=t,c.taskDueDate=t,c.task.dueDateFormatted=r(c.task.dueDate).format("MMMM DD, YYYY"),c.task.createdAt=r(c.task.createdAt).format("MMMM DD, YYYY"),c.loading=!1}))}},{key:"onSelect",value:function(c){var e=this;c.addedFiles.forEach((function(c){0==e.files.length&&(c.size>e.uploadFileSize?e.toastr.error("Please adhere to the file size guidelines"):e.files.push(c))}))}},{key:"onRemove",value:function(c){this.files.splice(this.files.indexOf(c),1)}},{key:"UploadFIles",value:function(){var c=this,e=new FormData;e.append("classId",this.task.classId),e.append("taskId",this.task.id),this.files.forEach((function(c){e.append("file",c)})),this.attachmentService.addAttachments(e).subscribe((function(e){c.toastr.success("Files Uploaded successfully."),c.files=[],c.getTaskDetail()}))}},{key:"attachmentDelete",value:function(c){var e=this;this.attachmentService.deleteAttachment(c).subscribe((function(c){e.toastr.success("Attachment Removed."),e.getTaskDetail()}))}},{key:"EditTask",value:function(){var c=this;console.log(this.task.dueDate),this.taskService.editTask(this.task.id,{title:this.task.title,description:this.task.description,dueDate:this.taskDueDate.month+"/"+this.taskDueDate.day+"/"+this.taskDueDate.year}).subscribe((function(e){c.toastr.success("Task Detail Updated."),c.getTaskDetail()}))}},{key:"Submit",value:function(){var c=this,e=JSON.parse(localStorage.getItem("user"));this.submissionService.addSubmission(e.id,this.taskId,{link:this.submission.link,message:this.submission.message}).subscribe((function(e){c.toastr.success("Task Completed."),c.getTaskDetail()}))}},{key:"onGradeModal",value:function(c){this.submissionGrade={userId:c.userId,taskId:this.taskId,grade:c.grade},console.log(this.submissionGrade)}},{key:"GradeSubmission",value:function(){var c=this;JSON.parse(localStorage.getItem("user")),this.submissionService.addSubmission(this.submissionGrade.userId,this.taskId,{grade:this.submissionGrade.grade}).subscribe((function(e){c.toastr.success("Assignment Graded."),c.getTaskDetail()}))}},{key:"RemoveTask",value:function(){var c=this;this.taskService.deleteTask(this.taskId).subscribe((function(e){c.toastr.success("Task has been removed."),c.location.back()}))}}]),e}(),sc.\u0275fac=function(c){return new(c||sc)(l.Wb(d.b),l.Wb(b.a),l.Wb(o.a),l.Wb(v.a),l.Wb(G.a),l.Wb(U),l.Wb(s.j))},sc.\u0275cmp=l.Qb({type:sc,selectors:[["app-todo-detail"]],decls:38,vars:9,consts:[["class","page-content",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","markComplete","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["type","text","placeholder","https://www.dropbox.com/...","name","link",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Some Text...","name","message",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editTask","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],["class","modal-content",4,"ngIf"],["id","gardeSubmission","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","uploadFiles","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","removeTask","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],["href","javascript:void(0)","class","btn btn-success","data-toggle","modal","data-target","#markComplete",4,"ngIf"],["href","javascript:void(0)","class","btn btn-danger","data-toggle","modal","data-target","#removeTask",4,"ngIf"],["href","javascript:void(0)","class","btn btn-primary","data-toggle","modal","data-target","#editTask",4,"ngIf"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-12"],[1,"card-title"],[3,"innerHTML"],[1,"col-md-2"],[1,"card-title","my-1"],[1,"col-md-10"],[1,"card","card-transparent","file-list"],[1,"card-body","p-0"],[1,"col-md-9"],[1,"card-title","py-3"],[1,"col-md-3"],["href","javascript:void(0)","class","btn btn-primary float-right","data-toggle","modal","data-target","#uploadFiles",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-center"],["class","placeholder","style","margin: 2rem 0;",4,"ngIf"],[1,"card","card-transactions"],[1,"card-body","pt-0"],[1,"table-responsive"],[1,"table","table-striped","table-courses"],["scope","col"],["scope","col",2,"width","20%"],["scope","col",2,"width","15%"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["href","javascript:void(0)","data-toggle","modal","data-target","#markComplete",1,"btn","btn-success"],["href","javascript:void(0)","data-toggle","modal","data-target","#removeTask",1,"btn","btn-danger"],["href","javascript:void(0)","data-toggle","modal","data-target","#editTask",1,"btn","btn-primary"],["href","javascript:void(0)","data-toggle","modal","data-target","#uploadFiles",1,"btn","btn-primary","float-right"],["class","col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-lg-4","col-xl-3"],[1,"card","file","pdf"],["ngbDropdown","",1,"file-options"],["href","javascript:void(0)","ngbDropdownToggle","",1,"dropdown-toggle"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-right"],["target","blank","download","",1,"dropdown-item",3,"href"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"card-header","file-icon"],[1,"card-body","file-info"],[1,"placeholder",2,"margin","2rem 0"],["src","assets/images/no-files.png","alt","",2,"width","320px","height","auto"],[4,"ngIf"],["class","text-center",4,"ngIf"],["target","_blank",3,"href"],["href","javascript:void(0)","data-toggle","modal","data-target","#gardeSubmission",3,"click"],[1,"badge","badge-primary"],[1,"placeholder"],["src","assets/images/loader.gif","alt",""],["type","text","id","new-task-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"],[1,"col"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar","d-flex","align-items-center",3,"click"],[1,"material-icons-outlined"],["name","description","placeholder","Enter project description",1,"quill-textbox",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","A +"],["value","A"],["value","A -"],["value","B +"],["value","B"],["value","B -"],["value","C +"],["value","C"],["value","C -"],["value","D"],["value","F"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],[3,"multiple","maxFileSize","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"text-danger"],[3,"removable","removed"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"]],template:function(c,e){1&c&&(l.Mc(0,K,79,15,"div",0),l.Mc(1,Z,2,0,"div",1),l.bc(2,"div",2),l.bc(3,"div",3),l.bc(4,"div",4),l.bc(5,"div",5),l.bc(6,"h5",6),l.Oc(7,"Assignment Submission"),l.ac(),l.bc(8,"button",7),l.bc(9,"i",8),l.Oc(10,"close"),l.ac(),l.ac(),l.ac(),l.bc(11,"div",9),l.bc(12,"form"),l.bc(13,"div",10),l.bc(14,"label"),l.Oc(15,"Upload your file to dropbox and paste the link below."),l.ac(),l.bc(16,"input",11),l.mc("ngModelChange",(function(c){return e.submission.link=c})),l.ac(),l.ac(),l.bc(17,"div",10),l.bc(18,"label"),l.Oc(19,"Any Notes?"),l.ac(),l.bc(20,"textarea",12),l.mc("ngModelChange",(function(c){return e.submission.message=c})),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(21,"div",13),l.bc(22,"button",14),l.Oc(23,"Cancel"),l.ac(),l.bc(24,"button",15),l.mc("click",(function(){return e.Submit()})),l.Oc(25,"Submit"),l.ac(),l.ac(),l.ac(),l.ac(),l.ac(),l.bc(26,"div",16),l.bc(27,"div",17),l.Mc(28,cc,33,4,"div",18),l.ac(),l.ac(),l.bc(29,"div",19),l.bc(30,"div",3),l.Mc(31,ec,41,1,"div",18),l.ac(),l.ac(),l.bc(32,"div",20),l.bc(33,"div",3),l.Mc(34,tc,22,4,"div",18),l.ac(),l.ac(),l.bc(35,"div",21),l.bc(36,"div",3),l.Mc(37,ic,18,1,"div",18),l.ac(),l.ac()),2&c&&(l.vc("ngIf",!e.loading),l.Ib(1),l.vc("ngIf",e.loading),l.Ib(15),l.vc("ngModel",e.submission.link),l.Ib(4),l.vc("ngModel",e.submission.message),l.Ib(4),l.vc("disabled",!e.submission.link||!e.submission.message),l.Ib(4),l.vc("ngIf",!e.loading),l.Ib(3),l.vc("ngIf",!e.loading),l.Ib(3),l.vc("ngIf",!e.loading),l.Ib(3),l.vc("ngIf",!e.loading))},directives:[s.n,n.t,n.j,n.k,n.b,n.i,n.l,o.d,s.m,g.b,g.d,g.c,g.e,m.a,n.q,n.m,n.s,f.a,f.d,f.c],styles:[""]}),sc)}],rc=((nc=function e(){c(this,e)}).\u0275mod=l.Ub({type:nc}),nc.\u0275inj=l.Tb({factory:function(c){return new(c||nc)},imports:[[s.b,n.d,f.b,h.a,g.f,o.e.forChild(oc),m.b.forRoot({modules:{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{align:[]}]]}})]]}),nc)}}])}();