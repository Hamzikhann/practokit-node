(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+cTy":function(c,e,t){"use strict";t.r(e),t.d(e,"ForumModule",(function(){return cc}));var i=t("ofXK"),o=t("3Pt+"),a=t("tyNb"),n=t("wd/R"),s=t("fXoL"),r=t("5eHb"),d=t("tk/3"),m=t("EdIQ");let l=(()=>{class c{constructor(c,e){this.http=c,this.config=e,this.baseUrl=this.config.reqBaseUrl+"forums/"}addForum(c){return this.http.post(this.baseUrl,c,{observe:"response"})}getForums(){return this.http.get(this.baseUrl,{observe:"response"})}editForum(c,e){return this.http.put(this.baseUrl+c,e,{observe:"response"})}changeForumStatus(c,e){return this.http.put(this.baseUrl+c+"/status",e,{observe:"response"})}deleteForum(c){return this.http.delete(this.baseUrl+c,{observe:"response"})}getForumById(c){return this.http.get(this.baseUrl+c,{observe:"response"})}addComment(c,e){return this.http.post(this.baseUrl+c+"/comments",e,{observe:"response"})}editComment(c,e,t){return this.http.put(this.baseUrl+c+"/comments/"+e,t,{observe:"response"})}deleteComment(c,e){return this.http.delete(this.baseUrl+c+"/comments/"+e,{observe:"response"})}}return c.\u0275fac=function(e){return new(e||c)(s.jc(d.b),s.jc(m.a))},c.\u0275prov=s.Sb({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var b=t("Bdnu"),u=t("CfA1"),p=t("CzEO"),f=t("oOf3");function g(c,e){1&c&&(s.bc(0,"a",33),s.Oc(1,"Ask Question ?"),s.ac())}function h(c,e){if(1&c&&(s.bc(0,"h3",48),s.Oc(1),s.ac()),2&c){const c=s.pc().$implicit;s.Ib(1),s.Pc(c.name)}}function v(c,e){if(1&c){const c=s.cc();s.bc(0,"li"),s.bc(1,"a",38),s.mc("click",(function(){s.Ec(c);const t=e.$implicit;return s.pc(3).filterByClass(t.id)})),s.bc(2,"i",18),s.Oc(3,"folder_open"),s.ac(),s.Oc(4),s.ac(),s.ac()}if(2&c){const c=e.$implicit,t=s.pc(3);s.Ib(1),s.Nb("active",t.filter==c.id),s.Ib(3),s.Qc("",c.title," ")}}function I(c,e){if(1&c&&(s.bc(0,"div",44),s.Mc(1,h,2,1,"h3",45),s.bc(2,"ul",46),s.Mc(3,v,5,3,"li",47),s.ac(),s.ac()),2&c){const c=e.$implicit;s.Ib(1),s.vc("ngIf",c.classes.length),s.Ib(2),s.vc("ngForOf",c.classes)}}const C=function(c){return[c]};function O(c,e){if(1&c&&(s.bc(0,"li"),s.bc(1,"a",5),s.bc(2,"div",51),s.Xb(3,"img",52),s.bc(4,"span"),s.Oc(5),s.ac(),s.ac(),s.bc(6,"div",53),s.Oc(7),s.ac(),s.bc(8,"div",54),s.Oc(9),s.ac(),s.ac(),s.ac()),2&c){const c=e.$implicit,t=s.pc(3);s.Ib(1),s.vc("routerLink",s.zc(5,C,c.id)),s.Ib(2),s.wc("src",t.imgUrl+c.user.profile.profileImg,s.Gc),s.Ib(2),s.Pc(c.user.firstName+" "+c.user.lastName),s.Ib(2),s.Qc("",c.title," "),s.Ib(2),s.Qc(" ",c.createdAt," ")}}const M=function(c){return{itemsPerPage:10,currentPage:c}};function y(c,e){if(1&c&&(s.bc(0,"div",35),s.bc(1,"div",49),s.bc(2,"ul",50),s.Mc(3,O,10,7,"li",47),s.qc(4,"paginate"),s.ac(),s.ac(),s.ac()),2&c){const c=s.pc(2);s.Ib(3),s.vc("ngForOf",s.sc(4,1,c.forums,s.zc(4,M,c.p)))}}function F(c,e){if(1&c){const c=s.cc();s.bc(0,"pagination-controls",55),s.mc("pageChange",(function(e){return s.Ec(c),s.pc(2).p=e})),s.ac()}}function k(c,e){1&c&&(s.bc(0,"div",56),s.Xb(1,"img",57),s.bc(2,"p"),s.Oc(3,"No Result found"),s.ac(),s.ac())}function E(c,e){if(1&c){const c=s.cc();s.bc(0,"div",20),s.bc(1,"div",34),s.bc(2,"div",35),s.bc(3,"div",36),s.bc(4,"div",37),s.bc(5,"a",38),s.mc("click",(function(){return s.Ec(c),s.pc().filterByClass(null)})),s.bc(6,"h3",39),s.Oc(7,"List All"),s.ac(),s.ac(),s.ac(),s.Mc(8,I,4,2,"div",40),s.ac(),s.ac(),s.ac(),s.bc(9,"div",41),s.Mc(10,y,5,6,"div",42),s.Mc(11,F,1,0,"pagination-controls",43),s.Mc(12,k,4,0,"div",11),s.ac(),s.ac()}if(2&c){const c=s.pc();s.Ib(6),s.Nb("active","all"==c.filter),s.Ib(2),s.vc("ngForOf",c.courses),s.Ib(2),s.vc("ngIf",c.filteredForums.length),s.Ib(1),s.vc("ngIf",c.filteredForums.length>10),s.Ib(1),s.vc("ngIf",!c.filteredForums.length)}}function x(c,e){1&c&&(s.bc(0,"div",56),s.Xb(1,"img",57),s.bc(2,"p"),s.Oc(3,"No Forums found"),s.ac(),s.ac())}function w(c,e){1&c&&(s.bc(0,"div",56),s.Xb(1,"img",58),s.ac())}function S(c,e){if(1&c&&(s.bc(0,"option",59),s.Oc(1),s.ac()),2&c){const c=e.$implicit;s.wc("value",c.id),s.Ib(1),s.Qc("",c.name," ")}}function R(c,e){if(1&c&&(s.bc(0,"option",59),s.Oc(1),s.ac()),2&c){const c=e.$implicit;s.wc("value",c.id),s.Ib(1),s.Qc(" ",c.title," ")}}const U=function(){return["/"]};let A=(()=>{class c{constructor(c,e,t,i,o,a){this.toastr=c,this.forumService=e,this.courseService=t,this.classService=i,this.router=o,this.config=a,this.loading=!0,this.p=1,this.imgUrl=this.config.imgBaseUrl,this.forums=[],this.courses=[],this.sessions=[],this.filter="all",this.filteredForums=[],this.forum={title:"",description:"",courseId:"",classId:""}}ngOnInit(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.getForums()}getForums(){this.forumService.getForums().subscribe(c=>{this.forums=c.body,this.forums.forEach(c=>{c.createdAt=n(c.createdAt).format("MMM Do")}),this.filteredForums=this.forums,this.getCourses()})}getCourses(){this.courseService.getCourses().subscribe(c=>{this.courses=c.body,this.loading=!1})}getSessions(){this.classService.getClasses(this.forum.courseId).subscribe(c=>{this.sessions=c.body,this.sessions.forEach(c=>{var e=c.timing.split(" - ")[0],t=c.timing.split(" - ")[1];c.startTime=e.split(":")[0]>12?e.split(":")[0]-12+":"+e.split(":")[1]+" PM":e+" AM",c.endTime=t.split(":")[0]>12?t.split(":")[0]-12+":"+t.split(":")[1]+" PM":t+" AM",c.title=c.title+" ( "+c.startTime+" - "+c.endTime+" )"})})}AddForum(){this.forumService.addForum({title:this.forum.title,description:this.forum.description,classId:this.forum.classId}).subscribe(c=>{this.toastr.success("Your forum has been posted."),this.getForums()})}filterByClass(c){this.filter=c||"all",this.filteredForums=[],c?this.forums.forEach(e=>{e.classId==c&&this.filteredForums.push(e)}):this.filteredForums=this.forums}}return c.\u0275fac=function(e){return new(e||c)(s.Wb(r.b),s.Wb(l),s.Wb(b.a),s.Wb(u.a),s.Wb(a.c),s.Wb(m.a))},c.\u0275cmp=s.Qb({type:c,selectors:[["app-forum"]],decls:65,vars:13,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],["href","javascript:void(0)","data-toggle","modal","data-target","#newForum","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newForum","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"text-danger"],["type","text","id","new-task-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["name","description","placeholder","Enter Forum description",1,"quill-textbox",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["href","javascript:void(0)","data-toggle","modal","data-target","#newForum",1,"btn","btn-primary"],[1,"col-lg-3"],[1,"card"],[1,"card-body"],[1,"file-manager-menu","mb-4"],["href","javascript:void(0)",3,"click"],[1,"mailbox-menu-header"],["class","file-manager-menu mb-2",4,"ngFor","ngForOf"],[1,"col-lg-9"],["class","card",4,"ngIf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],[1,"file-manager-menu","mb-2"],["class","mailbox-menu-header mb-2",4,"ngIf"],[1,"mailbox-menu","list-unstyled"],[4,"ngFor","ngForOf"],[1,"mailbox-menu-header","mb-2"],[1,"card-body","py-0"],[1,"inbox-list","list-unstyled"],[1,"mail-author"],["onerror","this.src='assets/images/default-user.png'",3,"src"],[1,"mail-title"],[1,"mail-date"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-tasks.png","alt",""],["src","assets/images/loader.gif","alt",""],[3,"value"]],template:function(c,e){1&c&&(s.bc(0,"div",0),s.bc(1,"div",1),s.bc(2,"nav",2),s.bc(3,"ol",3),s.bc(4,"li",4),s.bc(5,"a",5),s.Oc(6,"Dashboard"),s.ac(),s.ac(),s.bc(7,"li",6),s.Oc(8,"Forums"),s.ac(),s.ac(),s.ac(),s.bc(9,"div",7),s.Mc(10,g,2,0,"a",8),s.ac(),s.ac(),s.bc(11,"div",9),s.Mc(12,E,13,6,"div",10),s.Mc(13,x,4,0,"div",11),s.Mc(14,w,2,0,"div",11),s.ac(),s.ac(),s.bc(15,"div",12),s.bc(16,"div",13),s.bc(17,"div",14),s.bc(18,"div",15),s.bc(19,"h5",16),s.Oc(20,"New Forum"),s.ac(),s.bc(21,"button",17),s.bc(22,"i",18),s.Oc(23,"close"),s.ac(),s.ac(),s.ac(),s.bc(24,"div",19),s.bc(25,"div",20),s.bc(26,"div",21),s.bc(27,"div",22),s.bc(28,"label"),s.Oc(29,"Title"),s.ac(),s.bc(30,"span",23),s.Oc(31," *"),s.ac(),s.bc(32,"input",24),s.mc("ngModelChange",(function(c){return e.forum.title=c})),s.ac(),s.ac(),s.ac(),s.bc(33,"div",25),s.bc(34,"div",22),s.bc(35,"label"),s.Oc(36,"Course"),s.ac(),s.bc(37,"span",23),s.Oc(38," *"),s.ac(),s.bc(39,"select",26),s.mc("ngModelChange",(function(c){return e.forum.courseId=c}))("ngModelChange",(function(){return e.getSessions()})),s.bc(40,"option",27),s.Oc(41,"Select"),s.ac(),s.Mc(42,S,2,2,"option",28),s.ac(),s.ac(),s.ac(),s.bc(43,"div",25),s.bc(44,"div",22),s.bc(45,"label"),s.Oc(46,"Session"),s.ac(),s.bc(47,"span",23),s.Oc(48," *"),s.ac(),s.bc(49,"select",26),s.mc("ngModelChange",(function(c){return e.forum.classId=c})),s.bc(50,"option",27),s.Oc(51,"Select"),s.ac(),s.Mc(52,R,2,2,"option",28),s.ac(),s.ac(),s.ac(),s.bc(53,"div",21),s.bc(54,"div",22),s.bc(55,"label"),s.Oc(56,"Description"),s.ac(),s.bc(57,"span",23),s.Oc(58," *"),s.ac(),s.bc(59,"quill-editor",29),s.mc("ngModelChange",(function(c){return e.forum.description=c})),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.bc(60,"div",30),s.bc(61,"button",31),s.Oc(62,"Cancel"),s.ac(),s.bc(63,"button",32),s.mc("click",(function(){return e.AddForum()})),s.Oc(64," Save"),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()),2&c&&(s.Ib(5),s.vc("routerLink",s.yc(12,U)),s.Ib(5),s.vc("ngIf","Admin"!=e.currentUser.role.title),s.Ib(2),s.vc("ngIf",!e.loading&&e.forums.length),s.Ib(1),s.vc("ngIf",!e.loading&&!e.forums.length),s.Ib(1),s.vc("ngIf",e.loading),s.Ib(18),s.vc("ngModel",e.forum.title),s.Ib(7),s.vc("ngModel",e.forum.courseId),s.Ib(3),s.vc("ngForOf",e.courses),s.Ib(7),s.vc("ngModel",e.forum.classId),s.Ib(3),s.vc("ngForOf",e.sessions),s.Ib(7),s.vc("ngModel",e.forum.description),s.Ib(4),s.vc("disabled",!e.forum.title||!e.forum.classId||!e.forum.description))},directives:[a.d,i.n,o.b,o.i,o.l,o.q,o.m,o.s,i.m,p.a,f.c],pipes:[f.b],styles:[""]}),c})();var P=t("ciPP"),D=t("zbtk");function L(c,e){if(1&c&&(s.bc(0,"div",41),s.bc(1,"a",42),s.Oc(2),s.ac(),s.bc(3,"a",43),s.Oc(4,"Edit Question"),s.ac(),s.bc(5,"a",44),s.Oc(6,"Delete Question"),s.ac(),s.ac()),2&c){const c=s.pc(2);s.Ib(2),s.Qc("Mark as ","answered"==c.forum.status?"Unresolved":"Resolved","")}}function j(c,e){if(1&c){const c=s.cc();s.bc(0,"a",59),s.mc("click",(function(){s.Ec(c);const e=s.pc().$implicit;return s.pc(2).CommentModalOpen(e)})),s.bc(1,"small"),s.Oc(2,"Edit "),s.ac(),s.ac()}}function N(c,e){if(1&c){const c=s.cc();s.bc(0,"a",60),s.mc("click",(function(){s.Ec(c);const e=s.pc().$implicit;return s.pc(2).CommentModalOpen(e)})),s.bc(1,"small"),s.Oc(2,"Remove "),s.ac(),s.ac()}}function $(c,e){if(1&c){const c=s.cc();s.bc(0,"a",61),s.mc("click",(function(){s.Ec(c);const e=s.pc().$implicit;return s.pc(2).CommentModalOpen(e)})),s.bc(1,"small",62),s.Oc(2,"Report Abuse"),s.ac(),s.ac()}}function Q(c,e){if(1&c){const c=s.cc();s.bc(0,"a",59),s.mc("click",(function(){s.Ec(c);const e=s.pc().$implicit;return s.pc(3).ReplyModalOpen(e)})),s.bc(1,"small"),s.Oc(2,"Edit "),s.ac(),s.ac()}}function W(c,e){if(1&c){const c=s.cc();s.bc(0,"a",60),s.mc("click",(function(){s.Ec(c);const e=s.pc().$implicit;return s.pc(3).ReplyModalOpen(e)})),s.bc(1,"small"),s.Oc(2,"Remove "),s.ac(),s.ac()}}function T(c,e){if(1&c){const c=s.cc();s.bc(0,"a",61),s.mc("click",(function(){s.Ec(c);const e=s.pc().$implicit;return s.pc(3).ReplyModalOpen(e)})),s.bc(1,"small",62),s.Oc(2,"Report Abuse"),s.ac(),s.ac()}}function B(c,e){if(1&c&&(s.bc(0,"div",45),s.Xb(1,"img",46),s.bc(2,"div",63),s.bc(3,"span",48),s.Oc(4),s.bc(5,"div",49),s.Mc(6,Q,3,0,"a",50),s.Mc(7,W,3,0,"a",51),s.Mc(8,T,3,0,"a",52),s.bc(9,"span",53),s.bc(10,"small"),s.Oc(11),s.ac(),s.ac(),s.ac(),s.ac(),s.bc(12,"span",54),s.Oc(13),s.ac(),s.ac(),s.ac()),2&c){const c=e.$implicit,t=s.pc().$implicit,i=s.pc(2);s.Ib(1),s.wc("src",i.imgUrl+c.forumsComment.user.profile.profileImg,s.Gc),s.Ib(3),s.Qc(" ",c.forumsComment.user.firstName+" "+c.forumsComment.user.lastName," "),s.Ib(2),s.vc("ngIf",i.currentUser.id==c.forumsComment.user.id),s.Ib(1),s.vc("ngIf",i.currentUser.id==c.forumsComment.user.id),s.Ib(1),s.vc("ngIf",i.currentUser.id!=c.forumsComment.user.id&&!i.reportedComments.includes(t.id)),s.Ib(3),s.Pc(c.forumsComment.createdAt),s.Ib(2),s.Qc(" ",c.forumsComment.comment," ")}}function _(c,e){if(1&c){const c=s.cc();s.bc(0,"div",45),s.Xb(1,"img",46),s.bc(2,"div",47),s.bc(3,"span",48),s.Oc(4),s.bc(5,"div",49),s.Mc(6,j,3,0,"a",50),s.Mc(7,N,3,0,"a",51),s.Mc(8,$,3,0,"a",52),s.bc(9,"span",53),s.bc(10,"small"),s.Oc(11),s.ac(),s.ac(),s.ac(),s.ac(),s.bc(12,"span",54),s.Oc(13),s.ac(),s.Mc(14,B,14,7,"div",40),s.bc(15,"div",34),s.bc(16,"form",55),s.bc(17,"div",36),s.bc(18,"input",56),s.mc("ngModelChange",(function(t){return s.Ec(c),e.$implicit.reply=t}))("keyup.enter",(function(){s.Ec(c);const t=e.$implicit;return s.pc(2).Comment(t)})),s.ac(),s.bc(19,"div",57),s.bc(20,"button",58),s.mc("click",(function(){s.Ec(c);const t=e.$implicit;return s.pc(2).Comment(t)})),s.Oc(21,"Reply"),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()}if(2&c){const c=e.$implicit,t=s.pc(2);s.Ib(1),s.wc("src",t.imgUrl+c.user.profile.profileImg,s.Gc),s.Ib(3),s.Qc(" ",c.user.firstName+" "+c.user.lastName," "),s.Ib(2),s.vc("ngIf",t.currentUser.id==c.user.id),s.Ib(1),s.vc("ngIf",t.currentUser.id==c.user.id),s.Ib(1),s.vc("ngIf",t.currentUser.id!=c.user.id&&!t.reportedComments.includes(c.id)),s.Ib(3),s.Pc(c.createdAt),s.Ib(2),s.Qc(" ",c.comment," "),s.Ib(1),s.vc("ngForOf",c.forumsCommentsReplies),s.Ib(4),s.vc("ngModel",c.reply),s.Ib(2),s.vc("disabled",!c.reply)}}const X=function(){return["/"]},q=function(){return["/forums"]};function z(c,e){if(1&c){const c=s.cc();s.bc(0,"div",9),s.bc(1,"div",10),s.bc(2,"nav",11),s.bc(3,"ol",12),s.bc(4,"li",13),s.bc(5,"a",14),s.Oc(6,"Dashboard"),s.ac(),s.ac(),s.bc(7,"li",13),s.bc(8,"a",14),s.Oc(9,"Forums"),s.ac(),s.ac(),s.bc(10,"li",15),s.Oc(11),s.ac(),s.ac(),s.ac(),s.Mc(12,L,7,1,"div",16),s.ac(),s.bc(13,"div",17),s.bc(14,"div",18),s.bc(15,"div",19),s.bc(16,"div",20),s.bc(17,"div",21),s.bc(18,"div",18),s.bc(19,"div",22),s.bc(20,"h5",23),s.Oc(21),s.ac(),s.Xb(22,"p",24),s.ac(),s.ac(),s.bc(23,"div",25),s.bc(24,"div",26),s.bc(25,"h5",27),s.Oc(26,"Created By: "),s.ac(),s.ac(),s.bc(27,"div",28),s.Oc(28),s.ac(),s.ac(),s.bc(29,"div",18),s.bc(30,"div",26),s.bc(31,"h5",27),s.Oc(32,"Created At: "),s.ac(),s.ac(),s.bc(33,"div",28),s.Oc(34),s.ac(),s.ac(),s.ac(),s.ac(),s.bc(35,"div",29),s.bc(36,"div",30),s.bc(37,"div",31),s.bc(38,"h5",32),s.Oc(39,"Post a Reply"),s.ac(),s.bc(40,"div",33),s.bc(41,"div",34),s.bc(42,"form",35),s.bc(43,"div",36),s.bc(44,"textarea",37),s.mc("ngModelChange",(function(e){return s.Ec(c),s.pc().addComment.message=e}))("keyup.enter",(function(){return s.Ec(c),s.pc().Comment()})),s.ac(),s.ac(),s.bc(45,"button",38),s.mc("click",(function(){return s.Ec(c),s.pc().Comment()})),s.Oc(46,"Comment"),s.ac(),s.ac(),s.ac(),s.ac(),s.bc(47,"div",33),s.bc(48,"h5",39),s.Oc(49,"Posted Replies"),s.ac(),s.Mc(50,_,22,10,"div",40),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()}if(2&c){const c=s.pc();s.Ib(5),s.vc("routerLink",s.yc(11,X)),s.Ib(3),s.vc("routerLink",s.yc(12,q)),s.Ib(3),s.Pc(c.forum.title),s.Ib(1),s.vc("ngIf",c.user.id==c.currentUser.id),s.Ib(9),s.Pc(c.forum.title),s.Ib(1),s.vc("innerHTML",c.forum.description,s.Fc),s.Ib(6),s.Pc(c.user.firstName+" "+c.user.lastName),s.Ib(6),s.Pc(c.forum.createdAt),s.Ib(10),s.vc("ngModel",c.addComment.message),s.Ib(1),s.vc("disabled",!c.addComment.message),s.Ib(5),s.vc("ngForOf",c.forum.forumsComments)}}function Y(c,e){if(1&c){const c=s.cc();s.bc(0,"div",64),s.bc(1,"div",65),s.bc(2,"h5",66),s.Oc(3,"Edit Forum"),s.ac(),s.bc(4,"button",67),s.bc(5,"i",68),s.Oc(6,"close"),s.ac(),s.ac(),s.ac(),s.bc(7,"div",69),s.bc(8,"div",70),s.bc(9,"label"),s.Oc(10,"Title"),s.ac(),s.bc(11,"input",71),s.mc("ngModelChange",(function(e){return s.Ec(c),s.pc().editForum.title=e})),s.ac(),s.ac(),s.bc(12,"div",70),s.bc(13,"label"),s.Oc(14,"Description"),s.ac(),s.bc(15,"quill-editor",72),s.mc("ngModelChange",(function(e){return s.Ec(c),s.pc().editForum.description=e})),s.ac(),s.ac(),s.ac(),s.bc(16,"div",73),s.bc(17,"button",74),s.Oc(18,"Cancel"),s.ac(),s.bc(19,"button",75),s.mc("click",(function(){return s.Ec(c),s.pc().EditForum()})),s.Oc(20," Save"),s.ac(),s.ac(),s.ac()}if(2&c){const c=s.pc();s.Ib(11),s.vc("ngModel",c.editForum.title),s.Ib(4),s.vc("ngModel",c.editForum.description),s.Ib(4),s.vc("disabled",!c.editForum.title||!c.editForum.description)}}function J(c,e){if(1&c){const c=s.cc();s.bc(0,"div",64),s.bc(1,"div",65),s.bc(2,"h5",66),s.Oc(3,"Change Forum Status"),s.ac(),s.bc(4,"button",67),s.bc(5,"i",68),s.Oc(6,"close"),s.ac(),s.ac(),s.ac(),s.bc(7,"div",69),s.bc(8,"p",76),s.Oc(9,"Are you sure you want to mark this forum as "),s.bc(10,"strong"),s.Oc(11),s.ac(),s.Oc(12,"?"),s.ac(),s.ac(),s.bc(13,"div",73),s.bc(14,"button",74),s.Oc(15,"Cancel"),s.ac(),s.bc(16,"button",77),s.mc("click",(function(){return s.Ec(c),s.pc().ChangeStatus()})),s.Oc(17),s.ac(),s.ac(),s.ac()}if(2&c){const c=s.pc();s.Ib(11),s.Qc("'","answered"==c.forum.status?"UNRESOLVED":"RESOLVED","'"),s.Ib(6),s.Pc("answered"==c.forum.status?"UNRESOLVED":"RESOLVED")}}function V(c,e){if(1&c){const c=s.cc();s.bc(0,"div",64),s.bc(1,"div",65),s.bc(2,"h5",66),s.Oc(3,"Delete Forum"),s.ac(),s.bc(4,"button",67),s.bc(5,"i",68),s.Oc(6,"close"),s.ac(),s.ac(),s.ac(),s.bc(7,"div",69),s.bc(8,"p",76),s.Oc(9,"Are you sure you want to remove this forum ?"),s.ac(),s.ac(),s.bc(10,"div",73),s.bc(11,"button",74),s.Oc(12,"Cancel"),s.ac(),s.bc(13,"button",78),s.mc("click",(function(){return s.Ec(c),s.pc().RemoveForum()})),s.Oc(14,"Remove"),s.ac(),s.ac(),s.ac()}}function G(c,e){if(1&c){const c=s.cc();s.bc(0,"div",64),s.bc(1,"div",65),s.bc(2,"h5",66),s.Oc(3,"Edit Comment"),s.ac(),s.bc(4,"button",67),s.bc(5,"i",68),s.Oc(6,"close"),s.ac(),s.ac(),s.ac(),s.bc(7,"div",69),s.bc(8,"div",70),s.bc(9,"label"),s.Oc(10,"Comment"),s.ac(),s.bc(11,"textarea",79),s.mc("ngModelChange",(function(e){return s.Ec(c),s.pc().selectedComment.message=e})),s.ac(),s.ac(),s.ac(),s.bc(12,"div",73),s.bc(13,"button",74),s.Oc(14,"Cancel"),s.ac(),s.bc(15,"button",75),s.mc("click",(function(){return s.Ec(c),s.pc().EditComment()})),s.Oc(16,"Save"),s.ac(),s.ac(),s.ac()}if(2&c){const c=s.pc();s.Ib(11),s.vc("ngModel",c.selectedComment.message),s.Ib(4),s.vc("disabled",!c.selectedComment.message)}}function H(c,e){if(1&c){const c=s.cc();s.bc(0,"div",64),s.bc(1,"div",65),s.bc(2,"h5",66),s.Oc(3,"Delete Comment"),s.ac(),s.bc(4,"button",67),s.bc(5,"i",68),s.Oc(6,"close"),s.ac(),s.ac(),s.ac(),s.bc(7,"div",69),s.bc(8,"p",76),s.Oc(9,"Are you sure you want to remove this comment ?"),s.ac(),s.bc(10,"strong"),s.Oc(11),s.ac(),s.ac(),s.bc(12,"div",73),s.bc(13,"button",74),s.Oc(14,"Cancel"),s.ac(),s.bc(15,"button",78),s.mc("click",(function(){return s.Ec(c),s.pc().RemoveComment()})),s.Oc(16,"Remove"),s.ac(),s.ac(),s.ac()}if(2&c){const c=s.pc();s.Ib(11),s.Pc(c.selectedComment.message)}}function K(c,e){if(1&c){const c=s.cc();s.bc(0,"div",64),s.bc(1,"div",65),s.bc(2,"h5",66),s.Oc(3,"Report Comment"),s.ac(),s.bc(4,"button",67),s.bc(5,"i",68),s.Oc(6,"close"),s.ac(),s.ac(),s.ac(),s.bc(7,"div",69),s.bc(8,"p",76),s.Oc(9,"Are you sure you want to "),s.bc(10,"strong"),s.Oc(11,"Report"),s.ac(),s.Oc(12," this comment ?"),s.ac(),s.bc(13,"strong"),s.Oc(14),s.ac(),s.ac(),s.bc(15,"div",73),s.bc(16,"button",74),s.Oc(17,"Cancel"),s.ac(),s.bc(18,"button",78),s.mc("click",(function(){return s.Ec(c),s.pc().ReportComment()})),s.Oc(19,"Report"),s.ac(),s.ac(),s.ac()}if(2&c){const c=s.pc();s.Ib(14),s.Pc(c.selectedComment.message)}}const Z=[{path:"",component:A},{path:":forumId",component:(()=>{class c{constructor(c,e,t,i,o,a,n){this.activatedRoute=c,this.forumService=e,this.toastr=t,this.issueService=i,this.config=o,this.location=a,this.dictionaryService=n,this.loading=!0,this.imgUrl=this.config.imgBaseUrl,this.comments=[],this.dictionary=[],this.flag=!1,this.reportedComments=[],this.addComment={message:"",replyId:""},this.selectedComment={message:"",id:""},this.editForum={title:"",description:""}}ngOnInit(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.forumId=this.activatedRoute.snapshot.paramMap.get("forumId"),this.getForumDetail(),this.getDictionary()}getDictionary(){this.dictionaryService.getDictionary().subscribe(c=>{this.dictionary=c.body})}getForumDetail(){this.forumService.getForumById(this.forumId).subscribe(c=>{this.forum=c.body.data,this.reportedComments=c.body.reportedComments,this.user=this.forum.user,this.comments=this.forum.forumsComments,this.forum.forumsComments.forEach(c=>{c.createdAt=n(c.createdAt).fromNow(),c.reply="",c.forumsCommentsReplies.forEach(c=>{c.forumsComment.createdAt=n(c.forumsComment.createdAt).fromNow()})}),this.forum.createdAt=n(this.forum.createdAt).format("MMMM Do, YYYY"),this.editForum={title:this.forum.title,description:this.forum.description},this.loading=!1})}Comment(c){this.forumService.addComment(this.forumId,{comment:c?c.reply:this.addComment.message,replyId:c?c.id:""}).subscribe(c=>{this.toastr.success("Comment placed."),this.addComment={message:"",replyId:""},this.getForumDetail()})}RemoveForum(){this.forumService.deleteForum(this.forumId).subscribe(c=>{this.toastr.success("Forum has been deleted."),this.location.back()})}ChangeStatus(){this.forumService.changeForumStatus(this.forumId,{status:"answered"==this.forum.status?"unansered":"answered"}).subscribe(c=>{var e="answered"==this.forum.status?"resolved":"unresolved";console.log(e),this.toastr.success("Forum has ben marked "+e),this.getForumDetail()})}EditForum(){this.forumService.editForum(this.forumId,{title:this.editForum.title,description:this.editForum.description}).subscribe(c=>{this.toastr.success("Forum Detail Updated."),this.getForumDetail()})}CommentModalOpen(c){this.selectedComment={id:c.id,message:c.comment}}ReplyModalOpen(c){this.selectedComment={id:c.replyId,message:c.forumsComment.comment}}EditComment(){this.forumService.editComment(this.forumId,this.selectedComment.id,{comment:this.selectedComment.message}).subscribe(c=>{this.toastr.success("Comment Edited"),this.selectedComment={id:"",message:""},this.getForumDetail()})}RemoveComment(){this.forumService.deleteComment(this.forumId,this.selectedComment.id).subscribe(c=>{this.toastr.success("Comment Deleted."),this.selectedComment={id:"",message:""},this.getForumDetail()})}ReportComment(){this.issueService.reportComment({commentId:this.selectedComment.id,forumId:this.forumId}).subscribe(c=>{this.toastr.success("Comment Reported."),this.selectedComment={id:"",message:""},this.getForumDetail()})}}return c.\u0275fac=function(e){return new(e||c)(s.Wb(a.a),s.Wb(l),s.Wb(r.b),s.Wb(P.a),s.Wb(m.a),s.Wb(i.j),s.Wb(D.a))},c.\u0275cmp=s.Qb({type:c,selectors:[["app-forum-detail"]],decls:19,vars:7,consts:[["class","page-content",4,"ngIf"],["id","editForum","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],["class","modal-content",4,"ngIf"],["id","markComplete","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteForum","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","editComment","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteComment","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","ReportComment","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],["class","page-options",4,"ngIf"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-12"],[1,"card-title"],[3,"innerHTML"],[1,"row","mt-2"],[1,"col-md-2"],[1,"card-title","my-1"],[1,"col-md-10"],[1,"card","card-transparent"],[1,"card-body","p-0"],[1,"post"],[1,"card-title","pt-3","pb-0","mb-0"],[1,"post-comments","m-0","p-0"],[1,"new-comment","mb-2"],["action","javascript: void(0)",2,"text-align","right"],[1,"input-group"],["name","comment","placeholder","Type something...",1,"form-control","search-input",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"btn","btn-primary","mt-2",2,"margin-top","12px",3,"disabled","click"],[1,"card-title","py-3","mb-0"],["class","post-comm",4,"ngFor","ngForOf"],[1,"page-options"],["href","javascript:void(0)","data-toggle","modal","data-target","#markComplete",1,"btn","btn-success"],["href","javascript:void(0)","data-toggle","modal","data-target","#editForum",1,"btn","btn-primary"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteForum",1,"btn","btn-danger"],[1,"post-comm"],["onerror","this.src='assets/images/default-user.png'",1,"comment-img",3,"src"],[1,"comment-container","pr-0",2,"position","relative"],[1,"comment-author"],[1,"comment-actions"],["href","javascript:void(0)","data-target","#editComment","data-toggle","modal",3,"click",4,"ngIf"],["href","javascript:void(0)","data-target","#deleteComment","data-toggle","modal",3,"click",4,"ngIf"],["href","javascript:void(0)","data-target","#ReportComment","data-toggle","modal",3,"click",4,"ngIf"],[1,"comment-date"],[1,"comment-text"],["action","javascript: void(0)"],["type","text","name","comment","placeholder","Type something...",1,"form-control","search-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["href","javascript:void(0)","data-target","#editComment","data-toggle","modal",3,"click"],["href","javascript:void(0)","data-target","#deleteComment","data-toggle","modal",3,"click"],["href","javascript:void(0)","data-target","#ReportComment","data-toggle","modal",3,"click"],[1,"text-danger"],[1,"comment-container","position-relative"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["type","text","id","new-task-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"],["name","description","placeholder","Enter project description",1,"quill-textbox",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-success",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","new-task-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"]],template:function(c,e){1&c&&(s.Mc(0,z,51,13,"div",0),s.bc(1,"div",1),s.bc(2,"div",2),s.Mc(3,Y,21,3,"div",3),s.ac(),s.ac(),s.bc(4,"div",4),s.bc(5,"div",2),s.Mc(6,J,18,2,"div",3),s.ac(),s.ac(),s.bc(7,"div",5),s.bc(8,"div",2),s.Mc(9,V,15,0,"div",3),s.ac(),s.ac(),s.bc(10,"div",6),s.bc(11,"div",2),s.Mc(12,G,17,2,"div",3),s.ac(),s.ac(),s.bc(13,"div",7),s.bc(14,"div",2),s.Mc(15,H,17,1,"div",3),s.ac(),s.ac(),s.bc(16,"div",8),s.bc(17,"div",2),s.Mc(18,K,20,1,"div",3),s.ac(),s.ac()),2&c&&(s.vc("ngIf",!e.loading),s.Ib(3),s.vc("ngIf",!e.loading),s.Ib(3),s.vc("ngIf",!e.loading),s.Ib(3),s.vc("ngIf",!e.loading),s.Ib(3),s.vc("ngIf",!e.loading),s.Ib(3),s.vc("ngIf",!e.loading),s.Ib(3),s.vc("ngIf",!e.loading))},directives:[i.n,a.d,o.t,o.j,o.k,o.b,o.i,o.l,i.m,p.a],styles:[".comment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:0;top:6px}.comment-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .comment-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.4);display:inline-block;line-height:14px;padding-right:10px;padding-left:10px}.comment-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{padding-left:0;border-left:none}.comment-actions[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:400}"]}),c})()}];let cc=(()=>{class c{}return c.\u0275mod=s.Ub({type:c}),c.\u0275inj=s.Tb({factory:function(e){return new(e||c)},imports:[[i.b,o.d,f.a,a.e.forChild(Z),p.b.forRoot({modules:{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{align:[]}]]}})]]}),c})()}}]);