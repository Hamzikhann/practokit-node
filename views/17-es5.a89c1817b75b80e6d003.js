!function(){function c(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function e(c,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}function t(c,t,a){return t&&e(c.prototype,t),a&&e(c,a),c}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+cTy":function(e,a,i){"use strict";i.r(a),i.d(a,"ForumModule",(function(){return nc}));var o,n=i("ofXK"),r=i("3Pt+"),s=i("tyNb"),d=i("wd/R"),m=i("fXoL"),l=i("5eHb"),u=i("tk/3"),b=i("EdIQ"),f=((o=function(){function e(t,a){c(this,e),this.http=t,this.config=a,this.baseUrl=this.config.reqBaseUrl+"forums/"}return t(e,[{key:"addForum",value:function(c){return this.http.post(this.baseUrl,c,{observe:"response"})}},{key:"getForums",value:function(){return this.http.get(this.baseUrl,{observe:"response"})}},{key:"editForum",value:function(c,e){return this.http.put(this.baseUrl+c,e,{observe:"response"})}},{key:"changeForumStatus",value:function(c,e){return this.http.put(this.baseUrl+c+"/status",e,{observe:"response"})}},{key:"deleteForum",value:function(c){return this.http.delete(this.baseUrl+c,{observe:"response"})}},{key:"getForumById",value:function(c){return this.http.get(this.baseUrl+c,{observe:"response"})}},{key:"addComment",value:function(c,e){return this.http.post(this.baseUrl+c+"/comments",e,{observe:"response"})}},{key:"editComment",value:function(c,e,t){return this.http.put(this.baseUrl+c+"/comments/"+e,t,{observe:"response"})}},{key:"deleteComment",value:function(c,e){return this.http.delete(this.baseUrl+c+"/comments/"+e,{observe:"response"})}}]),e}()).\u0275fac=function(c){return new(c||o)(m.jc(u.b),m.jc(b.a))},o.\u0275prov=m.Sb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),p=i("Bdnu"),v=i("CfA1"),g=i("CzEO"),h=i("oOf3");function I(c,e){1&c&&(m.bc(0,"a",33),m.Oc(1,"Ask Question ?"),m.ac())}function C(c,e){if(1&c&&(m.bc(0,"h3",48),m.Oc(1),m.ac()),2&c){var t=m.pc().$implicit;m.Ib(1),m.Pc(t.name)}}function y(c,e){if(1&c){var t=m.cc();m.bc(0,"li"),m.bc(1,"a",38),m.mc("click",(function(){m.Ec(t);var c=e.$implicit;return m.pc(3).filterByClass(c.id)})),m.bc(2,"i",18),m.Oc(3,"folder_open"),m.ac(),m.Oc(4),m.ac(),m.ac()}if(2&c){var a=e.$implicit,i=m.pc(3);m.Ib(1),m.Nb("active",i.filter==a.id),m.Ib(3),m.Qc("",a.title," ")}}function O(c,e){if(1&c&&(m.bc(0,"div",44),m.Mc(1,C,2,1,"h3",45),m.bc(2,"ul",46),m.Mc(3,y,5,3,"li",47),m.ac(),m.ac()),2&c){var t=e.$implicit;m.Ib(1),m.vc("ngIf",t.classes.length),m.Ib(2),m.vc("ngForOf",t.classes)}}var M=function(c){return[c]};function k(c,e){if(1&c&&(m.bc(0,"li"),m.bc(1,"a",5),m.bc(2,"div",51),m.Xb(3,"img",52),m.bc(4,"span"),m.Oc(5),m.ac(),m.ac(),m.bc(6,"div",53),m.Oc(7),m.ac(),m.bc(8,"div",54),m.Oc(9),m.ac(),m.ac(),m.ac()),2&c){var t=e.$implicit,a=m.pc(3);m.Ib(1),m.vc("routerLink",m.zc(5,M,t.id)),m.Ib(2),m.wc("src",a.imgUrl+t.user.profile.profileImg,m.Gc),m.Ib(2),m.Pc(t.user.firstName+" "+t.user.lastName),m.Ib(2),m.Qc("",t.title," "),m.Ib(2),m.Qc(" ",t.createdAt," ")}}var F=function(c){return{itemsPerPage:10,currentPage:c}};function E(c,e){if(1&c&&(m.bc(0,"div",35),m.bc(1,"div",49),m.bc(2,"ul",50),m.Mc(3,k,10,7,"li",47),m.qc(4,"paginate"),m.ac(),m.ac(),m.ac()),2&c){var t=m.pc(2);m.Ib(3),m.vc("ngForOf",m.sc(4,1,t.forums,m.zc(4,F,t.p)))}}function w(c,e){if(1&c){var t=m.cc();m.bc(0,"pagination-controls",55),m.mc("pageChange",(function(c){return m.Ec(t),m.pc(2).p=c})),m.ac()}}function x(c,e){1&c&&(m.bc(0,"div",56),m.Xb(1,"img",57),m.bc(2,"p"),m.Oc(3,"No Result found"),m.ac(),m.ac())}function S(c,e){if(1&c){var t=m.cc();m.bc(0,"div",20),m.bc(1,"div",34),m.bc(2,"div",35),m.bc(3,"div",36),m.bc(4,"div",37),m.bc(5,"a",38),m.mc("click",(function(){return m.Ec(t),m.pc().filterByClass(null)})),m.bc(6,"h3",39),m.Oc(7,"List All"),m.ac(),m.ac(),m.ac(),m.Mc(8,O,4,2,"div",40),m.ac(),m.ac(),m.ac(),m.bc(9,"div",41),m.Mc(10,E,5,6,"div",42),m.Mc(11,w,1,0,"pagination-controls",43),m.Mc(12,x,4,0,"div",11),m.ac(),m.ac()}if(2&c){var a=m.pc();m.Ib(6),m.Nb("active","all"==a.filter),m.Ib(2),m.vc("ngForOf",a.courses),m.Ib(2),m.vc("ngIf",a.filteredForums.length),m.Ib(1),m.vc("ngIf",a.filteredForums.length>10),m.Ib(1),m.vc("ngIf",!a.filteredForums.length)}}function R(c,e){1&c&&(m.bc(0,"div",56),m.Xb(1,"img",57),m.bc(2,"p"),m.Oc(3,"No Forums found"),m.ac(),m.ac())}function U(c,e){1&c&&(m.bc(0,"div",56),m.Xb(1,"img",58),m.ac())}function P(c,e){if(1&c&&(m.bc(0,"option",59),m.Oc(1),m.ac()),2&c){var t=e.$implicit;m.wc("value",t.id),m.Ib(1),m.Qc("",t.name," ")}}function A(c,e){if(1&c&&(m.bc(0,"option",59),m.Oc(1),m.ac()),2&c){var t=e.$implicit;m.wc("value",t.id),m.Ib(1),m.Qc(" ",t.title," ")}}var D,L=function(){return["/"]},j=((D=function(){function e(t,a,i,o,n,r){c(this,e),this.toastr=t,this.forumService=a,this.courseService=i,this.classService=o,this.router=n,this.config=r,this.loading=!0,this.p=1,this.imgUrl=this.config.imgBaseUrl,this.forums=[],this.courses=[],this.sessions=[],this.filter="all",this.filteredForums=[],this.forum={title:"",description:"",courseId:"",classId:""}}return t(e,[{key:"ngOnInit",value:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.getForums()}},{key:"getForums",value:function(){var c=this;this.forumService.getForums().subscribe((function(e){c.forums=e.body,c.forums.forEach((function(c){c.createdAt=d(c.createdAt).format("MMM Do")})),c.filteredForums=c.forums,c.getCourses()}))}},{key:"getCourses",value:function(){var c=this;this.courseService.getCourses().subscribe((function(e){c.courses=e.body,c.loading=!1}))}},{key:"getSessions",value:function(){var c=this;this.classService.getClasses(this.forum.courseId).subscribe((function(e){c.sessions=e.body,c.sessions.forEach((function(c){var e=c.timing.split(" - ")[0],t=c.timing.split(" - ")[1];c.startTime=e.split(":")[0]>12?e.split(":")[0]-12+":"+e.split(":")[1]+" PM":e+" AM",c.endTime=t.split(":")[0]>12?t.split(":")[0]-12+":"+t.split(":")[1]+" PM":t+" AM",c.title=c.title+" ( "+c.startTime+" - "+c.endTime+" )"}))}))}},{key:"AddForum",value:function(){var c=this;this.forumService.addForum({title:this.forum.title,description:this.forum.description,classId:this.forum.classId}).subscribe((function(e){c.toastr.success("Your forum has been posted."),c.getForums()}))}},{key:"filterByClass",value:function(c){var e=this;this.filter=c||"all",this.filteredForums=[],c?this.forums.forEach((function(t){t.classId==c&&e.filteredForums.push(t)})):this.filteredForums=this.forums}}]),e}()).\u0275fac=function(c){return new(c||D)(m.Wb(l.b),m.Wb(f),m.Wb(p.a),m.Wb(v.a),m.Wb(s.c),m.Wb(b.a))},D.\u0275cmp=m.Qb({type:D,selectors:[["app-forum"]],decls:65,vars:13,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],["href","javascript:void(0)","data-toggle","modal","data-target","#newForum","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newForum","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"text-danger"],["type","text","id","new-task-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["name","description","placeholder","Enter Forum description",1,"quill-textbox",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["href","javascript:void(0)","data-toggle","modal","data-target","#newForum",1,"btn","btn-primary"],[1,"col-lg-3"],[1,"card"],[1,"card-body"],[1,"file-manager-menu","mb-4"],["href","javascript:void(0)",3,"click"],[1,"mailbox-menu-header"],["class","file-manager-menu mb-2",4,"ngFor","ngForOf"],[1,"col-lg-9"],["class","card",4,"ngIf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],[1,"file-manager-menu","mb-2"],["class","mailbox-menu-header mb-2",4,"ngIf"],[1,"mailbox-menu","list-unstyled"],[4,"ngFor","ngForOf"],[1,"mailbox-menu-header","mb-2"],[1,"card-body","py-0"],[1,"inbox-list","list-unstyled"],[1,"mail-author"],["onerror","this.src='assets/images/default-user.png'",3,"src"],[1,"mail-title"],[1,"mail-date"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-tasks.png","alt",""],["src","assets/images/loader.gif","alt",""],[3,"value"]],template:function(c,e){1&c&&(m.bc(0,"div",0),m.bc(1,"div",1),m.bc(2,"nav",2),m.bc(3,"ol",3),m.bc(4,"li",4),m.bc(5,"a",5),m.Oc(6,"Dashboard"),m.ac(),m.ac(),m.bc(7,"li",6),m.Oc(8,"Forums"),m.ac(),m.ac(),m.ac(),m.bc(9,"div",7),m.Mc(10,I,2,0,"a",8),m.ac(),m.ac(),m.bc(11,"div",9),m.Mc(12,S,13,6,"div",10),m.Mc(13,R,4,0,"div",11),m.Mc(14,U,2,0,"div",11),m.ac(),m.ac(),m.bc(15,"div",12),m.bc(16,"div",13),m.bc(17,"div",14),m.bc(18,"div",15),m.bc(19,"h5",16),m.Oc(20,"New Forum"),m.ac(),m.bc(21,"button",17),m.bc(22,"i",18),m.Oc(23,"close"),m.ac(),m.ac(),m.ac(),m.bc(24,"div",19),m.bc(25,"div",20),m.bc(26,"div",21),m.bc(27,"div",22),m.bc(28,"label"),m.Oc(29,"Title"),m.ac(),m.bc(30,"span",23),m.Oc(31," *"),m.ac(),m.bc(32,"input",24),m.mc("ngModelChange",(function(c){return e.forum.title=c})),m.ac(),m.ac(),m.ac(),m.bc(33,"div",25),m.bc(34,"div",22),m.bc(35,"label"),m.Oc(36,"Course"),m.ac(),m.bc(37,"span",23),m.Oc(38," *"),m.ac(),m.bc(39,"select",26),m.mc("ngModelChange",(function(c){return e.forum.courseId=c}))("ngModelChange",(function(){return e.getSessions()})),m.bc(40,"option",27),m.Oc(41,"Select"),m.ac(),m.Mc(42,P,2,2,"option",28),m.ac(),m.ac(),m.ac(),m.bc(43,"div",25),m.bc(44,"div",22),m.bc(45,"label"),m.Oc(46,"Session"),m.ac(),m.bc(47,"span",23),m.Oc(48," *"),m.ac(),m.bc(49,"select",26),m.mc("ngModelChange",(function(c){return e.forum.classId=c})),m.bc(50,"option",27),m.Oc(51,"Select"),m.ac(),m.Mc(52,A,2,2,"option",28),m.ac(),m.ac(),m.ac(),m.bc(53,"div",21),m.bc(54,"div",22),m.bc(55,"label"),m.Oc(56,"Description"),m.ac(),m.bc(57,"span",23),m.Oc(58," *"),m.ac(),m.bc(59,"quill-editor",29),m.mc("ngModelChange",(function(c){return e.forum.description=c})),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(60,"div",30),m.bc(61,"button",31),m.Oc(62,"Cancel"),m.ac(),m.bc(63,"button",32),m.mc("click",(function(){return e.AddForum()})),m.Oc(64," Save"),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()),2&c&&(m.Ib(5),m.vc("routerLink",m.yc(12,L)),m.Ib(5),m.vc("ngIf","Admin"!=e.currentUser.role.title),m.Ib(2),m.vc("ngIf",!e.loading&&e.forums.length),m.Ib(1),m.vc("ngIf",!e.loading&&!e.forums.length),m.Ib(1),m.vc("ngIf",e.loading),m.Ib(18),m.vc("ngModel",e.forum.title),m.Ib(7),m.vc("ngModel",e.forum.courseId),m.Ib(3),m.vc("ngForOf",e.courses),m.Ib(7),m.vc("ngModel",e.forum.classId),m.Ib(3),m.vc("ngForOf",e.sessions),m.Ib(7),m.vc("ngModel",e.forum.description),m.Ib(4),m.vc("disabled",!e.forum.title||!e.forum.classId||!e.forum.description))},directives:[s.d,n.n,r.b,r.i,r.l,r.q,r.m,r.s,n.m,g.a,h.c],pipes:[h.b],styles:[""]}),D),N=i("ciPP"),$=i("zbtk");function Q(c,e){if(1&c&&(m.bc(0,"div",41),m.bc(1,"a",42),m.Oc(2),m.ac(),m.bc(3,"a",43),m.Oc(4,"Edit Question"),m.ac(),m.bc(5,"a",44),m.Oc(6,"Delete Question"),m.ac(),m.ac()),2&c){var t=m.pc(2);m.Ib(2),m.Qc("Mark as ","answered"==t.forum.status?"Unresolved":"Resolved","")}}function T(c,e){if(1&c){var t=m.cc();m.bc(0,"a",59),m.mc("click",(function(){m.Ec(t);var c=m.pc().$implicit;return m.pc(2).CommentModalOpen(c)})),m.bc(1,"small"),m.Oc(2,"Edit "),m.ac(),m.ac()}}function W(c,e){if(1&c){var t=m.cc();m.bc(0,"a",60),m.mc("click",(function(){m.Ec(t);var c=m.pc().$implicit;return m.pc(2).CommentModalOpen(c)})),m.bc(1,"small"),m.Oc(2,"Remove "),m.ac(),m.ac()}}function B(c,e){if(1&c){var t=m.cc();m.bc(0,"a",61),m.mc("click",(function(){m.Ec(t);var c=m.pc().$implicit;return m.pc(2).CommentModalOpen(c)})),m.bc(1,"small",62),m.Oc(2,"Report Abuse"),m.ac(),m.ac()}}function _(c,e){if(1&c){var t=m.cc();m.bc(0,"a",59),m.mc("click",(function(){m.Ec(t);var c=m.pc().$implicit;return m.pc(3).ReplyModalOpen(c)})),m.bc(1,"small"),m.Oc(2,"Edit "),m.ac(),m.ac()}}function X(c,e){if(1&c){var t=m.cc();m.bc(0,"a",60),m.mc("click",(function(){m.Ec(t);var c=m.pc().$implicit;return m.pc(3).ReplyModalOpen(c)})),m.bc(1,"small"),m.Oc(2,"Remove "),m.ac(),m.ac()}}function q(c,e){if(1&c){var t=m.cc();m.bc(0,"a",61),m.mc("click",(function(){m.Ec(t);var c=m.pc().$implicit;return m.pc(3).ReplyModalOpen(c)})),m.bc(1,"small",62),m.Oc(2,"Report Abuse"),m.ac(),m.ac()}}function z(c,e){if(1&c&&(m.bc(0,"div",45),m.Xb(1,"img",46),m.bc(2,"div",63),m.bc(3,"span",48),m.Oc(4),m.bc(5,"div",49),m.Mc(6,_,3,0,"a",50),m.Mc(7,X,3,0,"a",51),m.Mc(8,q,3,0,"a",52),m.bc(9,"span",53),m.bc(10,"small"),m.Oc(11),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(12,"span",54),m.Oc(13),m.ac(),m.ac(),m.ac()),2&c){var t=e.$implicit,a=m.pc().$implicit,i=m.pc(2);m.Ib(1),m.wc("src",i.imgUrl+t.forumsComment.user.profile.profileImg,m.Gc),m.Ib(3),m.Qc(" ",t.forumsComment.user.firstName+" "+t.forumsComment.user.lastName," "),m.Ib(2),m.vc("ngIf",i.currentUser.id==t.forumsComment.user.id),m.Ib(1),m.vc("ngIf",i.currentUser.id==t.forumsComment.user.id),m.Ib(1),m.vc("ngIf",i.currentUser.id!=t.forumsComment.user.id&&!i.reportedComments.includes(a.id)),m.Ib(3),m.Pc(t.forumsComment.createdAt),m.Ib(2),m.Qc(" ",t.forumsComment.comment," ")}}function Y(c,e){if(1&c){var t=m.cc();m.bc(0,"div",45),m.Xb(1,"img",46),m.bc(2,"div",47),m.bc(3,"span",48),m.Oc(4),m.bc(5,"div",49),m.Mc(6,T,3,0,"a",50),m.Mc(7,W,3,0,"a",51),m.Mc(8,B,3,0,"a",52),m.bc(9,"span",53),m.bc(10,"small"),m.Oc(11),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(12,"span",54),m.Oc(13),m.ac(),m.Mc(14,z,14,7,"div",40),m.bc(15,"div",34),m.bc(16,"form",55),m.bc(17,"div",36),m.bc(18,"input",56),m.mc("ngModelChange",(function(c){return m.Ec(t),e.$implicit.reply=c}))("keyup.enter",(function(){m.Ec(t);var c=e.$implicit;return m.pc(2).Comment(c)})),m.ac(),m.bc(19,"div",57),m.bc(20,"button",58),m.mc("click",(function(){m.Ec(t);var c=e.$implicit;return m.pc(2).Comment(c)})),m.Oc(21,"Reply"),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()}if(2&c){var a=e.$implicit,i=m.pc(2);m.Ib(1),m.wc("src",i.imgUrl+a.user.profile.profileImg,m.Gc),m.Ib(3),m.Qc(" ",a.user.firstName+" "+a.user.lastName," "),m.Ib(2),m.vc("ngIf",i.currentUser.id==a.user.id),m.Ib(1),m.vc("ngIf",i.currentUser.id==a.user.id),m.Ib(1),m.vc("ngIf",i.currentUser.id!=a.user.id&&!i.reportedComments.includes(a.id)),m.Ib(3),m.Pc(a.createdAt),m.Ib(2),m.Qc(" ",a.comment," "),m.Ib(1),m.vc("ngForOf",a.forumsCommentsReplies),m.Ib(4),m.vc("ngModel",a.reply),m.Ib(2),m.vc("disabled",!a.reply)}}var J=function(){return["/"]},V=function(){return["/forums"]};function G(c,e){if(1&c){var t=m.cc();m.bc(0,"div",9),m.bc(1,"div",10),m.bc(2,"nav",11),m.bc(3,"ol",12),m.bc(4,"li",13),m.bc(5,"a",14),m.Oc(6,"Dashboard"),m.ac(),m.ac(),m.bc(7,"li",13),m.bc(8,"a",14),m.Oc(9,"Forums"),m.ac(),m.ac(),m.bc(10,"li",15),m.Oc(11),m.ac(),m.ac(),m.ac(),m.Mc(12,Q,7,1,"div",16),m.ac(),m.bc(13,"div",17),m.bc(14,"div",18),m.bc(15,"div",19),m.bc(16,"div",20),m.bc(17,"div",21),m.bc(18,"div",18),m.bc(19,"div",22),m.bc(20,"h5",23),m.Oc(21),m.ac(),m.Xb(22,"p",24),m.ac(),m.ac(),m.bc(23,"div",25),m.bc(24,"div",26),m.bc(25,"h5",27),m.Oc(26,"Created By: "),m.ac(),m.ac(),m.bc(27,"div",28),m.Oc(28),m.ac(),m.ac(),m.bc(29,"div",18),m.bc(30,"div",26),m.bc(31,"h5",27),m.Oc(32,"Created At: "),m.ac(),m.ac(),m.bc(33,"div",28),m.Oc(34),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(35,"div",29),m.bc(36,"div",30),m.bc(37,"div",31),m.bc(38,"h5",32),m.Oc(39,"Post a Reply"),m.ac(),m.bc(40,"div",33),m.bc(41,"div",34),m.bc(42,"form",35),m.bc(43,"div",36),m.bc(44,"textarea",37),m.mc("ngModelChange",(function(c){return m.Ec(t),m.pc().addComment.message=c}))("keyup.enter",(function(){return m.Ec(t),m.pc().Comment()})),m.ac(),m.ac(),m.bc(45,"button",38),m.mc("click",(function(){return m.Ec(t),m.pc().Comment()})),m.Oc(46,"Comment"),m.ac(),m.ac(),m.ac(),m.ac(),m.bc(47,"div",33),m.bc(48,"h5",39),m.Oc(49,"Posted Replies"),m.ac(),m.Mc(50,Y,22,10,"div",40),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.ac(),m.ac()}if(2&c){var a=m.pc();m.Ib(5),m.vc("routerLink",m.yc(11,J)),m.Ib(3),m.vc("routerLink",m.yc(12,V)),m.Ib(3),m.Pc(a.forum.title),m.Ib(1),m.vc("ngIf",a.user.id==a.currentUser.id),m.Ib(9),m.Pc(a.forum.title),m.Ib(1),m.vc("innerHTML",a.forum.description,m.Fc),m.Ib(6),m.Pc(a.user.firstName+" "+a.user.lastName),m.Ib(6),m.Pc(a.forum.createdAt),m.Ib(10),m.vc("ngModel",a.addComment.message),m.Ib(1),m.vc("disabled",!a.addComment.message),m.Ib(5),m.vc("ngForOf",a.forum.forumsComments)}}function H(c,e){if(1&c){var t=m.cc();m.bc(0,"div",64),m.bc(1,"div",65),m.bc(2,"h5",66),m.Oc(3,"Edit Forum"),m.ac(),m.bc(4,"button",67),m.bc(5,"i",68),m.Oc(6,"close"),m.ac(),m.ac(),m.ac(),m.bc(7,"div",69),m.bc(8,"div",70),m.bc(9,"label"),m.Oc(10,"Title"),m.ac(),m.bc(11,"input",71),m.mc("ngModelChange",(function(c){return m.Ec(t),m.pc().editForum.title=c})),m.ac(),m.ac(),m.bc(12,"div",70),m.bc(13,"label"),m.Oc(14,"Description"),m.ac(),m.bc(15,"quill-editor",72),m.mc("ngModelChange",(function(c){return m.Ec(t),m.pc().editForum.description=c})),m.ac(),m.ac(),m.ac(),m.bc(16,"div",73),m.bc(17,"button",74),m.Oc(18,"Cancel"),m.ac(),m.bc(19,"button",75),m.mc("click",(function(){return m.Ec(t),m.pc().EditForum()})),m.Oc(20," Save"),m.ac(),m.ac(),m.ac()}if(2&c){var a=m.pc();m.Ib(11),m.vc("ngModel",a.editForum.title),m.Ib(4),m.vc("ngModel",a.editForum.description),m.Ib(4),m.vc("disabled",!a.editForum.title||!a.editForum.description)}}function K(c,e){if(1&c){var t=m.cc();m.bc(0,"div",64),m.bc(1,"div",65),m.bc(2,"h5",66),m.Oc(3,"Change Forum Status"),m.ac(),m.bc(4,"button",67),m.bc(5,"i",68),m.Oc(6,"close"),m.ac(),m.ac(),m.ac(),m.bc(7,"div",69),m.bc(8,"p",76),m.Oc(9,"Are you sure you want to mark this forum as "),m.bc(10,"strong"),m.Oc(11),m.ac(),m.Oc(12,"?"),m.ac(),m.ac(),m.bc(13,"div",73),m.bc(14,"button",74),m.Oc(15,"Cancel"),m.ac(),m.bc(16,"button",77),m.mc("click",(function(){return m.Ec(t),m.pc().ChangeStatus()})),m.Oc(17),m.ac(),m.ac(),m.ac()}if(2&c){var a=m.pc();m.Ib(11),m.Qc("'","answered"==a.forum.status?"UNRESOLVED":"RESOLVED","'"),m.Ib(6),m.Pc("answered"==a.forum.status?"UNRESOLVED":"RESOLVED")}}function Z(c,e){if(1&c){var t=m.cc();m.bc(0,"div",64),m.bc(1,"div",65),m.bc(2,"h5",66),m.Oc(3,"Delete Forum"),m.ac(),m.bc(4,"button",67),m.bc(5,"i",68),m.Oc(6,"close"),m.ac(),m.ac(),m.ac(),m.bc(7,"div",69),m.bc(8,"p",76),m.Oc(9,"Are you sure you want to remove this forum ?"),m.ac(),m.ac(),m.bc(10,"div",73),m.bc(11,"button",74),m.Oc(12,"Cancel"),m.ac(),m.bc(13,"button",78),m.mc("click",(function(){return m.Ec(t),m.pc().RemoveForum()})),m.Oc(14,"Remove"),m.ac(),m.ac(),m.ac()}}function cc(c,e){if(1&c){var t=m.cc();m.bc(0,"div",64),m.bc(1,"div",65),m.bc(2,"h5",66),m.Oc(3,"Edit Comment"),m.ac(),m.bc(4,"button",67),m.bc(5,"i",68),m.Oc(6,"close"),m.ac(),m.ac(),m.ac(),m.bc(7,"div",69),m.bc(8,"div",70),m.bc(9,"label"),m.Oc(10,"Comment"),m.ac(),m.bc(11,"textarea",79),m.mc("ngModelChange",(function(c){return m.Ec(t),m.pc().selectedComment.message=c})),m.ac(),m.ac(),m.ac(),m.bc(12,"div",73),m.bc(13,"button",74),m.Oc(14,"Cancel"),m.ac(),m.bc(15,"button",75),m.mc("click",(function(){return m.Ec(t),m.pc().EditComment()})),m.Oc(16,"Save"),m.ac(),m.ac(),m.ac()}if(2&c){var a=m.pc();m.Ib(11),m.vc("ngModel",a.selectedComment.message),m.Ib(4),m.vc("disabled",!a.selectedComment.message)}}function ec(c,e){if(1&c){var t=m.cc();m.bc(0,"div",64),m.bc(1,"div",65),m.bc(2,"h5",66),m.Oc(3,"Delete Comment"),m.ac(),m.bc(4,"button",67),m.bc(5,"i",68),m.Oc(6,"close"),m.ac(),m.ac(),m.ac(),m.bc(7,"div",69),m.bc(8,"p",76),m.Oc(9,"Are you sure you want to remove this comment ?"),m.ac(),m.bc(10,"strong"),m.Oc(11),m.ac(),m.ac(),m.bc(12,"div",73),m.bc(13,"button",74),m.Oc(14,"Cancel"),m.ac(),m.bc(15,"button",78),m.mc("click",(function(){return m.Ec(t),m.pc().RemoveComment()})),m.Oc(16,"Remove"),m.ac(),m.ac(),m.ac()}if(2&c){var a=m.pc();m.Ib(11),m.Pc(a.selectedComment.message)}}function tc(c,e){if(1&c){var t=m.cc();m.bc(0,"div",64),m.bc(1,"div",65),m.bc(2,"h5",66),m.Oc(3,"Report Comment"),m.ac(),m.bc(4,"button",67),m.bc(5,"i",68),m.Oc(6,"close"),m.ac(),m.ac(),m.ac(),m.bc(7,"div",69),m.bc(8,"p",76),m.Oc(9,"Are you sure you want to "),m.bc(10,"strong"),m.Oc(11,"Report"),m.ac(),m.Oc(12," this comment ?"),m.ac(),m.bc(13,"strong"),m.Oc(14),m.ac(),m.ac(),m.bc(15,"div",73),m.bc(16,"button",74),m.Oc(17,"Cancel"),m.ac(),m.bc(18,"button",78),m.mc("click",(function(){return m.Ec(t),m.pc().ReportComment()})),m.Oc(19,"Report"),m.ac(),m.ac(),m.ac()}if(2&c){var a=m.pc();m.Ib(14),m.Pc(a.selectedComment.message)}}var ac,ic,oc=[{path:"",component:j},{path:":forumId",component:(ac=function(){function e(t,a,i,o,n,r,s){c(this,e),this.activatedRoute=t,this.forumService=a,this.toastr=i,this.issueService=o,this.config=n,this.location=r,this.dictionaryService=s,this.loading=!0,this.imgUrl=this.config.imgBaseUrl,this.comments=[],this.dictionary=[],this.flag=!1,this.reportedComments=[],this.addComment={message:"",replyId:""},this.selectedComment={message:"",id:""},this.editForum={title:"",description:""}}return t(e,[{key:"ngOnInit",value:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.forumId=this.activatedRoute.snapshot.paramMap.get("forumId"),this.getForumDetail(),this.getDictionary()}},{key:"getDictionary",value:function(){var c=this;this.dictionaryService.getDictionary().subscribe((function(e){c.dictionary=e.body}))}},{key:"getForumDetail",value:function(){var c=this;this.forumService.getForumById(this.forumId).subscribe((function(e){c.forum=e.body.data,c.reportedComments=e.body.reportedComments,c.user=c.forum.user,c.comments=c.forum.forumsComments,c.forum.forumsComments.forEach((function(c){c.createdAt=d(c.createdAt).fromNow(),c.reply="",c.forumsCommentsReplies.forEach((function(c){c.forumsComment.createdAt=d(c.forumsComment.createdAt).fromNow()}))})),c.forum.createdAt=d(c.forum.createdAt).format("MMMM Do, YYYY"),c.editForum={title:c.forum.title,description:c.forum.description},c.loading=!1}))}},{key:"Comment",value:function(c){var e=this;this.forumService.addComment(this.forumId,{comment:c?c.reply:this.addComment.message,replyId:c?c.id:""}).subscribe((function(c){e.toastr.success("Comment placed."),e.addComment={message:"",replyId:""},e.getForumDetail()}))}},{key:"RemoveForum",value:function(){var c=this;this.forumService.deleteForum(this.forumId).subscribe((function(e){c.toastr.success("Forum has been deleted."),c.location.back()}))}},{key:"ChangeStatus",value:function(){var c=this;this.forumService.changeForumStatus(this.forumId,{status:"answered"==this.forum.status?"unansered":"answered"}).subscribe((function(e){var t="answered"==c.forum.status?"resolved":"unresolved";console.log(t),c.toastr.success("Forum has ben marked "+t),c.getForumDetail()}))}},{key:"EditForum",value:function(){var c=this;this.forumService.editForum(this.forumId,{title:this.editForum.title,description:this.editForum.description}).subscribe((function(e){c.toastr.success("Forum Detail Updated."),c.getForumDetail()}))}},{key:"CommentModalOpen",value:function(c){this.selectedComment={id:c.id,message:c.comment}}},{key:"ReplyModalOpen",value:function(c){this.selectedComment={id:c.replyId,message:c.forumsComment.comment}}},{key:"EditComment",value:function(){var c=this;this.forumService.editComment(this.forumId,this.selectedComment.id,{comment:this.selectedComment.message}).subscribe((function(e){c.toastr.success("Comment Edited"),c.selectedComment={id:"",message:""},c.getForumDetail()}))}},{key:"RemoveComment",value:function(){var c=this;this.forumService.deleteComment(this.forumId,this.selectedComment.id).subscribe((function(e){c.toastr.success("Comment Deleted."),c.selectedComment={id:"",message:""},c.getForumDetail()}))}},{key:"ReportComment",value:function(){var c=this;this.issueService.reportComment({commentId:this.selectedComment.id,forumId:this.forumId}).subscribe((function(e){c.toastr.success("Comment Reported."),c.selectedComment={id:"",message:""},c.getForumDetail()}))}}]),e}(),ac.\u0275fac=function(c){return new(c||ac)(m.Wb(s.a),m.Wb(f),m.Wb(l.b),m.Wb(N.a),m.Wb(b.a),m.Wb(n.j),m.Wb($.a))},ac.\u0275cmp=m.Qb({type:ac,selectors:[["app-forum-detail"]],decls:19,vars:7,consts:[["class","page-content",4,"ngIf"],["id","editForum","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],["class","modal-content",4,"ngIf"],["id","markComplete","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteForum","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","editComment","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteComment","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","ReportComment","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],["class","page-options",4,"ngIf"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-body"],[1,"col-md-12"],[1,"card-title"],[3,"innerHTML"],[1,"row","mt-2"],[1,"col-md-2"],[1,"card-title","my-1"],[1,"col-md-10"],[1,"card","card-transparent"],[1,"card-body","p-0"],[1,"post"],[1,"card-title","pt-3","pb-0","mb-0"],[1,"post-comments","m-0","p-0"],[1,"new-comment","mb-2"],["action","javascript: void(0)",2,"text-align","right"],[1,"input-group"],["name","comment","placeholder","Type something...",1,"form-control","search-input",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"btn","btn-primary","mt-2",2,"margin-top","12px",3,"disabled","click"],[1,"card-title","py-3","mb-0"],["class","post-comm",4,"ngFor","ngForOf"],[1,"page-options"],["href","javascript:void(0)","data-toggle","modal","data-target","#markComplete",1,"btn","btn-success"],["href","javascript:void(0)","data-toggle","modal","data-target","#editForum",1,"btn","btn-primary"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteForum",1,"btn","btn-danger"],[1,"post-comm"],["onerror","this.src='assets/images/default-user.png'",1,"comment-img",3,"src"],[1,"comment-container","pr-0",2,"position","relative"],[1,"comment-author"],[1,"comment-actions"],["href","javascript:void(0)","data-target","#editComment","data-toggle","modal",3,"click",4,"ngIf"],["href","javascript:void(0)","data-target","#deleteComment","data-toggle","modal",3,"click",4,"ngIf"],["href","javascript:void(0)","data-target","#ReportComment","data-toggle","modal",3,"click",4,"ngIf"],[1,"comment-date"],[1,"comment-text"],["action","javascript: void(0)"],["type","text","name","comment","placeholder","Type something...",1,"form-control","search-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["href","javascript:void(0)","data-target","#editComment","data-toggle","modal",3,"click"],["href","javascript:void(0)","data-target","#deleteComment","data-toggle","modal",3,"click"],["href","javascript:void(0)","data-target","#ReportComment","data-toggle","modal",3,"click"],[1,"text-danger"],[1,"comment-container","position-relative"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],["type","text","id","new-task-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"],["name","description","placeholder","Enter project description",1,"quill-textbox",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],[1,"mb-0"],["type","button","data-dismiss","modal",1,"btn","btn-success",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","new-task-name","placeholder","Abc..",1,"form-control",3,"ngModel","ngModelChange"]],template:function(c,e){1&c&&(m.Mc(0,G,51,13,"div",0),m.bc(1,"div",1),m.bc(2,"div",2),m.Mc(3,H,21,3,"div",3),m.ac(),m.ac(),m.bc(4,"div",4),m.bc(5,"div",2),m.Mc(6,K,18,2,"div",3),m.ac(),m.ac(),m.bc(7,"div",5),m.bc(8,"div",2),m.Mc(9,Z,15,0,"div",3),m.ac(),m.ac(),m.bc(10,"div",6),m.bc(11,"div",2),m.Mc(12,cc,17,2,"div",3),m.ac(),m.ac(),m.bc(13,"div",7),m.bc(14,"div",2),m.Mc(15,ec,17,1,"div",3),m.ac(),m.ac(),m.bc(16,"div",8),m.bc(17,"div",2),m.Mc(18,tc,20,1,"div",3),m.ac(),m.ac()),2&c&&(m.vc("ngIf",!e.loading),m.Ib(3),m.vc("ngIf",!e.loading),m.Ib(3),m.vc("ngIf",!e.loading),m.Ib(3),m.vc("ngIf",!e.loading),m.Ib(3),m.vc("ngIf",!e.loading),m.Ib(3),m.vc("ngIf",!e.loading),m.Ib(3),m.vc("ngIf",!e.loading))},directives:[n.n,s.d,r.t,r.j,r.k,r.b,r.i,r.l,n.m,g.a],styles:[".comment-actions[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:0;top:6px}.comment-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .comment-actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.4);display:inline-block;line-height:14px;padding-right:10px;padding-left:10px}.comment-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{padding-left:0;border-left:none}.comment-actions[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:400}"]}),ac)}],nc=((ic=function e(){c(this,e)}).\u0275mod=m.Ub({type:ic}),ic.\u0275inj=m.Tb({factory:function(c){return new(c||ic)},imports:[[n.b,r.d,h.a,s.e.forChild(oc),g.b.forRoot({modules:{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{align:[]}]]}})]]}),ic)}}])}();