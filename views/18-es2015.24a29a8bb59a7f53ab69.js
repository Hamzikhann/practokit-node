(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{AAXE:function(c,e,t){"use strict";t.r(e),t.d(e,"IssuesModule",(function(){return O}));var a=t("ofXK"),s=t("3Pt+"),i=t("tyNb"),o=t("wd/R"),n=t("fXoL"),r=t("ciPP"),d=t("5eHb"),b=t("oOf3");const l=function(c){return["/forums",c]};function u(c,e){if(1&c){const c=n.cc();n.bc(0,"tr"),n.bc(1,"td"),n.bc(2,"a",33),n.Oc(3),n.ac(),n.ac(),n.bc(4,"td"),n.bc(5,"a",33),n.Oc(6),n.ac(),n.ac(),n.bc(7,"td"),n.bc(8,"strong"),n.Oc(9),n.ac(),n.Xb(10,"br"),n.ac(),n.bc(11,"td",34),n.bc(12,"a",5),n.bc(13,"span",35),n.Oc(14,"Preview"),n.ac(),n.ac(),n.Xb(15,"br"),n.bc(16,"a",36),n.mc("click",(function(){n.Ec(c);const t=e.$implicit;return n.pc(2).onModalOpen(t)})),n.bc(17,"span",37),n.Oc(18),n.ac(),n.ac(),n.ac(),n.ac()}if(2&c){const c=e.$implicit;n.Nb("resolved","resolved"==c.status),n.Ib(3),n.Qc(" ",c.createdAt,""),n.Ib(3),n.Qc(" ",c.user.firstName+" "+c.user.lastName,""),n.Ib(3),n.Pc(c.forumsComment.comment),n.Ib(3),n.vc("routerLink",n.zc(7,l,c.forumId)),n.Ib(6),n.Pc(c.status?"Resolved":"Resolve")}}function m(c,e){if(1&c){const c=n.cc();n.bc(0,"pagination-controls",38),n.mc("pageChange",(function(e){return n.Ec(c),n.pc(2).p=e})),n.ac()}}const g=function(c){return{itemsPerPage:10,currentPage:c}};function p(c,e){if(1&c&&(n.bc(0,"div",23),n.bc(1,"div",24),n.bc(2,"div",25),n.bc(3,"div",26),n.bc(4,"table",27),n.bc(5,"thead"),n.bc(6,"tr"),n.bc(7,"th",28),n.Oc(8,"Timestamp"),n.ac(),n.bc(9,"th",28),n.Oc(10,"Reported By"),n.ac(),n.bc(11,"th",29),n.Oc(12,"Issue"),n.ac(),n.bc(13,"th",30),n.Oc(14,"Actions"),n.ac(),n.ac(),n.ac(),n.bc(15,"tbody"),n.Mc(16,u,19,9,"tr",31),n.qc(17,"paginate"),n.ac(),n.ac(),n.Mc(18,m,1,0,"pagination-controls",32),n.ac(),n.ac(),n.ac(),n.ac()),2&c){const c=n.pc();n.Ib(16),n.vc("ngForOf",n.sc(17,2,c.issues,n.zc(5,g,c.p))),n.Ib(2),n.vc("ngIf",c.issues.length>10)}}function v(c,e){1&c&&(n.bc(0,"div",39),n.Xb(1,"img",40),n.bc(2,"p"),n.Oc(3,"No Courses found"),n.ac(),n.ac())}function f(c,e){1&c&&(n.bc(0,"div",39),n.Xb(1,"img",41),n.ac())}const h=function(){return["/"]},I=[{path:"",component:(()=>{class c{constructor(c,e){this.issueService=c,this.toastr=e,this.loading=!0,this.p=1,this.issues=[],this.selectedIssue={id:"",title:""}}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user")),this.getIssues()}getIssues(){this.issueService.getIssues().subscribe(c=>{this.issues=c.body,this.issues.forEach(c=>{c.createdAt=o(c.createdAt).format("DD/MM/YYYY h:m A")}),this.loading=!1})}onModalOpen(c){this.selectedIssue={id:c.id,title:c.forumsComment.comment}}onResolveIssue(){this.issueService.resolveIssues(this.selectedIssue.id,{status:"resolved"}).subscribe(c=>{this.toastr.success("Issue marked as Resolved"),this.getIssues(),this.selectedIssue={id:"",title:""}})}}return c.\u0275fac=function(e){return new(e||c)(n.Wb(r.a),n.Wb(d.b))},c.\u0275cmp=n.Qb({type:c,selectors:[["app-issues"]],decls:37,vars:6,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#newCourse",1,"page-options"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","deleteCourse","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","p-0"],[1,"table","table-striped","mb-0"],["scope","col",2,"width","15%"],["scope","col",2,"width","55%"],["scope","col",1,"text-center",2,"width","15%"],[3,"resolved",4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["href","javascript:void(0)",1,"mt-2"],[1,"text-center"],[1,"badge","badge-primary","mb-1"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteCourse",3,"click"],[1,"badge","badge-success"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""]],template:function(c,e){1&c&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"nav",2),n.bc(3,"ol",3),n.bc(4,"li",4),n.bc(5,"a",5),n.Oc(6,"Dashboard"),n.ac(),n.ac(),n.bc(7,"li",6),n.Oc(8,"Issues"),n.ac(),n.ac(),n.ac(),n.Xb(9,"div",7),n.ac(),n.bc(10,"div",8),n.Mc(11,p,19,7,"div",9),n.Mc(12,v,4,0,"div",10),n.Mc(13,f,2,0,"div",10),n.ac(),n.ac(),n.bc(14,"div",11),n.bc(15,"div",12),n.bc(16,"div",13),n.bc(17,"div",14),n.bc(18,"h5",15),n.Oc(19,"Resolve Issue"),n.ac(),n.bc(20,"button",16),n.bc(21,"i",17),n.Oc(22,"close"),n.ac(),n.ac(),n.ac(),n.bc(23,"div",18),n.bc(24,"p",19),n.Oc(25,"Mark this issue as "),n.bc(26,"strong"),n.Oc(27,"RESOLVED"),n.ac(),n.Oc(28," ?"),n.ac(),n.Xb(29,"br"),n.bc(30,"strong"),n.Oc(31),n.ac(),n.ac(),n.bc(32,"div",20),n.bc(33,"button",21),n.Oc(34,"Cancel"),n.ac(),n.bc(35,"button",22),n.mc("click",(function(){return e.onResolveIssue()})),n.Oc(36,"Resolve"),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()),2&c&&(n.Ib(5),n.vc("routerLink",n.yc(5,h)),n.Ib(6),n.vc("ngIf",e.issues.length),n.Ib(1),n.vc("ngIf",!e.issues.length&&!e.loading),n.Ib(1),n.vc("ngIf",e.loading),n.Ib(18),n.Pc(e.selectedIssue.title))},directives:[i.d,a.n,a.m,b.c],pipes:[b.b],styles:[".resolved[_ngcontent-%COMP%]{background:#fafafa;text-decoration:line-through!important}"]}),c})()}];let O=(()=>{class c{}return c.\u0275mod=n.Ub({type:c}),c.\u0275inj=n.Tb({factory:function(e){return new(e||c)},imports:[[a.b,s.d,b.a,i.e.forChild(I)]]}),c})()}}]);