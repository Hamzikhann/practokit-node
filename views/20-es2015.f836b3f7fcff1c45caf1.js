(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{BJHQ:function(e,c,t){"use strict";t.r(c),t.d(c,"UsersModule",(function(){return se}));var a=t("ofXK"),i=t("3Pt+"),s=t("tyNb"),o=t("fXoL"),r=t("CFL1"),n=t("tk/3"),d=t("EdIQ");let l=(()=>{class e{constructor(e,c){this.http=e,this.config=c,this.baseUrl=this.config.reqBaseUrl+"users/ta/"}addAssistant(e){return this.http.post(this.baseUrl,e,{observe:"response"})}updateAssistant(e){return this.http.put(this.baseUrl,e,{observe:"response"})}deleteAssistant(e,c){return this.http.put(this.baseUrl+"remove",c,{observe:"response"})}}return e.\u0275fac=function(c){return new(c||e)(o.jc(n.b),o.jc(d.a))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=t("5eHb"),p=t("oOf3");function u(e,c){1&e&&(o.bc(0,"th",35),o.Oc(1," Assistant"),o.ac())}function f(e,c){if(1&e&&(o.bc(0,"a",47),o.bc(1,"span",48),o.Xb(2,"i",49),o.Oc(3),o.Xb(4,"i",50),o.ac(),o.ac()),2&e){const e=o.pc(2).$implicit;o.Ib(3),o.Qc(" ",e.assistant.firstName+" "+e.assistant.lastName," ")}}function m(e,c){1&e&&(o.bc(0,"a",51),o.bc(1,"span",48),o.Oc(2,"Add"),o.ac(),o.ac())}function h(e,c){if(1&e){const e=o.cc();o.bc(0,"td",44),o.mc("click",(function(){o.Ec(e);const c=o.pc().$implicit;return o.pc(2).setUser(c)})),o.Mc(1,f,5,1,"a",45),o.Mc(2,m,3,0,"a",46),o.ac()}if(2&e){const e=o.pc().$implicit;o.Ib(1),o.vc("ngIf",e.assistant),o.Ib(1),o.vc("ngIf",!e.assistant)}}function g(e,c){if(1&e){const e=o.cc();o.bc(0,"td"),o.bc(1,"a",52),o.mc("click",(function(){o.Ec(e);const c=o.pc().$implicit;return o.pc(2).setUser(c)})),o.bc(2,"span"),o.Oc(3,"N/A"),o.ac(),o.ac(),o.ac()}}const v=function(e){return["/users",e,"profile"]};function O(e,c){if(1&e){const e=o.cc();o.bc(0,"tr"),o.bc(1,"td"),o.bc(2,"a",5),o.Xb(3,"img",40),o.Oc(4),o.ac(),o.ac(),o.Mc(5,h,3,2,"td",41),o.Mc(6,g,4,0,"td",25),o.bc(7,"td"),o.Oc(8),o.ac(),o.bc(9,"td"),o.Oc(10),o.ac(),o.bc(11,"td"),o.bc(12,"a",42),o.mc("click",(function(){o.Ec(e);const t=c.$implicit;return o.pc(2).setUser(t)})),o.bc(13,"span",43),o.Oc(14,"Remove"),o.ac(),o.ac(),o.ac(),o.ac()}if(2&e){const e=c.$implicit,t=o.pc(2);o.Ib(2),o.vc("routerLink",o.zc(7,v,e.id)),o.Ib(1),o.wc("src",t.imgUrl+e.profile.profileImg,o.Gc),o.Ib(1),o.Qc(" ",e.firstName+" "+e.lastName,""),o.Ib(1),o.vc("ngIf","instructor"==t.type&&"Admin"==t.currentUser.role.title),o.Ib(1),o.vc("ngIf","instructor"==t.type&&"Admin"!=t.currentUser.role.title),o.Ib(2),o.Pc(e.email),o.Ib(2),o.Pc(e.profile.mobile?e.profile.mobile:"None")}}function y(e,c){if(1&e){const e=o.cc();o.bc(0,"pagination-controls",53),o.mc("pageChange",(function(c){return o.Ec(e),o.pc(2).p=c})),o.ac()}}const I=function(e){return{itemsPerPage:10,currentPage:e}};function M(e,c){if(1&e&&(o.bc(0,"div",29),o.bc(1,"div",30),o.bc(2,"div",31),o.bc(3,"div",32),o.bc(4,"div",33),o.bc(5,"table",34),o.bc(6,"thead"),o.bc(7,"tr"),o.bc(8,"th",35),o.Oc(9,"Name"),o.ac(),o.Mc(10,u,2,0,"th",36),o.bc(11,"th",35),o.Oc(12,"Email"),o.ac(),o.bc(13,"th",35),o.Oc(14,"Phone"),o.ac(),o.bc(15,"th",37),o.Oc(16,"Status"),o.ac(),o.ac(),o.ac(),o.bc(17,"tbody"),o.Mc(18,O,15,9,"tr",38),o.qc(19,"paginate"),o.ac(),o.ac(),o.Mc(20,y,1,0,"pagination-controls",39),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e){const e=o.pc();o.Ib(10),o.vc("ngIf",("Teacher"==e.currentUser.role.title||"Admin"==e.currentUser.role.title)&&"instructor"==e.type),o.Ib(8),o.vc("ngForOf",o.sc(19,3,e.users,o.zc(6,I,e.p))),o.Ib(2),o.vc("ngIf",e.users.length>10)}}function U(e,c){1&e&&(o.bc(0,"div",54),o.Xb(1,"img",55),o.bc(2,"p"),o.Oc(3,"No Users found"),o.ac(),o.ac())}function N(e,c){1&e&&(o.bc(0,"div",54),o.Xb(1,"img",56),o.ac())}function C(e,c){if(1&e&&(o.bc(0,"option",61),o.Oc(1),o.ac()),2&e){const e=c.$implicit;o.wc("value",e.id),o.Ib(1),o.Qc(" ",e.firstName+" "+e.lastName," ")}}function x(e,c){if(1&e){const e=o.cc();o.bc(0,"div"),o.bc(1,"label"),o.Oc(2,"Teacher Assistants"),o.ac(),o.bc(3,"span",57),o.Oc(4," *"),o.ac(),o.bc(5,"select",58),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().assistantId=c})),o.bc(6,"option",59),o.Oc(7,"Select"),o.ac(),o.Mc(8,C,2,2,"option",60),o.ac(),o.ac()}if(2&e){const e=o.pc();o.Ib(5),o.vc("ngModel",e.assistantId),o.Ib(3),o.vc("ngForOf",e.assistants)}}function w(e,c){1&e&&(o.bc(0,"div",54),o.Xb(1,"img",55),o.bc(2,"p"),o.Oc(3,"No Assistants found"),o.ac(),o.ac())}function T(e,c){if(1&e&&(o.bc(0,"option",61),o.Oc(1),o.ac()),2&e){const e=c.$implicit;o.wc("value",e.id),o.Ib(1),o.Qc(" ",e.firstName+" "+e.lastName," ")}}function S(e,c){if(1&e){const e=o.cc();o.bc(0,"div"),o.bc(1,"label"),o.Oc(2,"Teacher Assistants"),o.ac(),o.bc(3,"span",57),o.Oc(4," *"),o.ac(),o.bc(5,"select",58),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().selectedUser.assistant.id=c})),o.bc(6,"option",59),o.Oc(7,"Select"),o.ac(),o.Mc(8,T,2,2,"option",60),o.ac(),o.ac()}if(2&e){const e=o.pc();o.Ib(5),o.vc("ngModel",e.selectedUser.assistant.id),o.Ib(3),o.vc("ngForOf",e.assistants)}}function k(e,c){1&e&&(o.bc(0,"div",54),o.Xb(1,"img",55),o.bc(2,"p"),o.Oc(3,"No Assistants found"),o.ac(),o.ac())}const A=function(){return["/"]},j=function(e){return["/users",e,"add"]};let H=(()=>{class e{constructor(e,c,t,a,i){this.activatedRoute=e,this.userService=c,this.assistantService=t,this.toastr=a,this.config=i,this.loading=!0,this.p=1,this.imgUrl=this.config.imgBaseUrl,this.users=[],this.assistants=[],this.assistantId="",this.selectedUser={id:"",name:"",assistant:""}}ngOnInit(){this.type=this.activatedRoute.snapshot.paramMap.get("type"),this.currentUser=JSON.parse(localStorage.getItem("user")),this.getUsers(),"instructor"==this.type&&this.getAssistants()}getUsers(){this.userService.getUsers(this.type).subscribe(e=>{this.users=e.body,this.loading=!1})}getAssistants(){this.userService.getUsers("ta").subscribe(e=>{this.assistants=e.body,this.loading=!1})}onDeleteUser(){this.userService.updateStatus(this.selectedUser.id,{status:"N"}).subscribe(e=>{this.toastr.success("User Removed."),this.getUsers()})}setUser(e){this.selectedUser={id:e.id,name:e.firstName+" "+e.lastName,assistant:e.assistant}}addAssistant(){this.assistantService.addAssistant({teacherId:this.selectedUser.id,assistantId:this.assistantId}).subscribe(e=>{this.toastr.success("Assitant assigned to "+this.selectedUser.name),this.assistantId="",this.getUsers()})}UpdateAssistant(){this.assistantService.updateAssistant({teacherId:this.selectedUser.id,assistantId:this.selectedUser.assistant.id}).subscribe(e=>{this.toastr.success("New assitant assigned to "+this.selectedUser.name),this.selectedUser={id:"",name:"",assistant:""},this.getUsers()})}deleteAssistant(){this.assistantService.deleteAssistant(this.selectedUser.id,{teacherId:this.selectedUser.id,assistantId:this.selectedUser.assistant.id}).subscribe(e=>{this.toastr.success("Assistant removed for "+this.selectedUser.name),this.selectedUser={id:"",name:"",assistant:""},this.getUsers()})}}return e.\u0275fac=function(c){return new(c||e)(o.Wb(s.a),o.Wb(r.a),o.Wb(l),o.Wb(b.b),o.Wb(d.a))},e.\u0275cmp=o.Qb({type:e,selectors:[["app-users"]],decls:89,vars:18,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active",2,"text-transform","capitalize"],[1,"page-options"],["href","javascript:void(0)",1,"btn","btn-primary",3,"routerLink"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","deleteUser","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","addAssistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[4,"ngIf"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editAssistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteAssistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","pt-0"],[1,"table-responsive"],[1,"table","table-striped","table-courses"],["scope","col"],["scope","col",4,"ngIf"],["scope","col","width","10%"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["alt","profile picture","onerror","this.src='assets/images/default-user.png'",3,"src"],[3,"click",4,"ngIf"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteUser",3,"click"],[1,"badge","badge-danger"],[3,"click"],["href","javascript:void(0)",4,"ngIf"],["href","javascript:void(0)","data-toggle","modal","data-target","#addAssistant",4,"ngIf"],["href","javascript:void(0)"],[1,"badge","badge-primary"],["data-toggle","modal","data-target","#editAssistant",1,"far","fa-edit"],["data-toggle","modal","data-target","#deleteAssistant",1,"far","fa-trash-alt"],["href","javascript:void(0)","data-toggle","modal","data-target","#addAssistant"],["href","javascript:void(0)","data-toggle","modal","data-target","#addAssistant",3,"click"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-users.png","alt",""],["src","assets/images/loader.gif","alt",""],[1,"text-danger"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,c){1&e&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"nav",2),o.bc(3,"ol",3),o.bc(4,"li",4),o.bc(5,"a",5),o.Oc(6,"Dashboard"),o.ac(),o.ac(),o.bc(7,"li",6),o.Oc(8),o.ac(),o.ac(),o.ac(),o.bc(9,"div",7),o.bc(10,"a",8),o.Oc(11),o.ac(),o.ac(),o.ac(),o.bc(12,"div",9),o.Mc(13,M,21,8,"div",10),o.Mc(14,U,4,0,"div",11),o.Mc(15,N,2,0,"div",11),o.ac(),o.ac(),o.bc(16,"div",12),o.bc(17,"div",13),o.bc(18,"div",14),o.bc(19,"div",15),o.bc(20,"h5",16),o.Oc(21,"Remove User"),o.ac(),o.bc(22,"button",17),o.bc(23,"i",18),o.Oc(24,"close"),o.ac(),o.ac(),o.ac(),o.bc(25,"div",19),o.bc(26,"p",20),o.Oc(27,"Are you sure you want to remove "),o.bc(28,"strong"),o.Oc(29),o.ac(),o.Oc(30,"?"),o.ac(),o.ac(),o.bc(31,"div",21),o.bc(32,"button",22),o.Oc(33,"Cancel"),o.ac(),o.bc(34,"button",23),o.mc("click",(function(){return c.onDeleteUser()})),o.Oc(35,"Remove"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(36,"div",24),o.bc(37,"div",13),o.bc(38,"div",14),o.bc(39,"div",15),o.bc(40,"h5",16),o.Oc(41,"Add Assistant"),o.ac(),o.bc(42,"button",17),o.bc(43,"i",18),o.Oc(44,"close"),o.ac(),o.ac(),o.ac(),o.bc(45,"div",19),o.Mc(46,x,9,2,"div",25),o.Mc(47,w,4,0,"div",11),o.ac(),o.bc(48,"div",21),o.bc(49,"button",22),o.Oc(50,"Cancel"),o.ac(),o.bc(51,"button",26),o.mc("click",(function(){return c.addAssistant()})),o.Oc(52,"Save"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(53,"div",27),o.bc(54,"div",13),o.bc(55,"div",14),o.bc(56,"div",15),o.bc(57,"h5",16),o.Oc(58,"Update Assistant"),o.ac(),o.bc(59,"button",17),o.bc(60,"i",18),o.Oc(61,"close"),o.ac(),o.ac(),o.ac(),o.bc(62,"div",19),o.Mc(63,S,9,2,"div",25),o.Mc(64,k,4,0,"div",11),o.ac(),o.bc(65,"div",21),o.bc(66,"button",22),o.Oc(67,"Cancel"),o.ac(),o.bc(68,"button",26),o.mc("click",(function(){return c.UpdateAssistant()})),o.Oc(69,"Save"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(70,"div",28),o.bc(71,"div",13),o.bc(72,"div",14),o.bc(73,"div",15),o.bc(74,"h5",16),o.Oc(75,"Remove Assistant"),o.ac(),o.bc(76,"button",17),o.bc(77,"i",18),o.Oc(78,"close"),o.ac(),o.ac(),o.ac(),o.bc(79,"div",19),o.bc(80,"p"),o.Oc(81,"Are you sure you want to remove "),o.bc(82,"strong"),o.Oc(83),o.ac(),o.ac(),o.ac(),o.bc(84,"div",21),o.bc(85,"button",22),o.Oc(86,"Cancel"),o.ac(),o.bc(87,"button",23),o.mc("click",(function(){return c.deleteAssistant()})),o.Oc(88,"Remove"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.Ib(5),o.vc("routerLink",o.yc(15,A)),o.Ib(3),o.Qc("",c.type,"s "),o.Ib(2),o.vc("routerLink",o.zc(16,j,c.type)),o.Ib(1),o.Qc("Add New ",c.type,""),o.Ib(2),o.vc("ngIf",c.users.length),o.Ib(1),o.vc("ngIf",!c.users.length&&!c.loading),o.Ib(1),o.vc("ngIf",c.loading),o.Ib(14),o.Pc(c.selectedUser.name),o.Ib(17),o.vc("ngIf",c.assistants.length&&!c.loading),o.Ib(1),o.vc("ngIf",!c.assistants.length&&!c.loading),o.Ib(4),o.vc("disabled",!c.assistantId),o.Ib(12),o.vc("ngIf",c.assistants.length&&!c.loading),o.Ib(1),o.vc("ngIf",!c.assistants.length&&!c.loading),o.Ib(4),o.vc("disabled",!c.selectedUser.assistant),o.Ib(15),o.Pc(c.selectedUser.assistant.firstName+" "+c.selectedUser.assistant.lastName))},directives:[s.d,a.n,a.m,p.c,i.q,i.i,i.l,i.m,i.s],pipes:[p.b],styles:[""]}),e})();function P(e,c){1&e&&(o.bc(0,"span",17),o.Oc(1," * Valid email is required "),o.ac())}const E=function(){return["/"]},F=function(e){return["/users",e]};let L=(()=>{class e{constructor(e,c,t,a){this.activatedRoute=e,this.userService=c,this.toastr=t,this.router=a,this.firstName="",this.lastName="",this.email="",this.password="",this.mobile="",this.address="",this.city="",this.state="",this.zip=""}ngOnInit(){this.type=this.activatedRoute.snapshot.paramMap.get("type"),console.log(this.type)}SignInClick(){this.userService.addUser({firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,address:this.address,country:"Pakistan",state:this.state,zipcode:this.zip,mobile:this.mobile,role:this.type}).subscribe(e=>{var c="";switch(c){case"instructor":c="Instructor added successfully";break;case"student":c="Student added successfully";break;case"Teacher Assistant":c="Teacher Assistant added successfully";break;default:c="User added successfully"}this.toastr.success(c),this.router.navigate(["/users",this.type])})}}return e.\u0275fac=function(c){return new(c||e)(o.Wb(s.a),o.Wb(r.a),o.Wb(b.b),o.Wb(s.c))},e.\u0275cmp=o.Qb({type:e,selectors:[["app-users-add"]],decls:88,vars:19,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body"],[1,"card-title","mb-3"],[1,"form-row"],[1,"form-group","col-md-6"],["for","inputEmail4"],[1,"text-danger"],["type","text","placeholder","First Name","name","first_name",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword4"],["type","text","placeholder","Last Name","name","last_name",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","inputEmail4","placeholder","Email","name","email","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngModel","ngModelChange"],["Email","ngModel"],["class","text-danger",4,"ngIf"],["type","password","id","inputPassword4","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-8"],["for","inputAddress"],["type","text","id","inputAddress","placeholder","1234 Main St","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-4"],["for","inputMobile"],["type","text","id","inputMobile","placeholder","xxxx xxxxxxx","name","address",1,"form-control",3,"ngModel","ngModelChange"],["for","inputCity"],["type","text","id","inputCity","name","city","placeholder","City",1,"form-control",3,"ngModel","ngModelChange"],["for","inputState"],["id","inputState","name","state",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["value","","selected",""],["value","punjab"],["value","sindh"],["value","KPK"],["value","blochistan"],["value","AJK"],[1,"form-group","col-md-2"],["for","inputZip"],["type","text","id","inputZip","name","zip","placeholder","Zip",1,"form-control",3,"ngModel","ngModelChange"],[1,"float-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,c){if(1&e&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"nav",2),o.bc(3,"ol",3),o.bc(4,"li",4),o.bc(5,"a",5),o.Oc(6,"Dashboard"),o.ac(),o.ac(),o.bc(7,"li",4),o.bc(8,"a",5),o.Oc(9),o.ac(),o.ac(),o.bc(10,"li",6),o.Oc(11,"Add New"),o.ac(),o.ac(),o.ac(),o.Xb(12,"div",7),o.ac(),o.bc(13,"div",8),o.bc(14,"div",9),o.bc(15,"div",10),o.bc(16,"div",11),o.bc(17,"div",12),o.bc(18,"h5",13),o.Oc(19),o.ac(),o.bc(20,"p"),o.Oc(21),o.ac(),o.bc(22,"form"),o.bc(23,"div",14),o.bc(24,"div",15),o.bc(25,"label",16),o.Oc(26,"First Name"),o.ac(),o.bc(27,"span",17),o.Oc(28," * "),o.ac(),o.bc(29,"input",18),o.mc("ngModelChange",(function(e){return c.firstName=e})),o.ac(),o.ac(),o.bc(30,"div",15),o.bc(31,"label",19),o.Oc(32,"Last Name"),o.ac(),o.bc(33,"span",17),o.Oc(34," * "),o.ac(),o.bc(35,"input",20),o.mc("ngModelChange",(function(e){return c.lastName=e})),o.ac(),o.ac(),o.ac(),o.bc(36,"div",14),o.bc(37,"div",15),o.bc(38,"label",16),o.Oc(39,"Email"),o.ac(),o.bc(40,"span",17),o.Oc(41," * "),o.ac(),o.bc(42,"input",21,22),o.mc("ngModelChange",(function(e){return c.email=e})),o.ac(),o.Mc(44,P,2,0,"span",23),o.ac(),o.bc(45,"div",15),o.bc(46,"label",19),o.Oc(47,"Password"),o.ac(),o.bc(48,"span",17),o.Oc(49," * "),o.ac(),o.bc(50,"input",24),o.mc("ngModelChange",(function(e){return c.password=e})),o.ac(),o.ac(),o.ac(),o.bc(51,"div",14),o.bc(52,"div",25),o.bc(53,"label",26),o.Oc(54,"Address"),o.ac(),o.bc(55,"input",27),o.mc("ngModelChange",(function(e){return c.address=e})),o.ac(),o.ac(),o.bc(56,"div",28),o.bc(57,"label",29),o.Oc(58,"Mobile Number"),o.ac(),o.bc(59,"input",30),o.mc("ngModelChange",(function(e){return c.mobile=e})),o.ac(),o.ac(),o.ac(),o.bc(60,"div",14),o.bc(61,"div",15),o.bc(62,"label",31),o.Oc(63,"City"),o.ac(),o.bc(64,"input",32),o.mc("ngModelChange",(function(e){return c.city=e})),o.ac(),o.ac(),o.bc(65,"div",28),o.bc(66,"label",33),o.Oc(67,"State"),o.ac(),o.bc(68,"select",34),o.mc("ngModelChange",(function(e){return c.state=e})),o.bc(69,"option",35),o.Oc(70,"Choose a State"),o.ac(),o.bc(71,"option",36),o.Oc(72,"Punjab"),o.ac(),o.bc(73,"option",37),o.Oc(74,"Sindh"),o.ac(),o.bc(75,"option",38),o.Oc(76,"KPK"),o.ac(),o.bc(77,"option",39),o.Oc(78,"Blochistan"),o.ac(),o.bc(79,"option",40),o.Oc(80,"AJK"),o.ac(),o.ac(),o.ac(),o.bc(81,"div",41),o.bc(82,"label",42),o.Oc(83,"Zip"),o.ac(),o.bc(84,"input",43),o.mc("ngModelChange",(function(e){return c.zip=e})),o.ac(),o.ac(),o.ac(),o.bc(85,"div",44),o.bc(86,"button",45),o.mc("click",(function(){return c.SignInClick()})),o.Oc(87,"Submit"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e){const e=o.Dc(43);o.Ib(5),o.vc("routerLink",o.yc(16,E)),o.Ib(3),o.vc("routerLink",o.zc(17,F,c.type)),o.Ib(1),o.Qc("",c.type,"s"),o.Ib(10),o.Qc("New ",c.type,""),o.Ib(2),o.Qc("Fill up the basic information for ",c.type,"."),o.Ib(8),o.vc("ngModel",c.firstName),o.Ib(6),o.vc("ngModel",c.lastName),o.Ib(7),o.vc("ngModel",c.email),o.Ib(2),o.vc("ngIf",(e.errors&&e.errors.pattern||e.invalid)&&e.touched),o.Ib(6),o.vc("ngModel",c.password),o.Ib(5),o.vc("ngModel",c.address),o.Ib(4),o.vc("ngModel",c.mobile),o.Ib(5),o.vc("ngModel",c.city),o.Ib(4),o.vc("ngModel",c.state),o.Ib(16),o.vc("ngModel",c.zip),o.Ib(2),o.vc("disabled",!(c.firstName&&c.lastName&&c.email&&c.password))}},directives:[s.d,i.t,i.j,i.k,i.b,i.i,i.l,i.p,i.n,a.n,i.q,i.m,i.s],styles:[""]}),e})(),z=(()=>{class e{constructor(e,c){this.http=e,this.config=c,this.baseUrl=this.config.reqBaseUrl+"users/officehours/"}getHours(e){return this.http.get(this.baseUrl+"user/"+e,{observe:"response"})}addHours(e){return this.http.post(this.baseUrl,e,{observe:"response"})}deleteOfficeHours(e){return this.http.delete(this.baseUrl+e,{observe:"response"})}}return e.\u0275fac=function(c){return new(c||e)(o.jc(n.b),o.jc(d.a))},e.\u0275prov=o.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const D=function(){return["edit"]};function W(e,c){1&e&&(o.bc(0,"a",57),o.Oc(1,"Update Profile"),o.ac()),2&e&&o.vc("routerLink",o.yc(1,D))}function Q(e,c){if(1&e&&(o.bc(0,"li"),o.bc(1,"i",8),o.Oc(2,"school"),o.ac(),o.bc(3,"span"),o.Oc(4),o.bc(5,"a",61),o.Oc(6),o.ac(),o.ac(),o.ac()),2&e){const e=o.pc(3);o.Ib(4),o.Qc("Studied ",e.profile.educationName," at "),o.Ib(2),o.Qc(" ",e.profile.educationFrom,"")}}function R(e,c){if(1&e&&(o.bc(0,"li"),o.bc(1,"i",8),o.Oc(2,"work"),o.ac(),o.bc(3,"span"),o.Oc(4),o.bc(5,"a",61),o.Oc(6),o.ac(),o.ac(),o.ac()),2&e){const e=o.pc(3);o.Ib(4),o.Qc("",e.profile.jobTitle," at "),o.Ib(2),o.Qc(" ",e.profile.jobOffice,"")}}function X(e,c){if(1&e&&(o.bc(0,"li"),o.bc(1,"i",8),o.Oc(2,"my_location"),o.ac(),o.bc(3,"span"),o.Oc(4,"From "),o.bc(5,"a",61),o.Oc(6),o.ac(),o.ac(),o.ac()),2&e){const e=o.pc(3);o.Ib(6),o.Rc("",e.profile.city,", ",e.profile.country,"")}}function $(e,c){if(1&e&&(o.bc(0,"div",58),o.bc(1,"div",50),o.bc(2,"div",59),o.bc(3,"h5",52),o.Oc(4,"About"),o.ac(),o.bc(5,"ul",53),o.Mc(6,Q,7,2,"li",60),o.Mc(7,R,7,2,"li",60),o.Mc(8,X,7,2,"li",60),o.ac(),o.ac(),o.ac(),o.ac()),2&e){const e=o.pc(2);o.Ib(6),o.vc("ngIf",e.profile.educationName&&e.profile.educationFrom),o.Ib(1),o.vc("ngIf","teacher"==e.role&&e.profile.jobTitle&&e.profile.jobOffice),o.Ib(1),o.vc("ngIf",e.profile.city)}}function K(e,c){if(1&e){const e=o.cc();o.bc(0,"div",66),o.Oc(1),o.bc(2,"i",67),o.mc("click",(function(){o.Ec(e);const t=c.$implicit,a=o.pc().$implicit;return o.pc(2).onModalOpen(t.id,a.key,t.start,t.end)})),o.ac(),o.ac()}if(2&e){const e=c.$implicit;o.Ib(1),o.Qc(" ",e.start+" - "+e.end," ")}}function B(e,c){if(1&e&&(o.bc(0,"div",62),o.bc(1,"div",63),o.bc(2,"ul",53),o.bc(3,"li"),o.bc(4,"i",8),o.Oc(5,"calendar_today"),o.ac(),o.bc(6,"span"),o.Oc(7),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(8,"div",64),o.Mc(9,K,3,1,"div",65),o.ac(),o.ac()),2&e){const e=c.$implicit;o.Ib(7),o.Pc(e.key),o.Ib(2),o.vc("ngForOf",e.value)}}const _=function(){return["/"]},J=function(e){return{"col-md-12":e}};function q(e,c){if(1&e&&(o.bc(0,"div",30),o.bc(1,"div",31),o.bc(2,"nav",32),o.bc(3,"ol",33),o.bc(4,"li",34),o.bc(5,"a",35),o.Oc(6,"Dashboard"),o.ac(),o.ac(),o.bc(7,"li",36),o.Oc(8,"User Profile"),o.ac(),o.ac(),o.ac(),o.bc(9,"div",37),o.Mc(10,W,2,2,"a",38),o.ac(),o.ac(),o.bc(11,"div",39),o.bc(12,"div",40),o.bc(13,"div",41),o.bc(14,"div",42),o.bc(15,"div",43),o.Xb(16,"img",44),o.ac(),o.bc(17,"div",45),o.bc(18,"h3"),o.Oc(19),o.ac(),o.bc(20,"p",46),o.Oc(21),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(22,"div",47),o.bc(23,"div",41),o.Mc(24,$,9,3,"div",48),o.bc(25,"div",49),o.bc(26,"div",50),o.bc(27,"div",51),o.bc(28,"h5",52),o.Oc(29,"Contact Info"),o.ac(),o.bc(30,"ul",53),o.bc(31,"li"),o.bc(32,"i",8),o.Oc(33,"mail_outline"),o.ac(),o.bc(34,"span"),o.Oc(35),o.ac(),o.ac(),o.bc(36,"li"),o.bc(37,"i",8),o.Oc(38,"home"),o.ac(),o.bc(39,"span"),o.bc(40,"a"),o.Oc(41),o.ac(),o.ac(),o.ac(),o.bc(42,"li"),o.bc(43,"i",8),o.Oc(44,"local_phone"),o.ac(),o.bc(45,"span"),o.Oc(46),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(47,"div",54),o.bc(48,"div",50),o.bc(49,"div",51),o.bc(50,"div",41),o.bc(51,"div",22),o.bc(52,"h5",52),o.Oc(53,"Office Hours"),o.ac(),o.ac(),o.bc(54,"div",22),o.Xb(55,"i",55),o.ac(),o.ac(),o.Mc(56,B,10,2,"div",56),o.qc(57,"keyvalue"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e){const e=o.pc();o.Ib(5),o.vc("routerLink",o.yc(13,_)),o.Ib(5),o.vc("ngIf",e.currentUser.id==e.user.id),o.Ib(6),o.wc("src",e.imgUrl+e.profile.profileImg,o.Gc),o.Ib(3),o.Pc(e.user.firstName+" "+e.user.lastName),o.Ib(2),o.Pc(e.role),o.Ib(3),o.vc("ngIf",e.profile.educationName&&e.profile.educationFrom||"teacher"==e.role&&e.profile.jobTitle&&e.profile.jobOffice||e.profile.city),o.Ib(1),o.vc("ngClass",o.zc(14,J,!(e.profile.educationName&&e.profile.educationFrom||"teacher"!=e.role||e.profile.jobTitle||e.profile.jobOffice||e.profile.city))),o.Ib(10),o.Pc(e.user.email),o.Ib(6),o.Pc(e.profile.address||"No Address Provided"),o.Ib(5),o.Pc(e.profile.mobile||"No Contact Provided"),o.Ib(10),o.vc("ngForOf",o.rc(57,11,e.availability))}}function Z(e,c){1&e&&(o.bc(0,"div",68),o.Xb(1,"img",69),o.ac())}let G=(()=>{class e{constructor(e,c,t,a,i){this.activatedRoute=e,this.userSerivce=c,this.hourService=t,this.config=a,this.toastr=i,this.loading=!0,this.imgUrl=this.config.imgBaseUrl,this.addHours={day:"",startTime:"",endTime:""},this.selectedOfficeHour={id:"",day:"",startTime:"",endTime:""}}ngOnInit(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.userId=this.activatedRoute.snapshot.paramMap.get("userId"),this.getUserDetail()}getUserDetail(){this.userSerivce.getUserById(this.userId).subscribe(e=>{this.user=e.body.user,this.profile=e.body.profile,this.role=e.body.role,this.availability=this.formatavaiabilityData(e.body.availability),this.loading=!1})}formatavaiabilityData(e){return Object.keys(e).forEach((function(c,t){e[c].forEach(e=>{e.start=Number.parseInt(e.start.split(":")[0])>12?Number.parseInt(e.start.split(":")[0])-12+":"+Number.parseInt(e.start.split(":")[1])+" PM":e.start+" AM",e.end=Number.parseInt(e.end.split(":")[0])>12?Number.parseInt(e.end.split(":")[0])-12+":"+Number.parseInt(e.end.split(":")[1])+" PM":e.end+" AM"})})),e}setEndTime(){if(this.addHours.endTime=this.addHours.startTime.split(":")[0]+":"+(Number.parseInt(this.addHours.startTime.split(":")[1])+20),Number.parseInt(this.addHours.endTime.split(":")[1])>60){var e=Number.parseInt(this.addHours.endTime.split(":")[0]),c=Number.parseInt(this.addHours.endTime.split(":")[1]);this.addHours.endTime=(e+=1)+":"+(c-=60),c<10&&(this.addHours.endTime=e+":0"+c),24==e&&(this.addHours.endTime=this.addHours.endTime.replace("24","00")),e>24&&(this.addHours.endTime=(e-=24)+":"+c),e<10&&(this.addHours.endTime="0"+e+":"+c)}}onModalOpen(e,c,t,a){this.selectedOfficeHour={id:e,day:c,startTime:t,endTime:a}}addOfficeHours(){this.hourService.addHours({day:this.addHours.day,start:this.addHours.startTime,end:this.addHours.endTime,teacherId:this.userId}).subscribe(e=>{this.toastr.success("Office Hours Added."),this.getUserDetail()})}deleteOfficeHour(){this.hourService.deleteOfficeHours(this.selectedOfficeHour.id).subscribe(e=>{this.toastr.success("Office hour removed."),this.getUserDetail()})}}return e.\u0275fac=function(c){return new(c||e)(o.Wb(s.a),o.Wb(r.a),o.Wb(z),o.Wb(d.a),o.Wb(b.b))},e.\u0275cmp=o.Qb({type:e,selectors:[["app-profile"]],decls:74,vars:7,consts:[["class","page-content",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","addOfficeHours","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],[1,"text-danger"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","","disabled",""],["value","Monday"],["value","Tuesday"],["value","Wednesday"],["value","Thursday"],["value","Friday"],["value","Saturday"],["value","Sunday"],[1,"form-row"],[1,"col-md-6"],["type","time","id","course-start","placeholder","01:00 PM",1,"form-control",3,"ngModel","ngModelChange"],["type","time","id","course-end","placeholder","02:00 PM","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","deleteOfficeHour","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],["class","btn btn-primary",3,"routerLink",4,"ngIf"],[1,"main-wrapper"],[1,"profile-header"],[1,"row"],[1,"col"],[1,"profile-img"],["onerror","this.src='assets/images/default-user.png'",3,"src"],[1,"profile-name"],[2,"text-transform","capitalize"],[1,"profile-content"],["class","col-md-8",4,"ngIf"],[1,"col-md-4",3,"ngClass"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"list-unstyled","profile-about-list"],[1,"col-md-12"],["data-toggle","modal","data-target","#addOfficeHours",1,"fas","fa-plus","float-right"],["class","row m-1",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"col-md-8"],[1,"card-body",2,"min-height","171px"],[4,"ngIf"],["href","javascript:void(0)"],[1,"row","m-1"],[1,"col-md-2","p-0"],[1,"col-md-10"],["class","badge badge-primary mr-1",4,"ngFor","ngForOf"],[1,"badge","badge-primary","mr-1"],["data-toggle","modal","data-target","#deleteOfficeHour",1,"far","fa-trash-alt","ml-2",3,"click"],[1,"placeholder"],["src","assets/images/loader.gif","alt",""]],template:function(e,c){1&e&&(o.Mc(0,q,58,16,"div",0),o.Mc(1,Z,2,0,"div",1),o.bc(2,"div",2),o.bc(3,"div",3),o.bc(4,"div",4),o.bc(5,"div",5),o.bc(6,"h5",6),o.Oc(7,"Add Office Hours"),o.ac(),o.bc(8,"button",7),o.bc(9,"i",8),o.Oc(10,"close"),o.ac(),o.ac(),o.ac(),o.bc(11,"div",9),o.bc(12,"div",10),o.bc(13,"label"),o.Oc(14,"Teacher Assistants"),o.ac(),o.bc(15,"span",11),o.Oc(16," *"),o.ac(),o.bc(17,"select",12),o.mc("ngModelChange",(function(e){return c.addHours.day=e})),o.bc(18,"option",13),o.Oc(19,"Select"),o.ac(),o.bc(20,"option",14),o.Oc(21,"Monday"),o.ac(),o.bc(22,"option",15),o.Oc(23,"Tuesday"),o.ac(),o.bc(24,"option",16),o.Oc(25,"Wednesday"),o.ac(),o.bc(26,"option",17),o.Oc(27,"Thursday"),o.ac(),o.bc(28,"option",18),o.Oc(29,"Friday"),o.ac(),o.bc(30,"option",19),o.Oc(31,"Saturday"),o.ac(),o.bc(32,"option",20),o.Oc(33,"Sunday"),o.ac(),o.ac(),o.ac(),o.bc(34,"div",10),o.bc(35,"div",21),o.bc(36,"div",22),o.bc(37,"label"),o.Oc(38,"Start Time"),o.ac(),o.bc(39,"span",11),o.Oc(40,"* "),o.ac(),o.bc(41,"input",23),o.mc("ngModelChange",(function(e){return c.addHours.startTime=e}))("ngModelChange",(function(){return c.setEndTime()})),o.ac(),o.ac(),o.bc(42,"div",22),o.bc(43,"label"),o.Oc(44,"End Time"),o.ac(),o.bc(45,"input",24),o.mc("ngModelChange",(function(e){return c.addHours.endTime=e})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(46,"span",11),o.Oc(47,"* "),o.ac(),o.bc(48,"span"),o.Oc(49,"Time Slot will be of 20 minutes."),o.ac(),o.ac(),o.bc(50,"div",25),o.bc(51,"button",26),o.Oc(52,"Cancel"),o.ac(),o.bc(53,"button",27),o.mc("click",(function(){return c.addOfficeHours()})),o.Oc(54,"Save"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(55,"div",28),o.bc(56,"div",3),o.bc(57,"div",4),o.bc(58,"div",5),o.bc(59,"h5",6),o.Oc(60,"Remove Office Hours"),o.ac(),o.bc(61,"button",7),o.bc(62,"i",8),o.Oc(63,"close"),o.ac(),o.ac(),o.ac(),o.bc(64,"div",9),o.bc(65,"p"),o.Oc(66,"Are you sure you want to remove "),o.bc(67,"strong"),o.Oc(68),o.ac(),o.ac(),o.ac(),o.bc(69,"div",25),o.bc(70,"button",26),o.Oc(71,"Cancel"),o.ac(),o.bc(72,"button",29),o.mc("click",(function(){return c.deleteOfficeHour()})),o.Oc(73,"Remove"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.vc("ngIf",!c.loading),o.Ib(1),o.vc("ngIf",c.loading),o.Ib(16),o.vc("ngModel",c.addHours.day),o.Ib(24),o.vc("ngModel",c.addHours.startTime),o.Ib(4),o.vc("ngModel",c.addHours.endTime),o.Ib(8),o.vc("disabled",!c.addHours.day||!c.addHours.startTime),o.Ib(15),o.Pc(c.selectedOfficeHour.day+" "+c.selectedOfficeHour.startTime+" - "+c.selectedOfficeHour.endTime))},directives:[a.n,i.q,i.i,i.l,i.m,i.s,i.b,s.d,a.l,a.m],pipes:[a.h],styles:[".badge.badge-primary[_ngcontent-%COMP%]{font-size:12px!important}"]}),e})();var V=t("9ans"),Y=t("kvL/");function ee(e,c){if(1&e){const e=o.cc();o.bc(0,"ngx-dropzone-preview",54),o.mc("removed",(function(){o.Ec(e);const t=c.$implicit;return o.pc(2).onRemove(t)})),o.bc(1,"ngx-dropzone-label"),o.Oc(2),o.ac(),o.ac()}if(2&e){const e=c.$implicit;o.vc("removable",!0),o.Ib(2),o.Rc("",e.name," (",e.type,")")}}function ce(e,c){if(1&e){const e=o.cc();o.bc(0,"div",15),o.bc(1,"div",21),o.bc(2,"label"),o.Oc(3,"Job Title"),o.ac(),o.bc(4,"input",55),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc(2).profile.jobTitle=c})),o.ac(),o.ac(),o.bc(5,"div",21),o.bc(6,"label"),o.Oc(7,"Job Office"),o.ac(),o.bc(8,"input",56),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc(2).profile.jobOffice=c})),o.ac(),o.ac(),o.ac()}if(2&e){const e=o.pc(2);o.Ib(4),o.vc("ngModel",e.profile.jobTitle),o.Ib(4),o.vc("ngModel",e.profile.jobOffice)}}function te(e,c){if(1&e){const e=o.cc();o.bc(0,"div",9),o.bc(1,"div",10),o.bc(2,"div",11),o.bc(3,"div",12),o.bc(4,"div",13),o.bc(5,"h5",14),o.Oc(6,"Edit Profile"),o.ac(),o.bc(7,"div"),o.bc(8,"div",15),o.bc(9,"div",16),o.Xb(10,"img",17),o.ac(),o.bc(11,"div",18),o.bc(12,"ngx-dropzone",19),o.mc("change",(function(c){return o.Ec(e),o.pc().onSelect(c)})),o.bc(13,"ngx-dropzone-label"),o.Oc(14,"Pick a Profile Picture"),o.ac(),o.Mc(15,ee,3,3,"ngx-dropzone-preview",20),o.ac(),o.ac(),o.ac(),o.bc(16,"div",15),o.bc(17,"div",21),o.bc(18,"label",22),o.Oc(19,"First Name"),o.ac(),o.bc(20,"span",23),o.Oc(21," * "),o.ac(),o.bc(22,"input",24),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().user.firstName=c})),o.ac(),o.ac(),o.bc(23,"div",21),o.bc(24,"label",25),o.Oc(25,"Last Name"),o.ac(),o.bc(26,"span",23),o.Oc(27," * "),o.ac(),o.bc(28,"input",26),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().user.lastName=c})),o.ac(),o.ac(),o.ac(),o.bc(29,"div",15),o.bc(30,"div",27),o.bc(31,"label",22),o.Oc(32,"Email"),o.ac(),o.bc(33,"span",23),o.Oc(34," * "),o.ac(),o.bc(35,"input",28),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().user.email=c})),o.ac(),o.ac(),o.ac(),o.bc(36,"div",15),o.bc(37,"div",29),o.bc(38,"label"),o.Oc(39,"Address"),o.ac(),o.bc(40,"input",30),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().profile.address=c})),o.ac(),o.ac(),o.bc(41,"div",31),o.bc(42,"label"),o.Oc(43,"Mobile Number"),o.ac(),o.bc(44,"input",32),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().profile.mobile=c})),o.ac(),o.ac(),o.ac(),o.bc(45,"div",15),o.bc(46,"div",21),o.bc(47,"label",33),o.Oc(48,"City"),o.ac(),o.bc(49,"input",34),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().profile.city=c})),o.ac(),o.ac(),o.bc(50,"div",31),o.bc(51,"label",35),o.Oc(52,"State"),o.ac(),o.bc(53,"select",36),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().profile.state=c})),o.bc(54,"option",37),o.Oc(55,"Choose a State"),o.ac(),o.bc(56,"option",38),o.Oc(57,"Punjab"),o.ac(),o.bc(58,"option",39),o.Oc(59,"Sindh"),o.ac(),o.bc(60,"option",40),o.Oc(61,"KPK"),o.ac(),o.bc(62,"option",41),o.Oc(63,"Blochistan"),o.ac(),o.bc(64,"option",42),o.Oc(65,"AJK"),o.ac(),o.ac(),o.ac(),o.bc(66,"div",43),o.bc(67,"label",44),o.Oc(68,"Zip"),o.ac(),o.bc(69,"input",45),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().profile.zipcode=c})),o.ac(),o.ac(),o.ac(),o.bc(70,"div",15),o.bc(71,"div",46),o.bc(72,"label"),o.Oc(73,"Education Name"),o.ac(),o.bc(74,"input",47),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().profile.educationName=c})),o.ac(),o.ac(),o.bc(75,"div",31),o.bc(76,"label"),o.Oc(77,"Education From"),o.ac(),o.bc(78,"input",48),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().profile.educationFrom=c})),o.ac(),o.ac(),o.bc(79,"div",49),o.bc(80,"label"),o.Oc(81,"Education Type"),o.ac(),o.bc(82,"input",50),o.mc("ngModelChange",(function(c){return o.Ec(e),o.pc().profile.educationType=c})),o.ac(),o.ac(),o.ac(),o.Mc(83,ce,9,2,"div",51),o.bc(84,"div",52),o.bc(85,"button",53),o.mc("click",(function(){return o.Ec(e),o.pc().UpdateProfile()})),o.Oc(86,"Update"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}if(2&e){const e=o.pc();o.Ib(10),o.wc("src",e.imgUrl+e.profile.profileImg,o.Gc),o.Ib(2),o.vc("accept","image/*"),o.Ib(3),o.vc("ngForOf",e.files),o.Ib(7),o.vc("ngModel",e.user.firstName),o.Ib(6),o.vc("ngModel",e.user.lastName),o.Ib(7),o.vc("ngModel",e.user.email),o.Ib(5),o.vc("ngModel",e.profile.address),o.Ib(4),o.vc("ngModel",e.profile.mobile),o.Ib(5),o.vc("ngModel",e.profile.city),o.Ib(4),o.vc("ngModel",e.profile.state),o.Ib(16),o.vc("ngModel",e.profile.zipcode),o.Ib(5),o.vc("ngModel",e.profile.educationName),o.Ib(4),o.vc("ngModel",e.profile.educationFrom),o.Ib(4),o.vc("ngModel",e.profile.educationType),o.Ib(1),o.vc("ngIf","teacher"==e.role),o.Ib(2),o.vc("disabled",!e.user.firstName||!e.user.lastName||!e.user.email)}}const ae=function(){return["/"]},ie=[{path:":type",component:H},{path:":type/add",component:L},{path:":userId/profile",component:G},{path:":userId/profile/edit",component:(()=>{class e{constructor(e,c,t,a,i,s){this.activatedRoute=e,this.userService=c,this.toastr=t,this.config=a,this.location=i,this.authService=s,this.loading=!0,this.imgUrl=this.config.imgBaseUrl,this.files=[]}ngOnInit(){this.userId=this.activatedRoute.snapshot.paramMap.get("userId"),this.getUserDetail()}getUserDetail(){this.userService.getUserById(this.userId).subscribe(e=>{this.user=e.body.user,this.profile=e.body.profile,this.role=e.body.role,this.loading=!1})}onSelect(e){e.addedFiles.forEach(e=>{0==this.files.length&&this.files.push(e)})}onRemove(e){this.files.splice(this.files.indexOf(e),1)}UpdateProfile(){if(this.files.length){const e=new FormData;e.append("firstName",this.user.firstName),e.append("lastName",this.user.lastName),e.append("address",this.profile.address?this.profile.address:""),e.append("country","Pakistan"),e.append("city",this.profile.city?this.profile.city:""),e.append("state",this.profile.state?this.profile.state:""),e.append("zipcode",this.profile.zipcode?this.profile.zipcode:""),e.append("mobile",this.profile.mobile?this.profile.mobile:""),e.append("educationName",this.profile.educationName?this.profile.educationName:""),e.append("educationFrom",this.profile.educationFrom?this.profile.educationFrom:""),e.append("educationType",this.profile.educationType?this.profile.educationType:""),e.append("jobTitle",this.profile.jobTitle?this.profile.jobTitle:""),e.append("jobOffice",this.profile.jobOffice?this.profile.jobOffice:""),e.append("file",this.files[0]),this.userService.updateUser(e).subscribe(e=>{this.authService.storeUserData(null,e.body.userData),this.authService.setUser(e.body.userData),this.toastr.success("Profile Updated successfully"),this.location.back()})}else this.userService.updateUser({firstName:this.user.firstName,lastName:this.user.lastName,address:this.profile.address?this.profile.address:"",country:"Pakistan",city:this.profile.city?this.profile.city:"",state:this.profile.state?this.profile.state:"",zipcode:this.profile.zipcode?this.profile.zipcode:"",mobile:this.profile.mobile?this.profile.mobile:"",educationName:this.profile.educationName?this.profile.educationName:"",educationFrom:this.profile.educationFrom?this.profile.educationFrom:"",educationType:this.profile.educationType?this.profile.educationType:"",jobTitle:this.profile.jobTitle?this.profile.jobTitle:"",jobOffice:this.profile.jobOffice?this.profile.jobOffice:""}).subscribe(e=>{this.authService.storeUserData(null,e.body.userData),this.authService.setUser(e.body.userData),this.toastr.success("Profile Updated successfully"),this.location.back()})}}return e.\u0275fac=function(c){return new(c||e)(o.Wb(s.a),o.Wb(r.a),o.Wb(b.b),o.Wb(d.a),o.Wb(a.j),o.Wb(V.a))},e.\u0275cmp=o.Qb({type:e,selectors:[["app-edit-profile"]],decls:11,vars:3,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],["class","main-wrapper",4,"ngIf"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body"],[1,"card-title","mb-3"],[1,"form-row"],[1,"col-md-3","pb-4"],["alt","profile picture","onerror","this.src='assets/images/default-user.png'",2,"height","100px","width","100px","border","1px solid #dedede","border-radius","4rem",3,"src"],[1,"col-md-9"],[2,"height","100px",3,"accept","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"form-group","col-md-6"],["for","inputEmail4"],[1,"text-danger"],["type","text","placeholder","First Name","name","user.firstName",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword4"],["type","text","placeholder","Last Name","name","user.lastName",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-12"],["type","email","id","inputEmail4","placeholder","Email","name","user.email","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-8"],["type","text","placeholder","1234 Main St","name","profile.address",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-4"],["type","text","placeholder","xxxx xxxxxxx","name","profile.mobile",1,"form-control",3,"ngModel","ngModelChange"],["for","inputCity"],["type","text","name","profile.city","placeholder","City",1,"form-control",3,"ngModel","ngModelChange"],["for","inputState"],["id","inputState","name","profile.state",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["value","","selected",""],["value","punjab"],["value","sindh"],["value","KPK"],["value","blochistan"],["value","AJK"],[1,"form-group","col-md-2"],["for","inputZip"],["type","text","id","inputZip","name","profile.zipcode","placeholder","Zip",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-5"],["type","text","id","education_name","placeholder","MBBS","name","profile.educationName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","education_from","placeholder","University of ...","name","profile.educationFrom",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-3"],["type","text","id","education_type","placeholder","Masters","name","profile.educationType",1,"form-control",3,"ngModel","ngModelChange"],["class","form-row",4,"ngIf"],[1,"float-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"removable","removed"],["type","text","id","job_title","placeholder","Lecturer","name","profile.jobTitle",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","job_office","placeholder","University of ...","name","profile.jobOffice",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,c){1&e&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"nav",2),o.bc(3,"ol",3),o.bc(4,"li",4),o.bc(5,"a",5),o.Oc(6,"Dashboard"),o.ac(),o.ac(),o.bc(7,"li",6),o.Oc(8,"Profile"),o.ac(),o.ac(),o.ac(),o.Xb(9,"div",7),o.ac(),o.Mc(10,te,87,16,"div",8),o.ac()),2&e&&(o.Ib(5),o.vc("routerLink",o.yc(2,ae)),o.Ib(5),o.vc("ngIf",!c.loading))},directives:[s.d,a.n,Y.a,Y.d,a.m,i.b,i.i,i.l,i.q,i.m,i.s,Y.c],styles:[""]}),e})()}];let se=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(c){return new(c||e)},imports:[[a.b,i.d,Y.b,p.a,s.e.forChild(ie)]]}),e})()}}]);