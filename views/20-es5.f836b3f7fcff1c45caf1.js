!function(){function e(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function c(e,c){for(var a=0;a<c.length;a++){var t=c[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function a(e,a,t){return a&&c(e.prototype,a),t&&c(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{BJHQ:function(c,t,i){"use strict";i.r(t),i.d(t,"UsersModule",(function(){return fe}));var o,n=i("ofXK"),r=i("3Pt+"),s=i("tyNb"),d=i("fXoL"),l=i("CFL1"),b=i("tk/3"),u=i("EdIQ"),p=((o=function(){function c(a,t){e(this,c),this.http=a,this.config=t,this.baseUrl=this.config.reqBaseUrl+"users/ta/"}return a(c,[{key:"addAssistant",value:function(e){return this.http.post(this.baseUrl,e,{observe:"response"})}},{key:"updateAssistant",value:function(e){return this.http.put(this.baseUrl,e,{observe:"response"})}},{key:"deleteAssistant",value:function(e,c){return this.http.put(this.baseUrl+"remove",c,{observe:"response"})}}]),c}()).\u0275fac=function(e){return new(e||o)(d.jc(b.b),d.jc(u.a))},o.\u0275prov=d.Sb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),f=i("5eHb"),m=i("oOf3");function v(e,c){1&e&&(d.bc(0,"th",35),d.Oc(1," Assistant"),d.ac())}function g(e,c){if(1&e&&(d.bc(0,"a",47),d.bc(1,"span",48),d.Xb(2,"i",49),d.Oc(3),d.Xb(4,"i",50),d.ac(),d.ac()),2&e){var a=d.pc(2).$implicit;d.Ib(3),d.Qc(" ",a.assistant.firstName+" "+a.assistant.lastName," ")}}function h(e,c){1&e&&(d.bc(0,"a",51),d.bc(1,"span",48),d.Oc(2,"Add"),d.ac(),d.ac())}function y(e,c){if(1&e){var a=d.cc();d.bc(0,"td",44),d.mc("click",(function(){d.Ec(a);var e=d.pc().$implicit;return d.pc(2).setUser(e)})),d.Mc(1,g,5,1,"a",45),d.Mc(2,h,3,0,"a",46),d.ac()}if(2&e){var t=d.pc().$implicit;d.Ib(1),d.vc("ngIf",t.assistant),d.Ib(1),d.vc("ngIf",!t.assistant)}}function O(e,c){if(1&e){var a=d.cc();d.bc(0,"td"),d.bc(1,"a",52),d.mc("click",(function(){d.Ec(a);var e=d.pc().$implicit;return d.pc(2).setUser(e)})),d.bc(2,"span"),d.Oc(3,"N/A"),d.ac(),d.ac(),d.ac()}}var I=function(e){return["/users",e,"profile"]};function M(e,c){if(1&e){var a=d.cc();d.bc(0,"tr"),d.bc(1,"td"),d.bc(2,"a",5),d.Xb(3,"img",40),d.Oc(4),d.ac(),d.ac(),d.Mc(5,y,3,2,"td",41),d.Mc(6,O,4,0,"td",25),d.bc(7,"td"),d.Oc(8),d.ac(),d.bc(9,"td"),d.Oc(10),d.ac(),d.bc(11,"td"),d.bc(12,"a",42),d.mc("click",(function(){d.Ec(a);var e=c.$implicit;return d.pc(2).setUser(e)})),d.bc(13,"span",43),d.Oc(14,"Remove"),d.ac(),d.ac(),d.ac(),d.ac()}if(2&e){var t=c.$implicit,i=d.pc(2);d.Ib(2),d.vc("routerLink",d.zc(7,I,t.id)),d.Ib(1),d.wc("src",i.imgUrl+t.profile.profileImg,d.Gc),d.Ib(1),d.Qc(" ",t.firstName+" "+t.lastName,""),d.Ib(1),d.vc("ngIf","instructor"==i.type&&"Admin"==i.currentUser.role.title),d.Ib(1),d.vc("ngIf","instructor"==i.type&&"Admin"!=i.currentUser.role.title),d.Ib(2),d.Pc(t.email),d.Ib(2),d.Pc(t.profile.mobile?t.profile.mobile:"None")}}function U(e,c){if(1&e){var a=d.cc();d.bc(0,"pagination-controls",53),d.mc("pageChange",(function(e){return d.Ec(a),d.pc(2).p=e})),d.ac()}}var N=function(e){return{itemsPerPage:10,currentPage:e}};function k(e,c){if(1&e&&(d.bc(0,"div",29),d.bc(1,"div",30),d.bc(2,"div",31),d.bc(3,"div",32),d.bc(4,"div",33),d.bc(5,"table",34),d.bc(6,"thead"),d.bc(7,"tr"),d.bc(8,"th",35),d.Oc(9,"Name"),d.ac(),d.Mc(10,v,2,0,"th",36),d.bc(11,"th",35),d.Oc(12,"Email"),d.ac(),d.bc(13,"th",35),d.Oc(14,"Phone"),d.ac(),d.bc(15,"th",37),d.Oc(16,"Status"),d.ac(),d.ac(),d.ac(),d.bc(17,"tbody"),d.Mc(18,M,15,9,"tr",38),d.qc(19,"paginate"),d.ac(),d.ac(),d.Mc(20,U,1,0,"pagination-controls",39),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&e){var a=d.pc();d.Ib(10),d.vc("ngIf",("Teacher"==a.currentUser.role.title||"Admin"==a.currentUser.role.title)&&"instructor"==a.type),d.Ib(8),d.vc("ngForOf",d.sc(19,3,a.users,d.zc(6,N,a.p))),d.Ib(2),d.vc("ngIf",a.users.length>10)}}function C(e,c){1&e&&(d.bc(0,"div",54),d.Xb(1,"img",55),d.bc(2,"p"),d.Oc(3,"No Users found"),d.ac(),d.ac())}function x(e,c){1&e&&(d.bc(0,"div",54),d.Xb(1,"img",56),d.ac())}function w(e,c){if(1&e&&(d.bc(0,"option",61),d.Oc(1),d.ac()),2&e){var a=c.$implicit;d.wc("value",a.id),d.Ib(1),d.Qc(" ",a.firstName+" "+a.lastName," ")}}function T(e,c){if(1&e){var a=d.cc();d.bc(0,"div"),d.bc(1,"label"),d.Oc(2,"Teacher Assistants"),d.ac(),d.bc(3,"span",57),d.Oc(4," *"),d.ac(),d.bc(5,"select",58),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().assistantId=e})),d.bc(6,"option",59),d.Oc(7,"Select"),d.ac(),d.Mc(8,w,2,2,"option",60),d.ac(),d.ac()}if(2&e){var t=d.pc();d.Ib(5),d.vc("ngModel",t.assistantId),d.Ib(3),d.vc("ngForOf",t.assistants)}}function S(e,c){1&e&&(d.bc(0,"div",54),d.Xb(1,"img",55),d.bc(2,"p"),d.Oc(3,"No Assistants found"),d.ac(),d.ac())}function A(e,c){if(1&e&&(d.bc(0,"option",61),d.Oc(1),d.ac()),2&e){var a=c.$implicit;d.wc("value",a.id),d.Ib(1),d.Qc(" ",a.firstName+" "+a.lastName," ")}}function j(e,c){if(1&e){var a=d.cc();d.bc(0,"div"),d.bc(1,"label"),d.Oc(2,"Teacher Assistants"),d.ac(),d.bc(3,"span",57),d.Oc(4," *"),d.ac(),d.bc(5,"select",58),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().selectedUser.assistant.id=e})),d.bc(6,"option",59),d.Oc(7,"Select"),d.ac(),d.Mc(8,A,2,2,"option",60),d.ac(),d.ac()}if(2&e){var t=d.pc();d.Ib(5),d.vc("ngModel",t.selectedUser.assistant.id),d.Ib(3),d.vc("ngForOf",t.assistants)}}function H(e,c){1&e&&(d.bc(0,"div",54),d.Xb(1,"img",55),d.bc(2,"p"),d.Oc(3,"No Assistants found"),d.ac(),d.ac())}var P,E=function(){return["/"]},F=function(e){return["/users",e,"add"]},L=((P=function(){function c(a,t,i,o,n){e(this,c),this.activatedRoute=a,this.userService=t,this.assistantService=i,this.toastr=o,this.config=n,this.loading=!0,this.p=1,this.imgUrl=this.config.imgBaseUrl,this.users=[],this.assistants=[],this.assistantId="",this.selectedUser={id:"",name:"",assistant:""}}return a(c,[{key:"ngOnInit",value:function(){this.type=this.activatedRoute.snapshot.paramMap.get("type"),this.currentUser=JSON.parse(localStorage.getItem("user")),this.getUsers(),"instructor"==this.type&&this.getAssistants()}},{key:"getUsers",value:function(){var e=this;this.userService.getUsers(this.type).subscribe((function(c){e.users=c.body,e.loading=!1}))}},{key:"getAssistants",value:function(){var e=this;this.userService.getUsers("ta").subscribe((function(c){e.assistants=c.body,e.loading=!1}))}},{key:"onDeleteUser",value:function(){var e=this;this.userService.updateStatus(this.selectedUser.id,{status:"N"}).subscribe((function(c){e.toastr.success("User Removed."),e.getUsers()}))}},{key:"setUser",value:function(e){this.selectedUser={id:e.id,name:e.firstName+" "+e.lastName,assistant:e.assistant}}},{key:"addAssistant",value:function(){var e=this;this.assistantService.addAssistant({teacherId:this.selectedUser.id,assistantId:this.assistantId}).subscribe((function(c){e.toastr.success("Assitant assigned to "+e.selectedUser.name),e.assistantId="",e.getUsers()}))}},{key:"UpdateAssistant",value:function(){var e=this;this.assistantService.updateAssistant({teacherId:this.selectedUser.id,assistantId:this.selectedUser.assistant.id}).subscribe((function(c){e.toastr.success("New assitant assigned to "+e.selectedUser.name),e.selectedUser={id:"",name:"",assistant:""},e.getUsers()}))}},{key:"deleteAssistant",value:function(){var e=this;this.assistantService.deleteAssistant(this.selectedUser.id,{teacherId:this.selectedUser.id,assistantId:this.selectedUser.assistant.id}).subscribe((function(c){e.toastr.success("Assistant removed for "+e.selectedUser.name),e.selectedUser={id:"",name:"",assistant:""},e.getUsers()}))}}]),c}()).\u0275fac=function(e){return new(e||P)(d.Wb(s.a),d.Wb(l.a),d.Wb(p),d.Wb(f.b),d.Wb(u.a))},P.\u0275cmp=d.Qb({type:P,selectors:[["app-users"]],decls:89,vars:18,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active",2,"text-transform","capitalize"],[1,"page-options"],["href","javascript:void(0)",1,"btn","btn-primary",3,"routerLink"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","deleteUser","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"mb-0"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","addAssistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[4,"ngIf"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editAssistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteAssistant","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","pt-0"],[1,"table-responsive"],[1,"table","table-striped","table-courses"],["scope","col"],["scope","col",4,"ngIf"],["scope","col","width","10%"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["alt","profile picture","onerror","this.src='assets/images/default-user.png'",3,"src"],[3,"click",4,"ngIf"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteUser",3,"click"],[1,"badge","badge-danger"],[3,"click"],["href","javascript:void(0)",4,"ngIf"],["href","javascript:void(0)","data-toggle","modal","data-target","#addAssistant",4,"ngIf"],["href","javascript:void(0)"],[1,"badge","badge-primary"],["data-toggle","modal","data-target","#editAssistant",1,"far","fa-edit"],["data-toggle","modal","data-target","#deleteAssistant",1,"far","fa-trash-alt"],["href","javascript:void(0)","data-toggle","modal","data-target","#addAssistant"],["href","javascript:void(0)","data-toggle","modal","data-target","#addAssistant",3,"click"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-users.png","alt",""],["src","assets/images/loader.gif","alt",""],[1,"text-danger"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,c){1&e&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"nav",2),d.bc(3,"ol",3),d.bc(4,"li",4),d.bc(5,"a",5),d.Oc(6,"Dashboard"),d.ac(),d.ac(),d.bc(7,"li",6),d.Oc(8),d.ac(),d.ac(),d.ac(),d.bc(9,"div",7),d.bc(10,"a",8),d.Oc(11),d.ac(),d.ac(),d.ac(),d.bc(12,"div",9),d.Mc(13,k,21,8,"div",10),d.Mc(14,C,4,0,"div",11),d.Mc(15,x,2,0,"div",11),d.ac(),d.ac(),d.bc(16,"div",12),d.bc(17,"div",13),d.bc(18,"div",14),d.bc(19,"div",15),d.bc(20,"h5",16),d.Oc(21,"Remove User"),d.ac(),d.bc(22,"button",17),d.bc(23,"i",18),d.Oc(24,"close"),d.ac(),d.ac(),d.ac(),d.bc(25,"div",19),d.bc(26,"p",20),d.Oc(27,"Are you sure you want to remove "),d.bc(28,"strong"),d.Oc(29),d.ac(),d.Oc(30,"?"),d.ac(),d.ac(),d.bc(31,"div",21),d.bc(32,"button",22),d.Oc(33,"Cancel"),d.ac(),d.bc(34,"button",23),d.mc("click",(function(){return c.onDeleteUser()})),d.Oc(35,"Remove"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(36,"div",24),d.bc(37,"div",13),d.bc(38,"div",14),d.bc(39,"div",15),d.bc(40,"h5",16),d.Oc(41,"Add Assistant"),d.ac(),d.bc(42,"button",17),d.bc(43,"i",18),d.Oc(44,"close"),d.ac(),d.ac(),d.ac(),d.bc(45,"div",19),d.Mc(46,T,9,2,"div",25),d.Mc(47,S,4,0,"div",11),d.ac(),d.bc(48,"div",21),d.bc(49,"button",22),d.Oc(50,"Cancel"),d.ac(),d.bc(51,"button",26),d.mc("click",(function(){return c.addAssistant()})),d.Oc(52,"Save"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(53,"div",27),d.bc(54,"div",13),d.bc(55,"div",14),d.bc(56,"div",15),d.bc(57,"h5",16),d.Oc(58,"Update Assistant"),d.ac(),d.bc(59,"button",17),d.bc(60,"i",18),d.Oc(61,"close"),d.ac(),d.ac(),d.ac(),d.bc(62,"div",19),d.Mc(63,j,9,2,"div",25),d.Mc(64,H,4,0,"div",11),d.ac(),d.bc(65,"div",21),d.bc(66,"button",22),d.Oc(67,"Cancel"),d.ac(),d.bc(68,"button",26),d.mc("click",(function(){return c.UpdateAssistant()})),d.Oc(69,"Save"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(70,"div",28),d.bc(71,"div",13),d.bc(72,"div",14),d.bc(73,"div",15),d.bc(74,"h5",16),d.Oc(75,"Remove Assistant"),d.ac(),d.bc(76,"button",17),d.bc(77,"i",18),d.Oc(78,"close"),d.ac(),d.ac(),d.ac(),d.bc(79,"div",19),d.bc(80,"p"),d.Oc(81,"Are you sure you want to remove "),d.bc(82,"strong"),d.Oc(83),d.ac(),d.ac(),d.ac(),d.bc(84,"div",21),d.bc(85,"button",22),d.Oc(86,"Cancel"),d.ac(),d.bc(87,"button",23),d.mc("click",(function(){return c.deleteAssistant()})),d.Oc(88,"Remove"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&e&&(d.Ib(5),d.vc("routerLink",d.yc(15,E)),d.Ib(3),d.Qc("",c.type,"s "),d.Ib(2),d.vc("routerLink",d.zc(16,F,c.type)),d.Ib(1),d.Qc("Add New ",c.type,""),d.Ib(2),d.vc("ngIf",c.users.length),d.Ib(1),d.vc("ngIf",!c.users.length&&!c.loading),d.Ib(1),d.vc("ngIf",c.loading),d.Ib(14),d.Pc(c.selectedUser.name),d.Ib(17),d.vc("ngIf",c.assistants.length&&!c.loading),d.Ib(1),d.vc("ngIf",!c.assistants.length&&!c.loading),d.Ib(4),d.vc("disabled",!c.assistantId),d.Ib(12),d.vc("ngIf",c.assistants.length&&!c.loading),d.Ib(1),d.vc("ngIf",!c.assistants.length&&!c.loading),d.Ib(4),d.vc("disabled",!c.selectedUser.assistant),d.Ib(15),d.Pc(c.selectedUser.assistant.firstName+" "+c.selectedUser.assistant.lastName))},directives:[s.d,n.n,n.m,m.c,r.q,r.i,r.l,r.m,r.s],pipes:[m.b],styles:[""]}),P);function z(e,c){1&e&&(d.bc(0,"span",17),d.Oc(1," * Valid email is required "),d.ac())}var D,W,Q=function(){return["/"]},R=function(e){return["/users",e]},X=((W=function(){function c(a,t,i,o){e(this,c),this.activatedRoute=a,this.userService=t,this.toastr=i,this.router=o,this.firstName="",this.lastName="",this.email="",this.password="",this.mobile="",this.address="",this.city="",this.state="",this.zip=""}return a(c,[{key:"ngOnInit",value:function(){this.type=this.activatedRoute.snapshot.paramMap.get("type"),console.log(this.type)}},{key:"SignInClick",value:function(){var e=this;this.userService.addUser({firstName:this.firstName,lastName:this.lastName,email:this.email,password:this.password,address:this.address,country:"Pakistan",state:this.state,zipcode:this.zip,mobile:this.mobile,role:this.type}).subscribe((function(c){var a="";switch(a){case"instructor":a="Instructor added successfully";break;case"student":a="Student added successfully";break;case"Teacher Assistant":a="Teacher Assistant added successfully";break;default:a="User added successfully"}e.toastr.success(a),e.router.navigate(["/users",e.type])}))}}]),c}()).\u0275fac=function(e){return new(e||W)(d.Wb(s.a),d.Wb(l.a),d.Wb(f.b),d.Wb(s.c))},W.\u0275cmp=d.Qb({type:W,selectors:[["app-users-add"]],decls:88,vars:19,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body"],[1,"card-title","mb-3"],[1,"form-row"],[1,"form-group","col-md-6"],["for","inputEmail4"],[1,"text-danger"],["type","text","placeholder","First Name","name","first_name",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword4"],["type","text","placeholder","Last Name","name","last_name",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","inputEmail4","placeholder","Email","name","email","required","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngModel","ngModelChange"],["Email","ngModel"],["class","text-danger",4,"ngIf"],["type","password","id","inputPassword4","placeholder","Password","name","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-8"],["for","inputAddress"],["type","text","id","inputAddress","placeholder","1234 Main St","name","address",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-4"],["for","inputMobile"],["type","text","id","inputMobile","placeholder","xxxx xxxxxxx","name","address",1,"form-control",3,"ngModel","ngModelChange"],["for","inputCity"],["type","text","id","inputCity","name","city","placeholder","City",1,"form-control",3,"ngModel","ngModelChange"],["for","inputState"],["id","inputState","name","state",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["value","","selected",""],["value","punjab"],["value","sindh"],["value","KPK"],["value","blochistan"],["value","AJK"],[1,"form-group","col-md-2"],["for","inputZip"],["type","text","id","inputZip","name","zip","placeholder","Zip",1,"form-control",3,"ngModel","ngModelChange"],[1,"float-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(e,c){if(1&e&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"nav",2),d.bc(3,"ol",3),d.bc(4,"li",4),d.bc(5,"a",5),d.Oc(6,"Dashboard"),d.ac(),d.ac(),d.bc(7,"li",4),d.bc(8,"a",5),d.Oc(9),d.ac(),d.ac(),d.bc(10,"li",6),d.Oc(11,"Add New"),d.ac(),d.ac(),d.ac(),d.Xb(12,"div",7),d.ac(),d.bc(13,"div",8),d.bc(14,"div",9),d.bc(15,"div",10),d.bc(16,"div",11),d.bc(17,"div",12),d.bc(18,"h5",13),d.Oc(19),d.ac(),d.bc(20,"p"),d.Oc(21),d.ac(),d.bc(22,"form"),d.bc(23,"div",14),d.bc(24,"div",15),d.bc(25,"label",16),d.Oc(26,"First Name"),d.ac(),d.bc(27,"span",17),d.Oc(28," * "),d.ac(),d.bc(29,"input",18),d.mc("ngModelChange",(function(e){return c.firstName=e})),d.ac(),d.ac(),d.bc(30,"div",15),d.bc(31,"label",19),d.Oc(32,"Last Name"),d.ac(),d.bc(33,"span",17),d.Oc(34," * "),d.ac(),d.bc(35,"input",20),d.mc("ngModelChange",(function(e){return c.lastName=e})),d.ac(),d.ac(),d.ac(),d.bc(36,"div",14),d.bc(37,"div",15),d.bc(38,"label",16),d.Oc(39,"Email"),d.ac(),d.bc(40,"span",17),d.Oc(41," * "),d.ac(),d.bc(42,"input",21,22),d.mc("ngModelChange",(function(e){return c.email=e})),d.ac(),d.Mc(44,z,2,0,"span",23),d.ac(),d.bc(45,"div",15),d.bc(46,"label",19),d.Oc(47,"Password"),d.ac(),d.bc(48,"span",17),d.Oc(49," * "),d.ac(),d.bc(50,"input",24),d.mc("ngModelChange",(function(e){return c.password=e})),d.ac(),d.ac(),d.ac(),d.bc(51,"div",14),d.bc(52,"div",25),d.bc(53,"label",26),d.Oc(54,"Address"),d.ac(),d.bc(55,"input",27),d.mc("ngModelChange",(function(e){return c.address=e})),d.ac(),d.ac(),d.bc(56,"div",28),d.bc(57,"label",29),d.Oc(58,"Mobile Number"),d.ac(),d.bc(59,"input",30),d.mc("ngModelChange",(function(e){return c.mobile=e})),d.ac(),d.ac(),d.ac(),d.bc(60,"div",14),d.bc(61,"div",15),d.bc(62,"label",31),d.Oc(63,"City"),d.ac(),d.bc(64,"input",32),d.mc("ngModelChange",(function(e){return c.city=e})),d.ac(),d.ac(),d.bc(65,"div",28),d.bc(66,"label",33),d.Oc(67,"State"),d.ac(),d.bc(68,"select",34),d.mc("ngModelChange",(function(e){return c.state=e})),d.bc(69,"option",35),d.Oc(70,"Choose a State"),d.ac(),d.bc(71,"option",36),d.Oc(72,"Punjab"),d.ac(),d.bc(73,"option",37),d.Oc(74,"Sindh"),d.ac(),d.bc(75,"option",38),d.Oc(76,"KPK"),d.ac(),d.bc(77,"option",39),d.Oc(78,"Blochistan"),d.ac(),d.bc(79,"option",40),d.Oc(80,"AJK"),d.ac(),d.ac(),d.ac(),d.bc(81,"div",41),d.bc(82,"label",42),d.Oc(83,"Zip"),d.ac(),d.bc(84,"input",43),d.mc("ngModelChange",(function(e){return c.zip=e})),d.ac(),d.ac(),d.ac(),d.bc(85,"div",44),d.bc(86,"button",45),d.mc("click",(function(){return c.SignInClick()})),d.Oc(87,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&e){var a=d.Dc(43);d.Ib(5),d.vc("routerLink",d.yc(16,Q)),d.Ib(3),d.vc("routerLink",d.zc(17,R,c.type)),d.Ib(1),d.Qc("",c.type,"s"),d.Ib(10),d.Qc("New ",c.type,""),d.Ib(2),d.Qc("Fill up the basic information for ",c.type,"."),d.Ib(8),d.vc("ngModel",c.firstName),d.Ib(6),d.vc("ngModel",c.lastName),d.Ib(7),d.vc("ngModel",c.email),d.Ib(2),d.vc("ngIf",(a.errors&&a.errors.pattern||a.invalid)&&a.touched),d.Ib(6),d.vc("ngModel",c.password),d.Ib(5),d.vc("ngModel",c.address),d.Ib(4),d.vc("ngModel",c.mobile),d.Ib(5),d.vc("ngModel",c.city),d.Ib(4),d.vc("ngModel",c.state),d.Ib(16),d.vc("ngModel",c.zip),d.Ib(2),d.vc("disabled",!(c.firstName&&c.lastName&&c.email&&c.password))}},directives:[s.d,r.t,r.j,r.k,r.b,r.i,r.l,r.p,r.n,n.n,r.q,r.m,r.s],styles:[""]}),W),$=((D=function(){function c(a,t){e(this,c),this.http=a,this.config=t,this.baseUrl=this.config.reqBaseUrl+"users/officehours/"}return a(c,[{key:"getHours",value:function(e){return this.http.get(this.baseUrl+"user/"+e,{observe:"response"})}},{key:"addHours",value:function(e){return this.http.post(this.baseUrl,e,{observe:"response"})}},{key:"deleteOfficeHours",value:function(e){return this.http.delete(this.baseUrl+e,{observe:"response"})}}]),c}()).\u0275fac=function(e){return new(e||D)(d.jc(b.b),d.jc(u.a))},D.\u0275prov=d.Sb({token:D,factory:D.\u0275fac,providedIn:"root"}),D),K=function(){return["edit"]};function B(e,c){1&e&&(d.bc(0,"a",57),d.Oc(1,"Update Profile"),d.ac()),2&e&&d.vc("routerLink",d.yc(1,K))}function _(e,c){if(1&e&&(d.bc(0,"li"),d.bc(1,"i",8),d.Oc(2,"school"),d.ac(),d.bc(3,"span"),d.Oc(4),d.bc(5,"a",61),d.Oc(6),d.ac(),d.ac(),d.ac()),2&e){var a=d.pc(3);d.Ib(4),d.Qc("Studied ",a.profile.educationName," at "),d.Ib(2),d.Qc(" ",a.profile.educationFrom,"")}}function J(e,c){if(1&e&&(d.bc(0,"li"),d.bc(1,"i",8),d.Oc(2,"work"),d.ac(),d.bc(3,"span"),d.Oc(4),d.bc(5,"a",61),d.Oc(6),d.ac(),d.ac(),d.ac()),2&e){var a=d.pc(3);d.Ib(4),d.Qc("",a.profile.jobTitle," at "),d.Ib(2),d.Qc(" ",a.profile.jobOffice,"")}}function q(e,c){if(1&e&&(d.bc(0,"li"),d.bc(1,"i",8),d.Oc(2,"my_location"),d.ac(),d.bc(3,"span"),d.Oc(4,"From "),d.bc(5,"a",61),d.Oc(6),d.ac(),d.ac(),d.ac()),2&e){var a=d.pc(3);d.Ib(6),d.Rc("",a.profile.city,", ",a.profile.country,"")}}function Z(e,c){if(1&e&&(d.bc(0,"div",58),d.bc(1,"div",50),d.bc(2,"div",59),d.bc(3,"h5",52),d.Oc(4,"About"),d.ac(),d.bc(5,"ul",53),d.Mc(6,_,7,2,"li",60),d.Mc(7,J,7,2,"li",60),d.Mc(8,q,7,2,"li",60),d.ac(),d.ac(),d.ac(),d.ac()),2&e){var a=d.pc(2);d.Ib(6),d.vc("ngIf",a.profile.educationName&&a.profile.educationFrom),d.Ib(1),d.vc("ngIf","teacher"==a.role&&a.profile.jobTitle&&a.profile.jobOffice),d.Ib(1),d.vc("ngIf",a.profile.city)}}function G(e,c){if(1&e){var a=d.cc();d.bc(0,"div",66),d.Oc(1),d.bc(2,"i",67),d.mc("click",(function(){d.Ec(a);var e=c.$implicit,t=d.pc().$implicit;return d.pc(2).onModalOpen(e.id,t.key,e.start,e.end)})),d.ac(),d.ac()}if(2&e){var t=c.$implicit;d.Ib(1),d.Qc(" ",t.start+" - "+t.end," ")}}function V(e,c){if(1&e&&(d.bc(0,"div",62),d.bc(1,"div",63),d.bc(2,"ul",53),d.bc(3,"li"),d.bc(4,"i",8),d.Oc(5,"calendar_today"),d.ac(),d.bc(6,"span"),d.Oc(7),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(8,"div",64),d.Mc(9,G,3,1,"div",65),d.ac(),d.ac()),2&e){var a=c.$implicit;d.Ib(7),d.Pc(a.key),d.Ib(2),d.vc("ngForOf",a.value)}}var Y=function(){return["/"]},ee=function(e){return{"col-md-12":e}};function ce(e,c){if(1&e&&(d.bc(0,"div",30),d.bc(1,"div",31),d.bc(2,"nav",32),d.bc(3,"ol",33),d.bc(4,"li",34),d.bc(5,"a",35),d.Oc(6,"Dashboard"),d.ac(),d.ac(),d.bc(7,"li",36),d.Oc(8,"User Profile"),d.ac(),d.ac(),d.ac(),d.bc(9,"div",37),d.Mc(10,B,2,2,"a",38),d.ac(),d.ac(),d.bc(11,"div",39),d.bc(12,"div",40),d.bc(13,"div",41),d.bc(14,"div",42),d.bc(15,"div",43),d.Xb(16,"img",44),d.ac(),d.bc(17,"div",45),d.bc(18,"h3"),d.Oc(19),d.ac(),d.bc(20,"p",46),d.Oc(21),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(22,"div",47),d.bc(23,"div",41),d.Mc(24,Z,9,3,"div",48),d.bc(25,"div",49),d.bc(26,"div",50),d.bc(27,"div",51),d.bc(28,"h5",52),d.Oc(29,"Contact Info"),d.ac(),d.bc(30,"ul",53),d.bc(31,"li"),d.bc(32,"i",8),d.Oc(33,"mail_outline"),d.ac(),d.bc(34,"span"),d.Oc(35),d.ac(),d.ac(),d.bc(36,"li"),d.bc(37,"i",8),d.Oc(38,"home"),d.ac(),d.bc(39,"span"),d.bc(40,"a"),d.Oc(41),d.ac(),d.ac(),d.ac(),d.bc(42,"li"),d.bc(43,"i",8),d.Oc(44,"local_phone"),d.ac(),d.bc(45,"span"),d.Oc(46),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(47,"div",54),d.bc(48,"div",50),d.bc(49,"div",51),d.bc(50,"div",41),d.bc(51,"div",22),d.bc(52,"h5",52),d.Oc(53,"Office Hours"),d.ac(),d.ac(),d.bc(54,"div",22),d.Xb(55,"i",55),d.ac(),d.ac(),d.Mc(56,V,10,2,"div",56),d.qc(57,"keyvalue"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&e){var a=d.pc();d.Ib(5),d.vc("routerLink",d.yc(13,Y)),d.Ib(5),d.vc("ngIf",a.currentUser.id==a.user.id),d.Ib(6),d.wc("src",a.imgUrl+a.profile.profileImg,d.Gc),d.Ib(3),d.Pc(a.user.firstName+" "+a.user.lastName),d.Ib(2),d.Pc(a.role),d.Ib(3),d.vc("ngIf",a.profile.educationName&&a.profile.educationFrom||"teacher"==a.role&&a.profile.jobTitle&&a.profile.jobOffice||a.profile.city),d.Ib(1),d.vc("ngClass",d.zc(14,ee,!(a.profile.educationName&&a.profile.educationFrom||"teacher"!=a.role||a.profile.jobTitle||a.profile.jobOffice||a.profile.city))),d.Ib(10),d.Pc(a.user.email),d.Ib(6),d.Pc(a.profile.address||"No Address Provided"),d.Ib(5),d.Pc(a.profile.mobile||"No Contact Provided"),d.Ib(10),d.vc("ngForOf",d.rc(57,11,a.availability))}}function ae(e,c){1&e&&(d.bc(0,"div",68),d.Xb(1,"img",69),d.ac())}var te,ie=((te=function(){function c(a,t,i,o,n){e(this,c),this.activatedRoute=a,this.userSerivce=t,this.hourService=i,this.config=o,this.toastr=n,this.loading=!0,this.imgUrl=this.config.imgBaseUrl,this.addHours={day:"",startTime:"",endTime:""},this.selectedOfficeHour={id:"",day:"",startTime:"",endTime:""}}return a(c,[{key:"ngOnInit",value:function(){this.currentUser=JSON.parse(localStorage.getItem("user")),this.userId=this.activatedRoute.snapshot.paramMap.get("userId"),this.getUserDetail()}},{key:"getUserDetail",value:function(){var e=this;this.userSerivce.getUserById(this.userId).subscribe((function(c){e.user=c.body.user,e.profile=c.body.profile,e.role=c.body.role,e.availability=e.formatavaiabilityData(c.body.availability),e.loading=!1}))}},{key:"formatavaiabilityData",value:function(e){return Object.keys(e).forEach((function(c,a){e[c].forEach((function(e){e.start=Number.parseInt(e.start.split(":")[0])>12?Number.parseInt(e.start.split(":")[0])-12+":"+Number.parseInt(e.start.split(":")[1])+" PM":e.start+" AM",e.end=Number.parseInt(e.end.split(":")[0])>12?Number.parseInt(e.end.split(":")[0])-12+":"+Number.parseInt(e.end.split(":")[1])+" PM":e.end+" AM"}))})),e}},{key:"setEndTime",value:function(){if(this.addHours.endTime=this.addHours.startTime.split(":")[0]+":"+(Number.parseInt(this.addHours.startTime.split(":")[1])+20),Number.parseInt(this.addHours.endTime.split(":")[1])>60){var e=Number.parseInt(this.addHours.endTime.split(":")[0]),c=Number.parseInt(this.addHours.endTime.split(":")[1]);this.addHours.endTime=(e+=1)+":"+(c-=60),c<10&&(this.addHours.endTime=e+":0"+c),24==e&&(this.addHours.endTime=this.addHours.endTime.replace("24","00")),e>24&&(this.addHours.endTime=(e-=24)+":"+c),e<10&&(this.addHours.endTime="0"+e+":"+c)}}},{key:"onModalOpen",value:function(e,c,a,t){this.selectedOfficeHour={id:e,day:c,startTime:a,endTime:t}}},{key:"addOfficeHours",value:function(){var e=this;this.hourService.addHours({day:this.addHours.day,start:this.addHours.startTime,end:this.addHours.endTime,teacherId:this.userId}).subscribe((function(c){e.toastr.success("Office Hours Added."),e.getUserDetail()}))}},{key:"deleteOfficeHour",value:function(){var e=this;this.hourService.deleteOfficeHours(this.selectedOfficeHour.id).subscribe((function(c){e.toastr.success("Office hour removed."),e.getUserDetail()}))}}]),c}()).\u0275fac=function(e){return new(e||te)(d.Wb(s.a),d.Wb(l.a),d.Wb($),d.Wb(u.a),d.Wb(f.b))},te.\u0275cmp=d.Qb({type:te,selectors:[["app-profile"]],decls:74,vars:7,consts:[["class","page-content",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","addOfficeHours","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],[1,"text-danger"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","","disabled",""],["value","Monday"],["value","Tuesday"],["value","Wednesday"],["value","Thursday"],["value","Friday"],["value","Saturday"],["value","Sunday"],[1,"form-row"],[1,"col-md-6"],["type","time","id","course-start","placeholder","01:00 PM",1,"form-control",3,"ngModel","ngModelChange"],["type","time","id","course-end","placeholder","02:00 PM","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","deleteOfficeHour","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],["class","btn btn-primary",3,"routerLink",4,"ngIf"],[1,"main-wrapper"],[1,"profile-header"],[1,"row"],[1,"col"],[1,"profile-img"],["onerror","this.src='assets/images/default-user.png'",3,"src"],[1,"profile-name"],[2,"text-transform","capitalize"],[1,"profile-content"],["class","col-md-8",4,"ngIf"],[1,"col-md-4",3,"ngClass"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"list-unstyled","profile-about-list"],[1,"col-md-12"],["data-toggle","modal","data-target","#addOfficeHours",1,"fas","fa-plus","float-right"],["class","row m-1",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"col-md-8"],[1,"card-body",2,"min-height","171px"],[4,"ngIf"],["href","javascript:void(0)"],[1,"row","m-1"],[1,"col-md-2","p-0"],[1,"col-md-10"],["class","badge badge-primary mr-1",4,"ngFor","ngForOf"],[1,"badge","badge-primary","mr-1"],["data-toggle","modal","data-target","#deleteOfficeHour",1,"far","fa-trash-alt","ml-2",3,"click"],[1,"placeholder"],["src","assets/images/loader.gif","alt",""]],template:function(e,c){1&e&&(d.Mc(0,ce,58,16,"div",0),d.Mc(1,ae,2,0,"div",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"div",4),d.bc(5,"div",5),d.bc(6,"h5",6),d.Oc(7,"Add Office Hours"),d.ac(),d.bc(8,"button",7),d.bc(9,"i",8),d.Oc(10,"close"),d.ac(),d.ac(),d.ac(),d.bc(11,"div",9),d.bc(12,"div",10),d.bc(13,"label"),d.Oc(14,"Teacher Assistants"),d.ac(),d.bc(15,"span",11),d.Oc(16," *"),d.ac(),d.bc(17,"select",12),d.mc("ngModelChange",(function(e){return c.addHours.day=e})),d.bc(18,"option",13),d.Oc(19,"Select"),d.ac(),d.bc(20,"option",14),d.Oc(21,"Monday"),d.ac(),d.bc(22,"option",15),d.Oc(23,"Tuesday"),d.ac(),d.bc(24,"option",16),d.Oc(25,"Wednesday"),d.ac(),d.bc(26,"option",17),d.Oc(27,"Thursday"),d.ac(),d.bc(28,"option",18),d.Oc(29,"Friday"),d.ac(),d.bc(30,"option",19),d.Oc(31,"Saturday"),d.ac(),d.bc(32,"option",20),d.Oc(33,"Sunday"),d.ac(),d.ac(),d.ac(),d.bc(34,"div",10),d.bc(35,"div",21),d.bc(36,"div",22),d.bc(37,"label"),d.Oc(38,"Start Time"),d.ac(),d.bc(39,"span",11),d.Oc(40,"* "),d.ac(),d.bc(41,"input",23),d.mc("ngModelChange",(function(e){return c.addHours.startTime=e}))("ngModelChange",(function(){return c.setEndTime()})),d.ac(),d.ac(),d.bc(42,"div",22),d.bc(43,"label"),d.Oc(44,"End Time"),d.ac(),d.bc(45,"input",24),d.mc("ngModelChange",(function(e){return c.addHours.endTime=e})),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(46,"span",11),d.Oc(47,"* "),d.ac(),d.bc(48,"span"),d.Oc(49,"Time Slot will be of 20 minutes."),d.ac(),d.ac(),d.bc(50,"div",25),d.bc(51,"button",26),d.Oc(52,"Cancel"),d.ac(),d.bc(53,"button",27),d.mc("click",(function(){return c.addOfficeHours()})),d.Oc(54,"Save"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(55,"div",28),d.bc(56,"div",3),d.bc(57,"div",4),d.bc(58,"div",5),d.bc(59,"h5",6),d.Oc(60,"Remove Office Hours"),d.ac(),d.bc(61,"button",7),d.bc(62,"i",8),d.Oc(63,"close"),d.ac(),d.ac(),d.ac(),d.bc(64,"div",9),d.bc(65,"p"),d.Oc(66,"Are you sure you want to remove "),d.bc(67,"strong"),d.Oc(68),d.ac(),d.ac(),d.ac(),d.bc(69,"div",25),d.bc(70,"button",26),d.Oc(71,"Cancel"),d.ac(),d.bc(72,"button",29),d.mc("click",(function(){return c.deleteOfficeHour()})),d.Oc(73,"Remove"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&e&&(d.vc("ngIf",!c.loading),d.Ib(1),d.vc("ngIf",c.loading),d.Ib(16),d.vc("ngModel",c.addHours.day),d.Ib(24),d.vc("ngModel",c.addHours.startTime),d.Ib(4),d.vc("ngModel",c.addHours.endTime),d.Ib(8),d.vc("disabled",!c.addHours.day||!c.addHours.startTime),d.Ib(15),d.Pc(c.selectedOfficeHour.day+" "+c.selectedOfficeHour.startTime+" - "+c.selectedOfficeHour.endTime))},directives:[n.n,r.q,r.i,r.l,r.m,r.s,r.b,s.d,n.l,n.m],pipes:[n.h],styles:[".badge.badge-primary[_ngcontent-%COMP%]{font-size:12px!important}"]}),te),oe=i("9ans"),ne=i("kvL/");function re(e,c){if(1&e){var a=d.cc();d.bc(0,"ngx-dropzone-preview",54),d.mc("removed",(function(){d.Ec(a);var e=c.$implicit;return d.pc(2).onRemove(e)})),d.bc(1,"ngx-dropzone-label"),d.Oc(2),d.ac(),d.ac()}if(2&e){var t=c.$implicit;d.vc("removable",!0),d.Ib(2),d.Rc("",t.name," (",t.type,")")}}function se(e,c){if(1&e){var a=d.cc();d.bc(0,"div",15),d.bc(1,"div",21),d.bc(2,"label"),d.Oc(3,"Job Title"),d.ac(),d.bc(4,"input",55),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc(2).profile.jobTitle=e})),d.ac(),d.ac(),d.bc(5,"div",21),d.bc(6,"label"),d.Oc(7,"Job Office"),d.ac(),d.bc(8,"input",56),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc(2).profile.jobOffice=e})),d.ac(),d.ac(),d.ac()}if(2&e){var t=d.pc(2);d.Ib(4),d.vc("ngModel",t.profile.jobTitle),d.Ib(4),d.vc("ngModel",t.profile.jobOffice)}}function de(e,c){if(1&e){var a=d.cc();d.bc(0,"div",9),d.bc(1,"div",10),d.bc(2,"div",11),d.bc(3,"div",12),d.bc(4,"div",13),d.bc(5,"h5",14),d.Oc(6,"Edit Profile"),d.ac(),d.bc(7,"div"),d.bc(8,"div",15),d.bc(9,"div",16),d.Xb(10,"img",17),d.ac(),d.bc(11,"div",18),d.bc(12,"ngx-dropzone",19),d.mc("change",(function(e){return d.Ec(a),d.pc().onSelect(e)})),d.bc(13,"ngx-dropzone-label"),d.Oc(14,"Pick a Profile Picture"),d.ac(),d.Mc(15,re,3,3,"ngx-dropzone-preview",20),d.ac(),d.ac(),d.ac(),d.bc(16,"div",15),d.bc(17,"div",21),d.bc(18,"label",22),d.Oc(19,"First Name"),d.ac(),d.bc(20,"span",23),d.Oc(21," * "),d.ac(),d.bc(22,"input",24),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().user.firstName=e})),d.ac(),d.ac(),d.bc(23,"div",21),d.bc(24,"label",25),d.Oc(25,"Last Name"),d.ac(),d.bc(26,"span",23),d.Oc(27," * "),d.ac(),d.bc(28,"input",26),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().user.lastName=e})),d.ac(),d.ac(),d.ac(),d.bc(29,"div",15),d.bc(30,"div",27),d.bc(31,"label",22),d.Oc(32,"Email"),d.ac(),d.bc(33,"span",23),d.Oc(34," * "),d.ac(),d.bc(35,"input",28),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().user.email=e})),d.ac(),d.ac(),d.ac(),d.bc(36,"div",15),d.bc(37,"div",29),d.bc(38,"label"),d.Oc(39,"Address"),d.ac(),d.bc(40,"input",30),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().profile.address=e})),d.ac(),d.ac(),d.bc(41,"div",31),d.bc(42,"label"),d.Oc(43,"Mobile Number"),d.ac(),d.bc(44,"input",32),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().profile.mobile=e})),d.ac(),d.ac(),d.ac(),d.bc(45,"div",15),d.bc(46,"div",21),d.bc(47,"label",33),d.Oc(48,"City"),d.ac(),d.bc(49,"input",34),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().profile.city=e})),d.ac(),d.ac(),d.bc(50,"div",31),d.bc(51,"label",35),d.Oc(52,"State"),d.ac(),d.bc(53,"select",36),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().profile.state=e})),d.bc(54,"option",37),d.Oc(55,"Choose a State"),d.ac(),d.bc(56,"option",38),d.Oc(57,"Punjab"),d.ac(),d.bc(58,"option",39),d.Oc(59,"Sindh"),d.ac(),d.bc(60,"option",40),d.Oc(61,"KPK"),d.ac(),d.bc(62,"option",41),d.Oc(63,"Blochistan"),d.ac(),d.bc(64,"option",42),d.Oc(65,"AJK"),d.ac(),d.ac(),d.ac(),d.bc(66,"div",43),d.bc(67,"label",44),d.Oc(68,"Zip"),d.ac(),d.bc(69,"input",45),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().profile.zipcode=e})),d.ac(),d.ac(),d.ac(),d.bc(70,"div",15),d.bc(71,"div",46),d.bc(72,"label"),d.Oc(73,"Education Name"),d.ac(),d.bc(74,"input",47),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().profile.educationName=e})),d.ac(),d.ac(),d.bc(75,"div",31),d.bc(76,"label"),d.Oc(77,"Education From"),d.ac(),d.bc(78,"input",48),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().profile.educationFrom=e})),d.ac(),d.ac(),d.bc(79,"div",49),d.bc(80,"label"),d.Oc(81,"Education Type"),d.ac(),d.bc(82,"input",50),d.mc("ngModelChange",(function(e){return d.Ec(a),d.pc().profile.educationType=e})),d.ac(),d.ac(),d.ac(),d.Mc(83,se,9,2,"div",51),d.bc(84,"div",52),d.bc(85,"button",53),d.mc("click",(function(){return d.Ec(a),d.pc().UpdateProfile()})),d.Oc(86,"Update"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()}if(2&e){var t=d.pc();d.Ib(10),d.wc("src",t.imgUrl+t.profile.profileImg,d.Gc),d.Ib(2),d.vc("accept","image/*"),d.Ib(3),d.vc("ngForOf",t.files),d.Ib(7),d.vc("ngModel",t.user.firstName),d.Ib(6),d.vc("ngModel",t.user.lastName),d.Ib(7),d.vc("ngModel",t.user.email),d.Ib(5),d.vc("ngModel",t.profile.address),d.Ib(4),d.vc("ngModel",t.profile.mobile),d.Ib(5),d.vc("ngModel",t.profile.city),d.Ib(4),d.vc("ngModel",t.profile.state),d.Ib(16),d.vc("ngModel",t.profile.zipcode),d.Ib(5),d.vc("ngModel",t.profile.educationName),d.Ib(4),d.vc("ngModel",t.profile.educationFrom),d.Ib(4),d.vc("ngModel",t.profile.educationType),d.Ib(1),d.vc("ngIf","teacher"==t.role),d.Ib(2),d.vc("disabled",!t.user.firstName||!t.user.lastName||!t.user.email)}}var le,be,ue=function(){return["/"]},pe=[{path:":type",component:L},{path:":type/add",component:X},{path:":userId/profile",component:ie},{path:":userId/profile/edit",component:(le=function(){function c(a,t,i,o,n,r){e(this,c),this.activatedRoute=a,this.userService=t,this.toastr=i,this.config=o,this.location=n,this.authService=r,this.loading=!0,this.imgUrl=this.config.imgBaseUrl,this.files=[]}return a(c,[{key:"ngOnInit",value:function(){this.userId=this.activatedRoute.snapshot.paramMap.get("userId"),this.getUserDetail()}},{key:"getUserDetail",value:function(){var e=this;this.userService.getUserById(this.userId).subscribe((function(c){e.user=c.body.user,e.profile=c.body.profile,e.role=c.body.role,e.loading=!1}))}},{key:"onSelect",value:function(e){var c=this;e.addedFiles.forEach((function(e){0==c.files.length&&c.files.push(e)}))}},{key:"onRemove",value:function(e){this.files.splice(this.files.indexOf(e),1)}},{key:"UpdateProfile",value:function(){var e=this;if(this.files.length){var c=new FormData;c.append("firstName",this.user.firstName),c.append("lastName",this.user.lastName),c.append("address",this.profile.address?this.profile.address:""),c.append("country","Pakistan"),c.append("city",this.profile.city?this.profile.city:""),c.append("state",this.profile.state?this.profile.state:""),c.append("zipcode",this.profile.zipcode?this.profile.zipcode:""),c.append("mobile",this.profile.mobile?this.profile.mobile:""),c.append("educationName",this.profile.educationName?this.profile.educationName:""),c.append("educationFrom",this.profile.educationFrom?this.profile.educationFrom:""),c.append("educationType",this.profile.educationType?this.profile.educationType:""),c.append("jobTitle",this.profile.jobTitle?this.profile.jobTitle:""),c.append("jobOffice",this.profile.jobOffice?this.profile.jobOffice:""),c.append("file",this.files[0]),this.userService.updateUser(c).subscribe((function(c){e.authService.storeUserData(null,c.body.userData),e.authService.setUser(c.body.userData),e.toastr.success("Profile Updated successfully"),e.location.back()}))}else this.userService.updateUser({firstName:this.user.firstName,lastName:this.user.lastName,address:this.profile.address?this.profile.address:"",country:"Pakistan",city:this.profile.city?this.profile.city:"",state:this.profile.state?this.profile.state:"",zipcode:this.profile.zipcode?this.profile.zipcode:"",mobile:this.profile.mobile?this.profile.mobile:"",educationName:this.profile.educationName?this.profile.educationName:"",educationFrom:this.profile.educationFrom?this.profile.educationFrom:"",educationType:this.profile.educationType?this.profile.educationType:"",jobTitle:this.profile.jobTitle?this.profile.jobTitle:"",jobOffice:this.profile.jobOffice?this.profile.jobOffice:""}).subscribe((function(c){e.authService.storeUserData(null,c.body.userData),e.authService.setUser(c.body.userData),e.toastr.success("Profile Updated successfully"),e.location.back()}))}}]),c}(),le.\u0275fac=function(e){return new(e||le)(d.Wb(s.a),d.Wb(l.a),d.Wb(f.b),d.Wb(u.a),d.Wb(n.j),d.Wb(oe.a))},le.\u0275cmp=d.Qb({type:le,selectors:[["app-edit-profile"]],decls:11,vars:3,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"page-options"],["class","main-wrapper",4,"ngIf"],[1,"main-wrapper"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body"],[1,"card-title","mb-3"],[1,"form-row"],[1,"col-md-3","pb-4"],["alt","profile picture","onerror","this.src='assets/images/default-user.png'",2,"height","100px","width","100px","border","1px solid #dedede","border-radius","4rem",3,"src"],[1,"col-md-9"],[2,"height","100px",3,"accept","change"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"form-group","col-md-6"],["for","inputEmail4"],[1,"text-danger"],["type","text","placeholder","First Name","name","user.firstName",1,"form-control",3,"ngModel","ngModelChange"],["for","inputPassword4"],["type","text","placeholder","Last Name","name","user.lastName",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-12"],["type","email","id","inputEmail4","placeholder","Email","name","user.email","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-8"],["type","text","placeholder","1234 Main St","name","profile.address",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-4"],["type","text","placeholder","xxxx xxxxxxx","name","profile.mobile",1,"form-control",3,"ngModel","ngModelChange"],["for","inputCity"],["type","text","name","profile.city","placeholder","City",1,"form-control",3,"ngModel","ngModelChange"],["for","inputState"],["id","inputState","name","profile.state",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["value","","selected",""],["value","punjab"],["value","sindh"],["value","KPK"],["value","blochistan"],["value","AJK"],[1,"form-group","col-md-2"],["for","inputZip"],["type","text","id","inputZip","name","profile.zipcode","placeholder","Zip",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-5"],["type","text","id","education_name","placeholder","MBBS","name","profile.educationName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","education_from","placeholder","University of ...","name","profile.educationFrom",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-3"],["type","text","id","education_type","placeholder","Masters","name","profile.educationType",1,"form-control",3,"ngModel","ngModelChange"],["class","form-row",4,"ngIf"],[1,"float-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[3,"removable","removed"],["type","text","id","job_title","placeholder","Lecturer","name","profile.jobTitle",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","job_office","placeholder","University of ...","name","profile.jobOffice",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,c){1&e&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"nav",2),d.bc(3,"ol",3),d.bc(4,"li",4),d.bc(5,"a",5),d.Oc(6,"Dashboard"),d.ac(),d.ac(),d.bc(7,"li",6),d.Oc(8,"Profile"),d.ac(),d.ac(),d.ac(),d.Xb(9,"div",7),d.ac(),d.Mc(10,de,87,16,"div",8),d.ac()),2&e&&(d.Ib(5),d.vc("routerLink",d.yc(2,ue)),d.Ib(5),d.vc("ngIf",!c.loading))},directives:[s.d,n.n,ne.a,ne.d,n.m,r.b,r.i,r.l,r.q,r.m,r.s,ne.c],styles:[""]}),le)}],fe=((be=function c(){e(this,c)}).\u0275mod=d.Ub({type:be}),be.\u0275inj=d.Tb({factory:function(e){return new(e||be)},imports:[[n.b,r.d,ne.b,m.a,s.e.forChild(pe)]]}),be)}}])}();