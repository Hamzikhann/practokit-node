!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var c=n[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function t(e,t,c){return t&&n(e.prototype,t),c&&n(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Bdnu:function(n,c,a){"use strict";a.d(c,"a",(function(){return r}));var s=a("fXoL"),o=a("tk/3"),i=a("EdIQ"),r=function(){var n=function(){function n(t,c){e(this,n),this.http=t,this.config=c,this.baseUrl=this.config.reqBaseUrl+"courses/"}return t(n,[{key:"getCourses",value:function(){return this.http.get(this.baseUrl,{observe:"response"})}},{key:"addCourse",value:function(e){return this.http.post(this.baseUrl,e,{observe:"response"})}},{key:"editCourse",value:function(e,n){return this.http.put(this.baseUrl+e,n,{observe:"response"})}},{key:"deleteCourse",value:function(e,n){return this.http.put(this.baseUrl+e+"/status",n,{observe:"response"})}}]),n}();return n.\u0275fac=function(e){return new(e||n)(s.jc(o.b),s.jc(i.a))},n.\u0275prov=s.Sb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},CfA1:function(n,c,a){"use strict";a.d(c,"a",(function(){return r}));var s=a("fXoL"),o=a("tk/3"),i=a("EdIQ"),r=function(){var n=function(){function n(t,c){e(this,n),this.http=t,this.config=c,this.baseUrl=this.config.reqBaseUrl+"classes/"}return t(n,[{key:"getClasses",value:function(e){return this.http.get(this.baseUrl+"course/"+e,{observe:"response"})}},{key:"addClass",value:function(e){return this.http.post(this.baseUrl,e,{observe:"response"})}},{key:"editClass",value:function(e,n){return this.http.put(this.baseUrl+e,n,{observe:"response"})}},{key:"deleteClass",value:function(e,n){return this.http.put(this.baseUrl+e+"/status",n,{observe:"response"})}}]),n}();return n.\u0275fac=function(e){return new(e||n)(s.jc(o.b),s.jc(i.a))},n.\u0275prov=s.Sb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},oSTS:function(n,c,a){"use strict";a.r(c),a.d(c,"AnnouncmentsModule",(function(){return E}));var s,o=a("ofXK"),i=a("3Pt+"),r=a("tyNb"),u=a("wd/R"),d=a("fXoL"),l=a("tk/3"),b=a("EdIQ"),m=((s=function(){function n(t,c){e(this,n),this.http=t,this.config=c,this.baseUrl=this.config.reqBaseUrl+"announcements/"}return t(n,[{key:"getAnnouncements",value:function(){return this.http.get(this.baseUrl,{observe:"response"})}},{key:"addAnnouncements",value:function(e){return this.http.post(this.baseUrl,e,{observe:"response"})}},{key:"editAnnouncements",value:function(e,n){return this.http.put(this.baseUrl+e,n,{observe:"response"})}},{key:"deleteAnnouncements",value:function(e,n){return this.http.put(this.baseUrl+e+"/status",n,{observe:"response"})}}]),n}()).\u0275fac=function(e){return new(e||s)(d.jc(l.b),d.jc(b.a))},s.\u0275prov=d.Sb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),f=a("Bdnu"),v=a("CfA1"),p=a("5eHb"),g=a("oOf3");function h(e,n){1&e&&(d.bc(0,"a",34),d.Oc(1,"Create New Announcement"),d.ac())}function I(e,n){1&e&&(d.bc(0,"th",46),d.Oc(1,"Actions"),d.ac())}function y(e,n){if(1&e){var t=d.cc();d.bc(0,"td"),d.bc(1,"a",48),d.mc("click",(function(){d.Ec(t);var e=d.pc().$implicit;return d.pc(2).onModalOpen(e)})),d.Xb(2,"i",49),d.ac(),d.bc(3,"a",50),d.mc("click",(function(){d.Ec(t);var e=d.pc().$implicit;return d.pc(2).onModalOpen(e)})),d.Xb(4,"i",51),d.ac(),d.ac()}}function k(e,n){if(1&e&&(d.bc(0,"tr"),d.bc(1,"td"),d.Oc(2),d.ac(),d.bc(3,"td"),d.Oc(4),d.ac(),d.bc(5,"td"),d.Oc(6),d.ac(),d.Mc(7,y,5,0,"td",47),d.ac()),2&e){var t=n.$implicit,c=d.pc(2);d.Ib(2),d.Pc(t.user.firstName+" "+t.user.lastName),d.Ib(2),d.Pc(t.message),d.Ib(2),d.Pc(t.created_at),d.Ib(1),d.vc("ngIf","Teacher"==c.user.role.title)}}function O(e,n){if(1&e){var t=d.cc();d.bc(0,"pagination-controls",52),d.mc("pageChange",(function(e){return d.Ec(t),d.pc(2).p=e})),d.ac()}}var M=function(e){return{itemsPerPage:10,currentPage:e}};function A(e,n){if(1&e&&(d.bc(0,"div",35),d.bc(1,"div",36),d.bc(2,"div",37),d.bc(3,"div",38),d.bc(4,"div",39),d.bc(5,"table",40),d.bc(6,"thead"),d.bc(7,"tr"),d.bc(8,"th",41),d.Oc(9,"Instructor"),d.ac(),d.bc(10,"th",42),d.Oc(11,"Message"),d.ac(),d.bc(12,"th",41),d.Oc(13,"Timestamp"),d.ac(),d.Mc(14,I,2,0,"th",43),d.ac(),d.ac(),d.bc(15,"tbody"),d.Mc(16,k,8,4,"tr",44),d.qc(17,"paginate"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Mc(18,O,1,0,"pagination-controls",45),d.ac(),d.ac()),2&e){var t=d.pc();d.Ib(14),d.vc("ngIf","Teacher"==t.user.role.title),d.Ib(2),d.vc("ngForOf",d.sc(17,3,t.announcements,d.zc(6,M,t.p))),d.Ib(2),d.vc("ngIf",t.announcements.length>10)}}function C(e,n){1&e&&(d.bc(0,"div",53),d.Xb(1,"img",54),d.bc(2,"p"),d.Oc(3,"No Announcements found"),d.ac(),d.ac())}function w(e,n){1&e&&(d.bc(0,"div",53),d.Xb(1,"img",55),d.ac())}function U(e,n){if(1&e&&(d.bc(0,"option",56),d.Oc(1),d.ac()),2&e){var t=n.$implicit;d.wc("value",t.id),d.Ib(1),d.Qc("",t.name," ")}}function S(e,n){if(1&e&&(d.bc(0,"option",56),d.Oc(1),d.ac()),2&e){var t=n.$implicit;d.wc("value",t.id),d.Ib(1),d.Qc(" ",t.title," ")}}var T,_,x=function(){return["/"]},j=[{path:"",component:(T=function(){function n(t,c,a,s){e(this,n),this.announcementService=t,this.courseService=c,this.classService=a,this.toastr=s,this.loading=!0,this.p=1,this.announcement={message:"",courseId:"",classId:""},this.selected_announcement={id:"",message:"",created_at:""},this.announcements=[],this.courses=[],this.sessions=[]}return t(n,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user")),this.getAnnouncements(),this.getCourses()}},{key:"getAnnouncements",value:function(){var e=this;this.announcementService.getAnnouncements().subscribe((function(n){e.announcements=n.body,e.announcements.forEach((function(e){e.created_at=u(e.created_at).format("MMMM DD, YYYY")})),e.loading=!1}))}},{key:"getCourses",value:function(){var e=this;this.courseService.getCourses().subscribe((function(n){e.courses=n.body}))}},{key:"getSessions",value:function(){var e=this;this.classService.getClasses(this.announcement.courseId).subscribe((function(n){e.sessions=n.body,e.sessions.forEach((function(e){var n=e.timing.split(" - ")[0],t=e.timing.split(" - ")[1];e.startTime=n.split(":")[0]>12?n.split(":")[0]-12+":"+n.split(":")[1]+" PM":n+" AM",e.endTime=t.split(":")[0]>12?t.split(":")[0]-12+":"+t.split(":")[1]+" PM":t+" AM",e.title=e.title+" ( "+e.startTime+" - "+e.endTime+" )"}))}))}},{key:"onAddAnnouncement",value:function(){var e=this;this.announcementService.addAnnouncements({message:this.announcement.message,classId:this.announcement.classId}).subscribe((function(n){e.toastr.success("Announcement created."),e.announcement={message:"",courseId:"",classId:""},e.getAnnouncements()}))}},{key:"onEditAnnouncement",value:function(){var e=this;this.announcementService.editAnnouncements(this.selected_announcement.id,{message:this.selected_announcement.message}).subscribe((function(n){e.toastr.success("Announcement Updated."),e.getAnnouncements()}))}},{key:"onDeleteAnnouncement",value:function(){var e=this;this.announcementService.deleteAnnouncements(this.selected_announcement.id,{status:"N"}).subscribe((function(n){e.toastr.success("Announcement Deleted."),e.getAnnouncements()}))}},{key:"onModalOpen",value:function(e){this.selected_announcement={id:e.id,message:e.message,created_at:e.created_by}}}]),n}(),T.\u0275fac=function(e){return new(e||T)(d.Wb(m),d.Wb(f.a),d.Wb(v.a),d.Wb(p.b))},T.\u0275cmp=d.Qb({type:T,selectors:[["app-announcements"]],decls:85,vars:16,consts:[[1,"page-content"],[1,"page-info"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],["data-toggle","modal","data-target","#newTask",1,"page-options"],["href","javascript:void(0)","class","btn btn-primary",4,"ngIf"],[1,"main-wrapper"],["class","row",4,"ngIf"],["class","placeholder",4,"ngIf"],["id","newTask","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],[1,"far","fa-bell","mr-2"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"material-icons"],[1,"modal-body"],[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","disabled","ngModelChange"],["placeholder","Add Announcement ...","maxlength","512",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"disabled","click"],["id","editTask","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","deleteTask","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"form-control"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["href","javascript:void(0)",1,"btn","btn-primary"],[1,"row"],[1,"col-lg-12"],[1,"card","card-transactions"],[1,"card-body","pt-0"],[1,"table-responsive"],[1,"table","table-striped"],["scope","col",2,"width","20%"],["scope","col"],["scope","col","width","10%",4,"ngIf"],[4,"ngFor","ngForOf"],["class","inbox-pagination",3,"pageChange",4,"ngIf"],["scope","col","width","10%"],[4,"ngIf"],["href","javascript:void(0)","data-toggle","modal","data-target","#editTask",1,"mx-2",3,"click"],[1,"fas","fa-edit","pr-2"],["href","javascript:void(0)","data-toggle","modal","data-target","#deleteTask",3,"click"],[1,"fas","fa-trash-alt"],[1,"inbox-pagination",3,"pageChange"],[1,"placeholder"],["src","assets/images/no-data.png","alt",""],["src","assets/images/loader.gif","alt",""],[3,"value"]],template:function(e,n){1&e&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"nav",2),d.bc(3,"ol",3),d.bc(4,"li",4),d.bc(5,"a",5),d.Oc(6,"Dashboard"),d.ac(),d.ac(),d.bc(7,"li",6),d.Oc(8,"Announcements"),d.ac(),d.ac(),d.ac(),d.bc(9,"div",7),d.Mc(10,h,2,0,"a",8),d.ac(),d.ac(),d.bc(11,"div",9),d.Mc(12,A,19,8,"div",10),d.Mc(13,C,4,0,"div",11),d.Mc(14,w,2,0,"div",11),d.ac(),d.ac(),d.bc(15,"div",12),d.bc(16,"div",13),d.bc(17,"div",14),d.bc(18,"div",15),d.bc(19,"h5",16),d.Xb(20,"i",17),d.Oc(21,"New Announcement "),d.ac(),d.bc(22,"button",18),d.bc(23,"i",19),d.Oc(24,"close"),d.ac(),d.ac(),d.ac(),d.bc(25,"div",20),d.bc(26,"div",21),d.bc(27,"label"),d.Oc(28,"Course"),d.ac(),d.bc(29,"select",22),d.mc("ngModelChange",(function(e){return n.announcement.courseId=e}))("ngModelChange",(function(){return n.getSessions()})),d.bc(30,"option",23),d.Oc(31,"Select"),d.ac(),d.Mc(32,U,2,2,"option",24),d.ac(),d.ac(),d.bc(33,"div",21),d.bc(34,"label"),d.Oc(35,"Class"),d.ac(),d.bc(36,"select",25),d.mc("ngModelChange",(function(e){return n.announcement.classId=e})),d.bc(37,"option",23),d.Oc(38,"Select"),d.ac(),d.Mc(39,S,2,2,"option",24),d.ac(),d.ac(),d.bc(40,"div",21),d.bc(41,"textarea",26),d.mc("ngModelChange",(function(e){return n.announcement.message=e})),d.Oc(42,"                    "),d.ac(),d.ac(),d.ac(),d.bc(43,"div",27),d.bc(44,"button",28),d.Oc(45,"Cancel"),d.ac(),d.bc(46,"button",29),d.mc("click",(function(){return n.onAddAnnouncement()})),d.Oc(47,"Add"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(48,"div",30),d.bc(49,"div",13),d.bc(50,"div",14),d.bc(51,"div",15),d.bc(52,"h5",16),d.Xb(53,"i",17),d.Oc(54,"Edit Announcement "),d.ac(),d.bc(55,"button",18),d.bc(56,"i",19),d.Oc(57,"close"),d.ac(),d.ac(),d.ac(),d.bc(58,"div",20),d.bc(59,"div",21),d.bc(60,"textarea",26),d.mc("ngModelChange",(function(e){return n.selected_announcement.message=e})),d.ac(),d.ac(),d.ac(),d.bc(61,"div",27),d.bc(62,"button",28),d.Oc(63,"Cancel"),d.ac(),d.bc(64,"button",29),d.mc("click",(function(){return n.onEditAnnouncement()})),d.Oc(65,"Update"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(66,"div",31),d.bc(67,"div",13),d.bc(68,"div",14),d.bc(69,"div",15),d.bc(70,"h5",16),d.Xb(71,"i",17),d.Oc(72,"Delete Announcement "),d.ac(),d.bc(73,"button",18),d.bc(74,"i",19),d.Oc(75,"close"),d.ac(),d.ac(),d.ac(),d.bc(76,"div",20),d.bc(77,"div",21),d.bc(78,"div",32),d.Oc(79),d.ac(),d.ac(),d.ac(),d.bc(80,"div",27),d.bc(81,"button",28),d.Oc(82,"Cancel"),d.ac(),d.bc(83,"button",33),d.mc("click",(function(){return n.onDeleteAnnouncement()})),d.Oc(84,"Delete"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&e&&(d.Ib(5),d.vc("routerLink",d.yc(15,x)),d.Ib(5),d.vc("ngIf","Teacher"==n.user.role.title),d.Ib(2),d.vc("ngIf",n.announcements.length),d.Ib(1),d.vc("ngIf",!n.announcements.length&&!n.loading),d.Ib(1),d.vc("ngIf",n.loading),d.Ib(15),d.vc("ngModel",n.announcement.courseId),d.Ib(3),d.vc("ngForOf",n.courses),d.Ib(4),d.vc("ngModel",n.announcement.classId)("disabled",!n.announcement.courseId),d.Ib(3),d.vc("ngForOf",n.sessions),d.Ib(2),d.vc("ngModel",n.announcement.message),d.Ib(5),d.vc("disabled",!n.announcement.message||!n.announcement.classId),d.Ib(14),d.vc("ngModel",n.selected_announcement.message),d.Ib(4),d.vc("disabled",!n.selected_announcement.message),d.Ib(15),d.Pc(n.selected_announcement.message))},directives:[r.d,o.n,i.q,i.i,i.l,i.m,i.s,o.m,i.b,i.e,g.c],pipes:[g.b],styles:[""]}),T)}],E=((_=function n(){e(this,n)}).\u0275mod=d.Ub({type:_}),_.\u0275inj=d.Tb({factory:function(e){return new(e||_)},imports:[[o.b,i.d,g.a,r.e.forChild(j)]]}),_)}}])}();